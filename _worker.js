import{connect}from"\u0063\u006C\u006F\u0075\u0064\u0066\u006C\u0061\u0072\u0065\u003A\u0073\u006F\u0063\u006B\u0065\u0074\u0073";var _0xg7f=(441135^441126)+(738114^738114);let userID='';_0xg7f=588017^588023;let proxyIP='';var _0x2daceg=(752744^752749)+(996306^996304);let DNS64Server='';_0x2daceg=(885915^885906)+(213537^213541);let subConverter=atob("\u0055\u0031\u0056\u0043\u0051\u0056\u0042\u004A\u004C\u006B\u004E\u004E\u0054\u0047\u006C\u0031\u0063\u0033\u004E\u007A\u0063\u0079\u0035\u0075\u005A\u0058\u0051\u003D");let subConfig=atob("\u0061\u0048\u0052\u0030\u0063\u0048\u004D\u0036\u004C\u0079\u0039\u0079\u0059\u0058\u0063\u0075\u005A\u0032\u006C\u0030\u0061\u0048\u0056\u0069\u0064\u0058\u004E\u006C\u0063\u006D\u004E\u0076\u0062\u006E\u0052\u006C\u0062\u006E\u0051\u0075\u0059\u0032\u0039\u0074\u004C\u0030\u0046\u0044\u0054\u0044\u0052\u0054\u0055\u0031\u0049\u0076\u0051\u0055\u004E\u004D\u004E\u0046\u004E\u0054\u0055\u0069\u0039\u0074\u0059\u0058\u004E\u0030\u005A\u0058\u0049\u0076\u0051\u0032\u0078\u0068\u0063\u0032\u0067\u0076\u0059\u0032\u0039\u0075\u005A\u006D\u006C\u006E\u004C\u0030\u0046\u0044\u0054\u0044\u0052\u0054\u0055\u0031\u004A\u0066\u0054\u0032\u0035\u0073\u0061\u0057\u0035\u006C\u0058\u0030\u0031\u0070\u0062\u006D\u006C\u0066\u0054\u0058\u0056\u0073\u0064\u0047\u006C\u004E\u0062\u0032\u0052\u006C\u004C\u006D\u006C\u0075\u0061\u0051\u003D\u003D");var _0x346dd;let subProtocol="sptth".split("").reverse().join("");_0x346dd=(525924^525927)+(501581^501572);var _0xaf99c;let subEmoji="\u0074\u0072\u0075\u0065";_0xaf99c=153329^153335;let socks5Address='';var _0x413d4c=(479015^479012)+(807293^807293);let parsedSocks5Address={};_0x413d4c=(229241^229242)+(827693^827692);var _0x7fbg;let enableSocks=false;_0x7fbg=(803836^803837)+(801352^801358);var _0x5bfe5c=(189165^189157)+(901360^901362);let enableHttp=false;_0x5bfe5c=681718^681713;let noTLS="\u0066\u0061\u006C\u0073\u0065";const expire=4102329600;let proxyIPs;let socks5s;let go2Socks5s=["\u002A\u0074\u0074\u0076\u006E\u0077\u002E\u006E\u0065\u0074","\u002A\u0074\u0061\u0070\u0065\u0063\u006F\u006E\u0074\u0065\u006E\u0074\u002E\u006E\u0065\u0074","\u002A\u0063\u006C\u006F\u0075\u0064\u0061\u0074\u0061\u0063\u0064\u006E\u002E\u0063\u006F\u006D","gro.erahsdaol.*".split("").reverse().join("")];var _0x9c8cea=(859335^859332)+(925887^925883);let addresses=[];_0x9c8cea=(820530^820539)+(356858^356856);let addressesapi=[];let addressesnotls=[];var _0xc5g96e=(797147^797144)+(257365^257362);let addressesnotlsapi=[];_0xc5g96e="ccdqmh".split("").reverse().join("");var _0x033ffg=(538493^538484)+(439917^439914);let addressescsv=[];_0x033ffg='\u0065\u0062\u0066\u0070\u006E\u0069';let DLS=234438^234446;let remarkIndex=304913^304912;var _0x01a6b;let FileName=atob("==Abl5mb1RXZnRWZ".split("").reverse().join(""));_0x01a6b=(181005^181003)+(790301^790299);let BotToken;let ChatID;var _0x329b=(818659^818659)+(265953^265959);let proxyhosts=[];_0x329b=(742456^742463)+(685617^685622);var _0xaf_0xbba;let proxyhostsURL=atob("\u0061\u0048\u0052\u0030\u0063\u0048\u004D\u0036\u004C\u0079\u0039\u0079\u0059\u0058\u0063\u0075\u005A\u0032\u006C\u0030\u0061\u0048\u0056\u0069\u0064\u0058\u004E\u006C\u0063\u006D\u004E\u0076\u0062\u006E\u0052\u006C\u0062\u006E\u0051\u0075\u0059\u0032\u0039\u0074\u004C\u0032\u004E\u0074\u0062\u0047\u006C\u0031\u004C\u0032\u004E\u0074\u0062\u0047\u006C\u0031\u004C\u0032\u0031\u0068\u0061\u0057\u0034\u0076\u0055\u0048\u004A\u0076\u0065\u0048\u006C\u0049\u0054\u0031\u004E\u0055");_0xaf_0xbba='\u0062\u0070\u006C\u0071\u0065\u0069';var _0x1bgc;let RproxyIP="\u0066\u0061\u006C\u0073\u0065";_0x1bgc=433622^433616;var _0xc_0xa79;const httpPorts=["\u0038\u0030\u0038\u0030","\u0038\u0038\u0038\u0030","2502".split("").reverse().join(""),"2802".split("").reverse().join(""),"\u0032\u0030\u0038\u0036","\u0032\u0030\u0039\u0035"];_0xc_0xa79="obbbig".split("").reverse().join("");var _0x725b4e=(297580^297580)+(877164^877165);let httpsPorts=["\u0032\u0030\u0035\u0033","\u0032\u0030\u0038\u0033","7802".split("").reverse().join(""),"6902".split("").reverse().join(""),"3448".split("").reverse().join("")];_0x725b4e=847997^847988;let 有效时间=225998^225993;var _0x1158g;let 更新时间=316761^316762;_0x1158g=686189^686180;var _0xb7d2ad=(236476^236476)+(999574^999583);let userIDLow;_0xb7d2ad=671611^671614;var _0x5952f;let userIDTime="";_0x5952f=(746373^746380)+(500143^500143);let proxyIPPool=[];let path="\u002F\u003F\u0065\u0064\u003D\u0032\u0035\u0036\u0030";let 动态UUID=userID;var _0x_0x197;let link=[];_0x_0x197=(107908^107907)+(195476^195479);let banHosts=[atob("\u0063\u0033\u0042\u006C\u005A\u0057\u0051\u0075\u0059\u0032\u0078\u0076\u0064\u0057\u0052\u006D\u0062\u0047\u0046\u0079\u005A\u0053\u0035\u006A\u0062\u0032\u0030\u003D")];var _0x4659f;let SCV="eurt".split("").reverse().join("");_0x4659f="ligbgh".split("").reverse().join("");let allowInsecure="1=erucesnIwolla&".split("").reverse().join("");export default{async fetch(request,env,ctx){try{const UA=request['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']['\u0067\u0065\u0074']("tnegA-resU".split("").reverse().join(""))||"\u006E\u0075\u006C\u006C";const userAgent=UA['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();userID=env['\u0055\u0055\u0049\u0044']||env['\u0075\u0075\u0069\u0064']||env['\u0050\u0041\u0053\u0053\u0057\u004F\u0052\u0044']||env['\u0070\u0073\u0077\u0064']||userID;if(env['\u004B\u0045\u0059']||env['\u0054\u004F\u004B\u0045\u004E']||userID&&!isValidUUID(userID)){动态UUID=env['\u004B\u0045\u0059']||env['\u0054\u004F\u004B\u0045\u004E']||userID;有效时间=Number(env['\u0054\u0049\u004D\u0045'])||有效时间;更新时间=Number(env['\u0055\u0050\u0054\u0049\u004D\u0045'])||更新时间;var _0xf828f=(872857^872859)+(895965^895957);const userIDs=await 生成动态UUID(动态UUID);_0xf828f=(592308^592310)+(404018^404027);userID=userIDs[428811^428811];userIDLow=userIDs[107910^107911];}else 动态UUID=userID;if(!userID){return new Response("\u8BF7\u8BBE\u7F6E\u4F60\u7684\u0055\u0055\u0049\u0044\u53D8\u91CF\uFF0C\u6216\u5C1D\u8BD5\u91CD\u8BD5\u90E8\u7F72\uFF0C\u68C0\u67E5\u53D8\u91CF\u662F\u5426\u751F\u6548\uFF1F",{'\u0073\u0074\u0061\u0074\u0075\u0073':404,'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0074\u0065\u0078\u0074\u002F\u0070\u006C\u0061\u0069\u006E\u003B\u0063\u0068\u0061\u0072\u0073\u0065\u0074\u003D\u0075\u0074\u0066\u002D\u0038"}});}var _0x29b=(921501^921503)+(272081^272083);const currentDate=new Date();_0x29b="ocdkea".split("").reverse().join("");currentDate['\u0073\u0065\u0074\u0048\u006F\u0075\u0072\u0073'](115524^115524,152882^152882,732150^732150,965119^965119);var _0xa3188f=(596069^596070)+(714764^714767);const timestamp=Math['\u0063\u0065\u0069\u006C'](currentDate['\u0067\u0065\u0074\u0054\u0069\u006D\u0065']()/(353551^354023));_0xa3188f=587961^587953;const fakeUserIDMD5=await 双重哈希(`${userID}${timestamp}`);const fakeUserID=[fakeUserIDMD5['\u0073\u006C\u0069\u0063\u0065'](644461^644461,365463^365471),fakeUserIDMD5['\u0073\u006C\u0069\u0063\u0065'](890665^890657,274190^274178),fakeUserIDMD5['\u0073\u006C\u0069\u0063\u0065'](637421^637409,272887^272871),fakeUserIDMD5['\u0073\u006C\u0069\u0063\u0065'](382057^382073,314353^314341),fakeUserIDMD5['\u0073\u006C\u0069\u0063\u0065'](300699^300687)]['\u006A\u006F\u0069\u006E']("\u002D");const fakeHostName=`${fakeUserIDMD5['\u0073\u006C\u0069\u0063\u0065'](142557^142555,487371^487362)}.${fakeUserIDMD5['\u0073\u006C\u0069\u0063\u0065'](121716^121721,106087^106100)}`;proxyIP=env['\u0050\u0052\u004F\u0058\u0059\u0049\u0050']||env['\u0070\u0072\u006F\u0078\u0079\u0069\u0070']||proxyIP;proxyIPs=await 整理(proxyIP);proxyIP=proxyIPs[Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*proxyIPs['\u006C\u0065\u006E\u0067\u0074\u0068'])];DNS64Server=env['\u0044\u004E\u0053\u0036\u0034']||env['\u004E\u0041\u0054\u0036\u0034']||DNS64Server;socks5Address=env['\u0048\u0054\u0054\u0050']||env['\u0053\u004F\u0043\u004B\u0053\u0035']||socks5Address;socks5s=await 整理(socks5Address);socks5Address=socks5s[Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*socks5s['\u006C\u0065\u006E\u0067\u0074\u0068'])];enableHttp=env['\u0048\u0054\u0054\u0050']?!![]:socks5Address['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']()['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("//:ptth".split("").reverse().join(""));socks5Address=socks5Address['\u0073\u0070\u006C\u0069\u0074']("//".split("").reverse().join(""))[323416^323417]||socks5Address;if(env['\u0047\u004F\u0032\u0053\u004F\u0043\u004B\u0053\u0035'])go2Socks5s=await 整理(env['\u0047\u004F\u0032\u0053\u004F\u0043\u004B\u0053\u0035']);if(env['\u0043\u0046\u0050\u004F\u0052\u0054\u0053'])httpsPorts=await 整理(env['\u0043\u0046\u0050\u004F\u0052\u0054\u0053']);if(env['\u0042\u0041\u004E'])banHosts=await 整理(env['\u0042\u0041\u004E']);if(socks5Address){try{parsedSocks5Address=socks5AddressParser(socks5Address);RproxyIP=env['\u0052\u0050\u0052\u004F\u0058\u0059\u0049\u0050']||"\u0066\u0061\u006C\u0073\u0065";enableSocks=!![];}catch(err){var _0x1d13af=(768693^768689)+(257557^257552);let e=err;_0x1d13af=(747697^747697)+(500875^500872);console['\u006C\u006F\u0067'](e['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']());RproxyIP=env['\u0052\u0050\u0052\u004F\u0058\u0059\u0049\u0050']||!proxyIP?"\u0074\u0072\u0075\u0065":"\u0066\u0061\u006C\u0073\u0065";enableSocks=false;}}else{RproxyIP=env['\u0052\u0050\u0052\u004F\u0058\u0059\u0049\u0050']||!proxyIP?"eurt".split("").reverse().join(""):"\u0066\u0061\u006C\u0073\u0065";}var _0xe515g;const upgradeHeader=request['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']['\u0067\u0065\u0074']("\u0055\u0070\u0067\u0072\u0061\u0064\u0065");_0xe515g=109270^109279;const url=new URL(request['\u0075\u0072\u006C']);if(!upgradeHeader||upgradeHeader!=="tekcosbew".split("").reverse().join("")){if(env['\u0041\u0044\u0044'])addresses=await 整理(env['\u0041\u0044\u0044']);if(env['\u0041\u0044\u0044\u0041\u0050\u0049'])addressesapi=await 整理(env['\u0041\u0044\u0044\u0041\u0050\u0049']);if(env['\u0041\u0044\u0044\u004E\u004F\u0054\u004C\u0053'])addressesnotls=await 整理(env['\u0041\u0044\u0044\u004E\u004F\u0054\u004C\u0053']);if(env['\u0041\u0044\u0044\u004E\u004F\u0054\u004C\u0053\u0041\u0050\u0049'])addressesnotlsapi=await 整理(env['\u0041\u0044\u0044\u004E\u004F\u0054\u004C\u0053\u0041\u0050\u0049']);if(env['\u0041\u0044\u0044\u0043\u0053\u0056'])addressescsv=await 整理(env['\u0041\u0044\u0044\u0043\u0053\u0056']);DLS=Number(env['\u0044\u004C\u0053'])||DLS;remarkIndex=Number(env['\u0043\u0053\u0056\u0052\u0045\u004D\u0041\u0052\u004B'])||remarkIndex;BotToken=env['\u0054\u0047\u0054\u004F\u004B\u0045\u004E']||BotToken;ChatID=env['\u0054\u0047\u0049\u0044']||ChatID;FileName=env['\u0053\u0055\u0042\u004E\u0041\u004D\u0045']||FileName;subEmoji=env['\u0053\u0055\u0042\u0045\u004D\u004F\u004A\u0049']||env['\u0045\u004D\u004F\u004A\u0049']||subEmoji;if(subEmoji=="\u0030")subEmoji="eslaf".split("").reverse().join("");if(env['\u004C\u0049\u004E\u004B'])link=await 整理(env['\u004C\u0049\u004E\u004B']);let sub=env['\u0053\u0055\u0042']||'';subConverter=env['\u0053\u0055\u0042\u0041\u0050\u0049']||subConverter;if(subConverter['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("//:ptth".split("").reverse().join(""))){subConverter=subConverter['\u0073\u0070\u006C\u0069\u0074']("//".split("").reverse().join(""))[650022^650023];subProtocol="ptth".split("").reverse().join("");}else{subConverter=subConverter['\u0073\u0070\u006C\u0069\u0074']("//".split("").reverse().join(""))[415728^415729]||subConverter;}subConfig=env['\u0053\u0055\u0042\u0043\u004F\u004E\u0046\u0049\u0047']||subConfig;if(url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("\u0073\u0075\u0062")&&url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("bus".split("").reverse().join(""))!=='')sub=url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("bus".split("").reverse().join(""))['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();if(url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("\u006E\u006F\u0074\u006C\u0073"))noTLS="eurt".split("").reverse().join("");if(url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("\u0070\u0072\u006F\u0078\u0079\u0069\u0070")){path=`/proxyip=${url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("piyxorp".split("").reverse().join(""))}`;RproxyIP="\u0066\u0061\u006C\u0073\u0065";}else if(url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("\u0073\u006F\u0063\u006B\u0073\u0035")){path=`/?socks5=${url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("5skcos".split("").reverse().join(""))}`;RproxyIP="\u0066\u0061\u006C\u0073\u0065";}else if(url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("skcos".split("").reverse().join(""))){path=`/?socks5=${url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("\u0073\u006F\u0063\u006B\u0073")}`;RproxyIP="eslaf".split("").reverse().join("");}SCV=env['\u0053\u0043\u0056']||SCV;if(!SCV||SCV=="\u0030"||SCV=="eslaf".split("").reverse().join(""))allowInsecure='';else SCV="eurt".split("").reverse().join("");var _0x1b4g;const 路径=url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();_0x1b4g=(172980^172988)+(552105^552109);if(路径=="\u002F"){if(env['\u0055\u0052\u004C\u0033\u0030\u0032'])return Response['\u0072\u0065\u0064\u0069\u0072\u0065\u0063\u0074'](env['\u0055\u0052\u004C\u0033\u0030\u0032'],657636^657866);else if(env['\u0055\u0052\u004C'])return await 代理URL(env['\u0055\u0052\u004C'],url);else return new Response(await nginx(),{"status":200,'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{'Content-Type':'text/html; charset=UTF-8'}});}else if(路径==`/${fakeUserID}`){var _0xeb21c;const fakeConfig=await 生成配置信息(userID,request['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']['\u0067\u0065\u0074']("tsoH".split("").reverse().join("")),sub,"\u0043\u0046\u002D\u0057\u006F\u0072\u006B\u0065\u0072\u0073\u002D\u0053\u0055\u0042",RproxyIP,url,fakeUserID,fakeHostName,env);_0xeb21c=(611986^611987)+(377743^377739);return new Response(`${fakeConfig}`,{"status":200});}else if(url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']==`/${动态UUID}/edit`||路径==`/${userID}/edit`){return await KV(request,env);}else if(url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']==`/${动态UUID}/bestip`||路径==`/${userID}/bestip`){return await bestIP(request,env);}else if(url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']==`/${动态UUID}`||路径==`/${userID}`){await sendMessage(`#获取订阅 ${FileName}`,request['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']['\u0067\u0065\u0074']("\u0043\u0046\u002D\u0043\u006F\u006E\u006E\u0065\u0063\u0074\u0069\u006E\u0067\u002D\u0049\u0050"),`UA: ${UA}</tg-spoiler>\n域名: ${url['\u0068\u006F\u0073\u0074\u006E\u0061\u006D\u0065']}\n<tg-spoiler>入口: ${url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']+url['\u0073\u0065\u0061\u0072\u0063\u0068']}</tg-spoiler>`);const 维列斯Config=await 生成配置信息(userID,request['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']['\u0067\u0065\u0074']("\u0048\u006F\u0073\u0074"),sub,UA,RproxyIP,url,fakeUserID,fakeHostName,env);var _0x2_0x0bc=(409703^409700)+(328349^328341);const now=Date['\u006E\u006F\u0077']();_0x2_0x0bc=973650^973652;const today=new Date(now);today['\u0073\u0065\u0074\u0048\u006F\u0075\u0072\u0073'](225086^225086,971191^971191,818162^818162,442568^442568);const UD=Math['\u0066\u006C\u006F\u006F\u0072']((now-today['\u0067\u0065\u0074\u0054\u0069\u006D\u0065']())/86400000*(370250^370258)*1099511627776/(457315^457313));let pagesSum=UD;var _0x16199d=(654616^654621)+(843584^843591);let workersSum=UD;_0x16199d=(695121^695122)+(240008^240001);let total=(733363^733355)*1099511627776;if(env['\u0043\u0046\u005F\u0045\u004D\u0041\u0049\u004C']&&env['\u0043\u0046\u005F\u0041\u0050\u0049\u004B\u0045\u0059']||env['\u0043\u0046\u005F\u0049\u0044']&&env['\u0043\u0046\u005F\u0041\u0050\u0049\u0054\u004F\u004B\u0045\u004E']){const usage=await getUsage(env['\u0043\u0046\u005F\u0049\u0044'],env['\u0043\u0046\u005F\u0045\u004D\u0041\u0049\u004C'],env['\u0043\u0046\u005F\u0041\u0050\u0049\u004B\u0045\u0059'],env['\u0043\u0046\u005F\u0041\u0050\u0049\u0054\u004F\u004B\u0045\u004E'],env['\u0043\u0046\u005F\u0041\u004C\u004C']);pagesSum=usage[971739^971738];workersSum=usage[428566^428564];total=env['\u0043\u0046\u005F\u0041\u004C\u004C']?Number(env['\u0043\u0046\u005F\u0041\u004C\u004C']):(383899^384923)*(844407^844307);}if(userAgent&&userAgent['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("allizom".split("").reverse().join(""))){return new Response(维列斯Config,{"status":200,'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"Content-Type":"\u0074\u0065\u0078\u0074\u002F\u0068\u0074\u006D\u006C\u003B\u0063\u0068\u0061\u0072\u0073\u0065\u0074\u003D\u0075\u0074\u0066\u002D\u0038","\u0050\u0072\u006F\u0066\u0069\u006C\u0065\u002D\u0055\u0070\u0064\u0061\u0074\u0065\u002D\u0049\u006E\u0074\u0065\u0072\u0076\u0061\u006C":"\u0036","\u0053\u0075\u0062\u0073\u0063\u0072\u0069\u0070\u0074\u0069\u006F\u006E\u002D\u0055\u0073\u0065\u0072\u0069\u006E\u0066\u006F":`upload=${pagesSum}; download=${workersSum}; total=${total}; expire=${expire}`,"\u0043\u0061\u0063\u0068\u0065\u002D\u0043\u006F\u006E\u0074\u0072\u006F\u006C":"\u006E\u006F\u002D\u0073\u0074\u006F\u0072\u0065"}});}else{return new Response(维列斯Config,{'\u0073\u0074\u0061\u0074\u0075\u0073':200,'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0044\u0069\u0073\u0070\u006F\u0073\u0069\u0074\u0069\u006F\u006E":`attachment; filename=${FileName}; filename*=utf-8''${encodeURIComponent(FileName)}`,"Profile-Update-Interval":"\u0036","\u0050\u0072\u006F\u0066\u0069\u006C\u0065\u002D\u0077\u0065\u0062\u002D\u0070\u0061\u0067\u0065\u002D\u0075\u0072\u006C":request['\u0075\u0072\u006C']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003F")?request['\u0075\u0072\u006C']['\u0073\u0070\u006C\u0069\u0074']("\u003F")[825720^825720]:request['\u0075\u0072\u006C'],"Subscription-Userinfo":`upload=${pagesSum}; download=${workersSum}; total=${total}; expire=${expire}`}});}}else{if(env['\u0055\u0052\u004C\u0033\u0030\u0032'])return Response['\u0072\u0065\u0064\u0069\u0072\u0065\u0063\u0074'](env['\u0055\u0052\u004C\u0033\u0030\u0032'],298773^298555);else if(env['\u0055\u0052\u004C'])return await 代理URL(env['\u0055\u0052\u004C'],url);else return new Response("\u4E0D\u7528\u6000\u7591\uFF01\u4F60\u0055\u0055\u0049\u0044\u5C31\u662F\u9519\u7684\uFF01\uFF01\uFF01",{'\u0073\u0074\u0061\u0074\u0075\u0073':404});}}else{socks5Address=url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("5skcos".split("").reverse().join(""))||socks5Address;if(new RegExp("\u002F\u0073\u006F\u0063\u006B\u0073\u0035\u003D","\u0069")['\u0074\u0065\u0073\u0074'](url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']))socks5Address=url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']['\u0073\u0070\u006C\u0069\u0074']("=5".split("").reverse().join(""))[738953^738952];else if(new RegExp("//:skcos/".split("").reverse().join(""),"\u0069")['\u0074\u0065\u0073\u0074'](url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065'])||new RegExp("//:5skcos/".split("").reverse().join(""),"\u0069")['\u0074\u0065\u0073\u0074'](url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065'])||new RegExp("//:ptth/".split("").reverse().join(""),"\u0069")['\u0074\u0065\u0073\u0074'](url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065'])){enableHttp=url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0068\u0074\u0074\u0070\u003A\u002F\u002F");socks5Address=url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']['\u0073\u0070\u006C\u0069\u0074']("\u003A\u002F\u002F")[138288^138289]['\u0073\u0070\u006C\u0069\u0074']("\u0023")[615802^615802];if(socks5Address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0040")){const lastAtIndex=socks5Address['\u006C\u0061\u0073\u0074\u0049\u006E\u0064\u0065\u0078\u004F\u0066']("\u0040");var _0x3_0x472=(282061^282056)+(329224^329225);let userPassword=socks5Address['\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006E\u0067'](889878^889878,lastAtIndex)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065\u0041\u006C\u006C']("\u0025\u0033\u0044","\u003D");_0x3_0x472=(453789^453790)+(476330^476333);var _0x4_0x917;const base64Regex=new RegExp('\u005E\u0028\u003F\u003A\u005B\u0041\u002D\u005A\u0030\u002D\u0039\u002B\u002F\u005D\u007B\u0034\u007D\u0029\u002A\u0028\u003F\u003A\u005B\u0041\u002D\u005A\u0030\u002D\u0039\u002B\u002F\u005D\u007B\u0032\u007D\u003D\u003D\u007C\u005B\u0041\u002D\u005A\u0030\u002D\u0039\u002B\u002F\u005D\u007B\u0033\u007D\u003D\u0029\u003F\u0024','\u0069');_0x4_0x917=(135590^135591)+(693736^693740);if(base64Regex['\u0074\u0065\u0073\u0074'](userPassword)&&!userPassword['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A"))userPassword=atob(userPassword);socks5Address=`${userPassword}@${socks5Address['\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006E\u0067'](lastAtIndex+(738416^738417))}`;}go2Socks5s=["\u0061\u006C\u006C\u0020\u0069\u006E"];}if(socks5Address){try{parsedSocks5Address=socks5AddressParser(socks5Address);enableSocks=!![];}catch(err){var _0x5_0x71e;let e=err;_0x5_0x71e=194380^194376;console['\u006C\u006F\u0067'](e['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']());enableSocks=false;}}else{enableSocks=false;}if(url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("\u0070\u0072\u006F\u0078\u0079\u0069\u0070")){proxyIP=url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("\u0070\u0072\u006F\u0078\u0079\u0069\u0070");enableSocks=false;}else if(new RegExp("\u002F\u0070\u0072\u006F\u0078\u0079\u0069\u0070\u003D","\u0069")['\u0074\u0065\u0073\u0074'](url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065'])){proxyIP=url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']()['\u0073\u0070\u006C\u0069\u0074']("\u002F\u0070\u0072\u006F\u0078\u0079\u0069\u0070\u003D")[921295^921294];enableSocks=false;}else if(new RegExp("\u002F\u0070\u0072\u006F\u0078\u0079\u0069\u0070\u002E","\u0069")['\u0074\u0065\u0073\u0074'](url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065'])){proxyIP=`proxyip.${url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']()['\u0073\u0070\u006C\u0069\u0074'](".piyxorp/".split("").reverse().join(""))[762588^762589]}`;enableSocks=false;}else if(new RegExp("\u002F\u0070\u0079\u0069\u0070\u003D","\u0069")['\u0074\u0065\u0073\u0074'](url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065'])){proxyIP=url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']()['\u0073\u0070\u006C\u0069\u0074']("\u002F\u0070\u0079\u0069\u0070\u003D")[827207^827206];enableSocks=false;}return await 维列斯OverWSHandler(request);}}catch(err){var _0x25cfbg;let e=err;_0x25cfbg=(270298^270290)+(207132^207128);return new Response(e['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']());}}};async function 维列斯OverWSHandler(request,_0x54dae,_0x7da5df){const _0x0g255d=new WebSocketPair();const[client,webSocket]=Object['\u0076\u0061\u006C\u0075\u0065\u0073'](_0x0g255d);webSocket['\u0061\u0063\u0063\u0065\u0070\u0074']();_0x54dae='';var _0x4d13e=(773290^773282)+(441326^441325);_0x7da5df='';_0x4d13e="malqnc".split("").reverse().join("");var _0x8c9dbg=(456390^456389)+(321997^321988);const _0x83d8c=(info,event)=>{console['\u006C\u006F\u0067'](`[${_0x54dae}:${_0x7da5df}] ${info}`,event||'');};_0x8c9dbg=(185583^185575)+(784577^784583);const _0x1b42ag=request['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']['\u0067\u0065\u0074']("\u0073\u0065\u0063\u002D\u0077\u0065\u0062\u0073\u006F\u0063\u006B\u0065\u0074\u002D\u0070\u0072\u006F\u0074\u006F\u0063\u006F\u006C")||'';const _0xf4a2ed=makeReadableWebSocketStream(webSocket,_0x1b42ag,_0x83d8c);var _0x5145bb=(974927^974919)+(891930^891930);let _0xgd_0xc67={"value":null};_0x5145bb=(231478^231479)+(541621^541619);var _0x5dfc9g=(957846^957844)+(851689^851681);let _0x6b_0x5b3=null;_0x5dfc9g='\u006D\u0067\u006E\u006B\u0068\u0064';var _0x469fa;let _0x2e2b=false;_0x469fa=569406^569402;_0xf4a2ed['\u0070\u0069\u0070\u0065\u0054\u006F'](new WritableStream({async write(chunk,controller){if(_0x2e2b&&_0x6b_0x5b3){return _0x6b_0x5b3(chunk);}if(_0xgd_0xc67['\u0076\u0061\u006C\u0075\u0065']){var _0xcc87f=(353786^353787)+(693761^693765);const _0x19f2be=_0xgd_0xc67['\u0076\u0061\u006C\u0075\u0065']['\u0077\u0072\u0069\u0074\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0057\u0072\u0069\u0074\u0065\u0072']();_0xcc87f='\u0068\u0069\u0070\u0063\u0064\u0064';await _0x19f2be['\u0077\u0072\u0069\u0074\u0065'](chunk);_0x19f2be['\u0072\u0065\u006C\u0065\u0061\u0073\u0065\u004C\u006F\u0063\u006B']();return;}const{'\u0068\u0061\u0073\u0045\u0072\u0072\u006F\u0072':hasError,'\u006D\u0065\u0073\u0073\u0061\u0067\u0065':message,'\u0061\u0064\u0064\u0072\u0065\u0073\u0073\u0054\u0079\u0070\u0065':addressType,'\u0070\u006F\u0072\u0074\u0052\u0065\u006D\u006F\u0074\u0065':portRemote=139217^138858,'\u0061\u0064\u0064\u0072\u0065\u0073\u0073\u0052\u0065\u006D\u006F\u0074\u0065':addressRemote='',"rawDataIndex":rawDataIndex,"\u7EF4\u5217\u65AFVersion":维列斯Version=new Uint8Array([934603^934603,893233^893233]),'\u0069\u0073\u0055\u0044\u0050':isUDP}=process维列斯Header(chunk,userID);_0x54dae=addressRemote;_0x7da5df=`${portRemote}--${Math['\u0072\u0061\u006E\u0064\u006F\u006D']()} ${isUDP?"\u0075\u0064\u0070\u0020":"\u0074\u0063\u0070\u0020"} `;if(hasError){throw new Error(message);return;}if(isUDP){if(portRemote===(502430^502443)){_0x2e2b=!![];}else{throw new Error("\u7528\u542F\uFF09\u53E3\u7AEF 35\uFF08SND \u5BF9\u4EC5\u7406\u4EE3 PDU".split("").reverse().join(""));return;}}const _0x22a64c=new Uint8Array([维列斯Version[667355^667355],802413^802413]);const _0xd29c=chunk['\u0073\u006C\u0069\u0063\u0065'](rawDataIndex);if(_0x2e2b){const{"write":write}=await handleUDPOutBound(webSocket,_0x22a64c,_0x83d8c);_0x6b_0x5b3=write;_0x6b_0x5b3(_0xd29c);return;}if(!banHosts['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](addressRemote)){_0x83d8c(`处理 TCP 出站连接 ${addressRemote}:${portRemote}`);handleTCPOutBound(_0xgd_0xc67,addressType,addressRemote,portRemote,_0xd29c,webSocket,_0x22a64c,_0x83d8c);}else{throw new Error(`黑名单关闭 TCP 出站连接 ${addressRemote}:${portRemote}`);}},close(){_0x83d8c(`readableWebSocketStream 已关闭`);},abort(reason){_0x83d8c(`readableWebSocketStream 已中止`,JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079'](reason));}}))['\u0063\u0061\u0074\u0063\u0068'](err=>{_0x83d8c("\u8BEF\u9519\u9053\u7BA1 maertStekcoSbeWelbadaer".split("").reverse().join(""),err);});return new Response(null,{"status":101,'\u0077\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074':client});}async function handleTCPOutBound(remoteSocket,addressType,addressRemote,portRemote,rawClientData,webSocket,维列斯ResponseHeader,log){async function _0x9659e(address){if(go2Socks5s['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](atob("\u0059\u0057\u0078\u0073\u0049\u0047\u006C\u0075"))||go2Socks5s['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](atob("==gK".split("").reverse().join(""))))return!![];return go2Socks5s['\u0073\u006F\u006D\u0065'](pattern=>{let _0xg98a1e=pattern['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("*\\".split("").reverse().join(""),'\u0067'),"\u002E\u002A");var _0x71da=(955652^955649)+(696336^696337);let _0x179a=new RegExp(`^${_0xg98a1e}$`,"\u0069");_0x71da="cmeeme".split("").reverse().join("");return _0x179a['\u0074\u0065\u0073\u0074'](address);});}async function _0x30d(address,port,socks=false,http=false){log(`connected to ${address}:${port}`);var _0xef_0x94e=(648143^648139)+(776305^776308);const _0x18ga3c=socks?http?await httpConnect(address,port,log):await socks5Connect(addressType,address,port,log):connect({'\u0068\u006F\u0073\u0074\u006E\u0061\u006D\u0065':address,"port":port});_0xef_0x94e=(770098^770101)+(127212^127204);remoteSocket['\u0076\u0061\u006C\u0075\u0065']=_0x18ga3c;var _0x0f4e=(774278^774277)+(722149^722156);const _0x45b=_0x18ga3c['\u0077\u0072\u0069\u0074\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0057\u0072\u0069\u0074\u0065\u0072']();_0x0f4e=(540914^540912)+(283430^283424);await _0x45b['\u0077\u0072\u0069\u0074\u0065'](rawClientData);_0x45b['\u0072\u0065\u006C\u0065\u0061\u0073\u0065\u004C\u006F\u0063\u006B']();return _0x18ga3c;}async function _0x414bb(){if(!_0xf783e){var _0xea_0x43d=(504364^504365)+(512543^512543);const _0x7aa05a=`[${await resolveToIPv6(addressRemote)}]`;_0xea_0x43d=764262^764257;log(`NAT64 代理连接到 ${_0x7aa05a}:443`);tcpSocket=await _0x30d(_0x7aa05a,291732^291375);}tcpSocket['\u0063\u006C\u006F\u0073\u0065\u0064']['\u0063\u0061\u0074\u0063\u0068'](error=>{console['\u006C\u006F\u0067']("\u0072\u0065\u0074\u0072\u0079\u0020\u0074\u0063\u0070\u0053\u006F\u0063\u006B\u0065\u0074\u0020\u0063\u006C\u006F\u0073\u0065\u0064\u0020\u0065\u0072\u0072\u006F\u0072",error);})['\u0066\u0069\u006E\u0061\u006C\u006C\u0079'](()=>{safeCloseWebSocket(webSocket);});remoteSocketToWS(tcpSocket,webSocket,维列斯ResponseHeader,null,log);}async function _0xe39gcf(){if(enableSocks){tcpSocket=await _0x30d(addressRemote,portRemote,!![],enableHttp);}else{if(!proxyIP||proxyIP==''){proxyIP=atob("\u0055\u0046\u004A\u0050\u0057\u0046\u006C\u004A\u0055\u0043\u0035\u0030\u0063\u0044\u0045\u0075\u004D\u0044\u006B\u0077\u004D\u006A\u0049\u0033\u004C\u006E\u0068\u0035\u0065\u0067\u003D\u003D");}else if(proxyIP['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](":]".split("").reverse().join(""))){portRemote=proxyIP['\u0073\u0070\u006C\u0069\u0074']("\u005D\u003A")[188783^188782]||portRemote;proxyIP=proxyIP['\u0073\u0070\u006C\u0069\u0074']("\u005D\u003A")[546681^546681]+"\u005D"||proxyIP;}else if(proxyIP['\u0073\u0070\u006C\u0069\u0074']("\u003A")['\u006C\u0065\u006E\u0067\u0074\u0068']===(626497^626499)){portRemote=proxyIP['\u0073\u0070\u006C\u0069\u0074']("\u003A")[556405^556404]||portRemote;proxyIP=proxyIP['\u0073\u0070\u006C\u0069\u0074']("\u003A")[284103^284103]||proxyIP;}if(proxyIP['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("pt.".split("").reverse().join("")))portRemote=proxyIP['\u0073\u0070\u006C\u0069\u0074']("pt.".split("").reverse().join(""))[720360^720361]['\u0073\u0070\u006C\u0069\u0074']("\u002E")[522721^522721]||portRemote;tcpSocket=await _0x30d(proxyIP['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']()||addressRemote,portRemote);}remoteSocketToWS(tcpSocket,webSocket,维列斯ResponseHeader,_0x414bb,log);}let _0xf783e=false;if(go2Socks5s['\u006C\u0065\u006E\u0067\u0074\u0068']>(287515^287515)&&enableSocks)_0xf783e=await _0x9659e(addressRemote);var _0x7f0bgd=(794807^794803)+(116579^116576);let tcpSocket=await _0x30d(addressRemote,portRemote,_0xf783e,enableHttp);_0x7f0bgd=(127425^127430)+(841153^841157);remoteSocketToWS(tcpSocket,webSocket,维列斯ResponseHeader,_0xe39gcf,log);}function makeReadableWebSocketStream(webSocketServer,earlyDataHeader,log){var _0x451ae=(475586^475590)+(669899^669891);let _0xb63bg=false;_0x451ae=(296949^296944)+(669486^669484);const _0xbf3=new ReadableStream({start(controller){webSocketServer['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u006D\u0065\u0073\u0073\u0061\u0067\u0065",event=>{if(_0xb63bg){return;}var _0xbeff6a=(567054^567046)+(998146^998146);const _0xd621c=event['\u0064\u0061\u0074\u0061'];_0xbeff6a=(697823^697817)+(139348^139346);controller['\u0065\u006E\u0071\u0075\u0065\u0075\u0065'](_0xd621c);});webSocketServer['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("esolc".split("").reverse().join(""),()=>{safeCloseWebSocket(webSocketServer);if(_0xb63bg){return;}controller['\u0063\u006C\u006F\u0073\u0065']();});webSocketServer['\u0061\u0064\u0064\u0045\u0076\u0065\u006E\u0074\u004C\u0069\u0073\u0074\u0065\u006E\u0065\u0072']("\u0065\u0072\u0072\u006F\u0072",err=>{log("\u8BEF\u9519\u751F\u53D1\u5668\u52A1\u670D tekcoSbeW".split("").reverse().join(""));controller['\u0065\u0072\u0072\u006F\u0072'](err);});const{"earlyData":earlyData,'\u0065\u0072\u0072\u006F\u0072':error}=base64ToArrayBuffer(earlyDataHeader);if(error){controller['\u0065\u0072\u0072\u006F\u0072'](error);}else if(earlyData){controller['\u0065\u006E\u0071\u0075\u0065\u0075\u0065'](earlyData);}},pull(controller){},cancel(reason){if(_0xb63bg){return;}log(`可读流被取消，原因是 ${reason}`);_0xb63bg=!![];safeCloseWebSocket(webSocketServer);}});return _0xbf3;}function process维列斯Header(维列斯Buffer,userID,_0x1d_0x3ae,_0x6d2){if(维列斯Buffer['\u0062\u0079\u0074\u0065\u004C\u0065\u006E\u0067\u0074\u0068']<(424177^424169)){return{'\u0068\u0061\u0073\u0045\u0072\u0072\u006F\u0072':!![],'\u006D\u0065\u0073\u0073\u0061\u0067\u0065':"\u0069\u006E\u0076\u0061\u006C\u0069\u0064\u0020\u0064\u0061\u0074\u0061"};}const _0xa52fea=new Uint8Array(维列斯Buffer['\u0073\u006C\u0069\u0063\u0065'](510751^510751,515930^515931));let _0x575g5d=false;let _0x58cfa=false;function _0x8b72ge(userID,userIDLow,buffer){const _0x99fabd=new Uint8Array(buffer['\u0073\u006C\u0069\u0063\u0065'](303579^303578,745974^745959));const _0x4cc7b=stringify(_0x99fabd);return _0x4cc7b===userID||_0x4cc7b===userIDLow;}_0x575g5d=_0x8b72ge(userID,userIDLow,维列斯Buffer);if(!_0x575g5d){return{'\u0068\u0061\u0073\u0045\u0072\u0072\u006F\u0072':!![],"message":`invalid user ${new Uint8Array(维列斯Buffer['\u0073\u006C\u0069\u0063\u0065'](310125^310124,697897^697912))}`};}var _0x5442a=(369154^369154)+(790829^790828);const _0xcc05e=new Uint8Array(维列斯Buffer['\u0073\u006C\u0069\u0063\u0065'](993201^993184,299062^299044))[486371^486371];_0x5442a="fmkqpb".split("").reverse().join("");const _0xdd9e=new Uint8Array(维列斯Buffer['\u0073\u006C\u0069\u0063\u0065']((144690^144672)+_0xcc05e,(324926^324908)+_0xcc05e+(598427^598426)))[988293^988293];if(_0xdd9e===(605976^605977)){}else if(_0xdd9e===(912898^912896)){_0x58cfa=!![];}else{return{'\u0068\u0061\u0073\u0045\u0072\u0072\u006F\u0072':!![],'\u006D\u0065\u0073\u0073\u0061\u0067\u0065':`command ${_0xdd9e} is not support, command 01-tcp,02-udp,03-mux`};}const _0x94gg2a=(906643^906625)+_0xcc05e+(250611^250610);var _0x5e1b9c=(952236^952239)+(776144^776144);const _0x6cdb3b=维列斯Buffer['\u0073\u006C\u0069\u0063\u0065'](_0x94gg2a,_0x94gg2a+(284934^284932));_0x5e1b9c=(283486^283482)+(503857^503856);var _0x98175c;const _0x2d45e=new DataView(_0x6cdb3b)['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](189865^189865);_0x98175c=(842827^842824)+(755600^755605);let _0x6996bc=_0x94gg2a+(666890^666888);const _0x5b7dfe=new Uint8Array(维列斯Buffer['\u0073\u006C\u0069\u0063\u0065'](_0x6996bc,_0x6996bc+(975089^975088)));const _0x93eedd=_0x5b7dfe[511582^511582];_0x1d_0x3ae=867204^867204;var _0x16f6b=(624499^624496)+(415489^415494);let _0x8a6cc=_0x6996bc+(450791^450790);_0x16f6b='\u006A\u0071\u0063\u006A\u0071\u006F';var _0x8568d=(889075^889078)+(424742^424737);_0x6d2='';_0x8568d=(369182^369179)+(323791^323789);switch(_0x93eedd){case 247892^247893:_0x1d_0x3ae=992513^992517;_0x6d2=new Uint8Array(维列斯Buffer['\u0073\u006C\u0069\u0063\u0065'](_0x8a6cc,_0x8a6cc+_0x1d_0x3ae))['\u006A\u006F\u0069\u006E']("\u002E");break;case 494592^494594:_0x1d_0x3ae=new Uint8Array(维列斯Buffer['\u0073\u006C\u0069\u0063\u0065'](_0x8a6cc,_0x8a6cc+(116174^116175)))[703604^703604];_0x8a6cc+=422878^422879;_0x6d2=new TextDecoder()['\u0064\u0065\u0063\u006F\u0064\u0065'](维列斯Buffer['\u0073\u006C\u0069\u0063\u0065'](_0x8a6cc,_0x8a6cc+_0x1d_0x3ae));break;case 968843^968840:_0x1d_0x3ae=448170^448186;var _0x6_0x167=(369213^369209)+(118966^118964);const _0xag48bd=new DataView(维列斯Buffer['\u0073\u006C\u0069\u0063\u0065'](_0x8a6cc,_0x8a6cc+_0x1d_0x3ae));_0x6_0x167=865966^865959;var _0x83eeed=(746353^746361)+(489607^489604);const _0x69728c=[];_0x83eeed="ielcdk".split("").reverse().join("");for(let i=328436^328436;i<(640960^640968);i++){_0x69728c['\u0070\u0075\u0073\u0068'](_0xag48bd['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](i*(113132^113134))['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](723771^723755));}_0x6d2=_0x69728c['\u006A\u006F\u0069\u006E']("\u003A");break;default:return{'\u0068\u0061\u0073\u0045\u0072\u0072\u006F\u0072':!![],"message":`invild addressType is ${_0x93eedd}`};}if(!_0x6d2){return{"hasError":!![],"message":`addressValue is empty, addressType is ${_0x93eedd}`};}return{"hasError":false,'\u0061\u0064\u0064\u0072\u0065\u0073\u0073\u0052\u0065\u006D\u006F\u0074\u0065':_0x6d2,'\u0061\u0064\u0064\u0072\u0065\u0073\u0073\u0054\u0079\u0070\u0065':_0x93eedd,'\u0070\u006F\u0072\u0074\u0052\u0065\u006D\u006F\u0074\u0065':_0x2d45e,"rawDataIndex":_0x8a6cc+_0x1d_0x3ae,"\u7EF4\u5217\u65AFVersion":_0xa52fea,'\u0069\u0073\u0055\u0044\u0050':_0x58cfa};}async function remoteSocketToWS(remoteSocket,webSocket,维列斯ResponseHeader,retry,log,_0xce_0xe91){_0xce_0xe91=381638^381638;let _0xbd76db=[];let _0x56d0dg=维列斯ResponseHeader;var _0xfeaf9c;let _0xcf08f=false;_0xfeaf9c="clcfpn".split("").reverse().join("");await remoteSocket['\u0072\u0065\u0061\u0064\u0061\u0062\u006C\u0065']['\u0070\u0069\u0070\u0065\u0054\u006F'](new WritableStream({start(){},async write(chunk,controller){_0xcf08f=!![];if(webSocket['\u0072\u0065\u0061\u0064\u0079\u0053\u0074\u0061\u0074\u0065']!==WS_READY_STATE_OPEN){controller['\u0065\u0072\u0072\u006F\u0072']("esolc ebyam ,nepo ton si etatSydaer.tekcoSbew".split("").reverse().join(""));}if(_0x56d0dg){webSocket['\u0073\u0065\u006E\u0064'](await new Blob([_0x56d0dg,chunk])['\u0061\u0072\u0072\u0061\u0079\u0042\u0075\u0066\u0066\u0065\u0072']());_0x56d0dg=null;}else{webSocket['\u0073\u0065\u006E\u0064'](chunk);}},close(){log(`remoteConnection!.readable is close with hasIncomingData is ${_0xcf08f}`);},abort(reason){console['\u0065\u0072\u0072\u006F\u0072'](`remoteConnection!.readable abort`,reason);}}))['\u0063\u0061\u0074\u0063\u0068'](error=>{console['\u0065\u0072\u0072\u006F\u0072'](`remoteSocketToWS has exception `,error['\u0073\u0074\u0061\u0063\u006B']||error);safeCloseWebSocket(webSocket);});if(_0xcf08f===false&&retry){log(`retry`);retry();}}function base64ToArrayBuffer(base64Str){if(!base64Str){return{'\u0065\u0061\u0072\u006C\u0079\u0044\u0061\u0074\u0061':undefined,'\u0065\u0072\u0072\u006F\u0072':null};}try{base64Str=base64Str['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002D','\u0067'),"\u002B")['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u005F','\u0067'),"\u002F");var _0x7442d;const _0x8ca=atob(base64Str);_0x7442d=179624^179616;var _0xaeg=(175155^175158)+(893377^893385);const _0x9ba4b=Uint8Array['\u0066\u0072\u006F\u006D'](_0x8ca,c=>c['\u0063\u0068\u0061\u0072\u0043\u006F\u0064\u0065\u0041\u0074'](805123^805123));_0xaeg=698001^698005;return{'\u0065\u0061\u0072\u006C\u0079\u0044\u0061\u0074\u0061':_0x9ba4b['\u0062\u0075\u0066\u0066\u0065\u0072'],'\u0065\u0072\u0072\u006F\u0072':null};}catch(error){return{'\u0065\u0061\u0072\u006C\u0079\u0044\u0061\u0074\u0061':undefined,"error":error};}}function isValidUUID(uuid){const _0xf757a=new RegExp('\u005E\u005B\u0030\u002D\u0039\u0061\u002D\u0066\u005D\u007B\u0038\u007D\u002D\u005B\u0030\u002D\u0039\u0061\u002D\u0066\u005D\u007B\u0034\u007D\u002D\u005B\u0034\u005D\u005B\u0030\u002D\u0039\u0061\u002D\u0066\u005D\u007B\u0033\u007D\u002D\u005B\u0038\u0039\u0061\u0062\u005D\u005B\u0030\u002D\u0039\u0061\u002D\u0066\u005D\u007B\u0033\u007D\u002D\u005B\u0030\u002D\u0039\u0061\u002D\u0066\u005D\u007B\u0031\u0032\u007D\u0024','\u0069');return _0xf757a['\u0074\u0065\u0073\u0074'](uuid);}const WS_READY_STATE_OPEN=382278^382279;const WS_READY_STATE_CLOSING=685614^685612;function safeCloseWebSocket(socket){try{if(socket['\u0072\u0065\u0061\u0064\u0079\u0053\u0074\u0061\u0074\u0065']===WS_READY_STATE_OPEN||socket['\u0072\u0065\u0061\u0064\u0079\u0053\u0074\u0061\u0074\u0065']===WS_READY_STATE_CLOSING){socket['\u0063\u006C\u006F\u0073\u0065']();}}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u0073\u0061\u0066\u0065\u0043\u006C\u006F\u0073\u0065\u0057\u0065\u0062\u0053\u006F\u0063\u006B\u0065\u0074\u0020\u0065\u0072\u0072\u006F\u0072",error);}}var _0xf9fb=(621096^621096)+(480789^480796);const byteToHex=[];_0xf9fb="pmnhgg".split("").reverse().join("");for(let i=944507^944507;i<(341483^341227);++i){byteToHex['\u0070\u0075\u0073\u0068']((i+(515700^515956))['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](258497^258513)['\u0073\u006C\u0069\u0063\u0065'](894914^894915));}function unsafeStringify(arr,offset=970502^970502){return(byteToHex[arr[offset+(506465^506465)]]+byteToHex[arr[offset+(343793^343792)]]+byteToHex[arr[offset+(869118^869116)]]+byteToHex[arr[offset+(457947^457944)]]+"\u002D"+byteToHex[arr[offset+(562766^562762)]]+byteToHex[arr[offset+(644410^644415)]]+"\u002D"+byteToHex[arr[offset+(647423^647417)]]+byteToHex[arr[offset+(846868^846867)]]+"\u002D"+byteToHex[arr[offset+(297028^297036)]]+byteToHex[arr[offset+(821486^821479)]]+"\u002D"+byteToHex[arr[offset+(986076^986070)]]+byteToHex[arr[offset+(272428^272423)]]+byteToHex[arr[offset+(639136^639148)]]+byteToHex[arr[offset+(567289^567284)]]+byteToHex[arr[offset+(296484^296490)]]+byteToHex[arr[offset+(715235^715244)]])['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();}function stringify(arr,offset=292454^292454){var _0xa394d;const _0xb6e=unsafeStringify(arr,offset);_0xa394d=(741860^741863)+(800834^800838);if(!isValidUUID(_0xb6e)){throw TypeError(`生成的 UUID 不符合规范 ${_0xb6e}`);}return _0xb6e;}async function handleUDPOutBound(webSocket,维列斯ResponseHeader,log){var _0xe19ced;let _0xdggaa=false;_0xe19ced='\u0068\u0065\u0066\u006E\u0067\u0065';const _0x7c625f=new TransformStream({start(controller){},transform(chunk,controller){for(let _0xe8e=279009^279009;_0xe8e<chunk['\u0062\u0079\u0074\u0065\u004C\u0065\u006E\u0067\u0074\u0068'];){const _0x8278gd=chunk['\u0073\u006C\u0069\u0063\u0065'](_0xe8e,_0xe8e+(682159^682157));const _0x269bd=new DataView(_0x8278gd)['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](851052^851052);const _0x999b=new Uint8Array(chunk['\u0073\u006C\u0069\u0063\u0065'](_0xe8e+(656272^656274),_0xe8e+(727330^727328)+_0x269bd));_0xe8e=_0xe8e+(440170^440168)+_0x269bd;controller['\u0065\u006E\u0071\u0075\u0065\u0075\u0065'](_0x999b);}},flush(controller){}});_0x7c625f['\u0072\u0065\u0061\u0064\u0061\u0062\u006C\u0065']['\u0070\u0069\u0070\u0065\u0054\u006F'](new WritableStream({async write(chunk){const _0xb51d=await fetch("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0031\u002E\u0031\u002E\u0031\u002E\u0031\u002F\u0064\u006E\u0073\u002D\u0071\u0075\u0065\u0072\u0079",{'\u006D\u0065\u0074\u0068\u006F\u0064':"\u0050\u004F\u0053\u0054","headers":{"\u0063\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0074\u0079\u0070\u0065":'application/dns-message'},'\u0062\u006F\u0064\u0079':chunk});var _0xe_0x33b=(352452^352450)+(162320^162327);const _0xae3a=await _0xb51d['\u0061\u0072\u0072\u0061\u0079\u0042\u0075\u0066\u0066\u0065\u0072']();_0xe_0x33b=(954211^954210)+(426136^426137);const _0x7cbce=_0xae3a['\u0062\u0079\u0074\u0065\u004C\u0065\u006E\u0067\u0074\u0068'];var _0x85f=(356838^356835)+(545778^545776);const _0x9a_0x53c=new Uint8Array([_0x7cbce>>(915519^915511)&(711678^711425),_0x7cbce&(464657^464878)]);_0x85f=(201342^201341)+(376542^376537);if(webSocket['\u0072\u0065\u0061\u0064\u0079\u0053\u0074\u0061\u0074\u0065']===WS_READY_STATE_OPEN){log(`doh success and dns message length is ${_0x7cbce}`);if(_0xdggaa){webSocket['\u0073\u0065\u006E\u0064'](await new Blob([_0x9a_0x53c,_0xae3a])['\u0061\u0072\u0072\u0061\u0079\u0042\u0075\u0066\u0066\u0065\u0072']());}else{webSocket['\u0073\u0065\u006E\u0064'](await new Blob([维列斯ResponseHeader,_0x9a_0x53c,_0xae3a])['\u0061\u0072\u0072\u0061\u0079\u0042\u0075\u0066\u0066\u0065\u0072']());_0xdggaa=!![];}}}}))['\u0063\u0061\u0074\u0063\u0068'](error=>{log("\u0064\u006E\u0073\u0020\u0075\u0064\u0070\u0020\u0068\u0061\u0073\u0020\u0065\u0072\u0072\u006F\u0072"+error);});var _0x11c41b=(431254^431252)+(686660^686662);const _0x84eb6b=_0x7c625f['\u0077\u0072\u0069\u0074\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0057\u0072\u0069\u0074\u0065\u0072']();_0x11c41b='\u0069\u006C\u0070\u006F\u0068\u006B';return{write(chunk){_0x84eb6b['\u0077\u0072\u0069\u0074\u0065'](chunk);}};}async function handleDNSQuery(udpChunk,webSocket,维列斯ResponseHeader,log){try{var _0xc1c;const _0x64c2d="\u0038\u002E\u0038\u002E\u0034\u002E\u0034";_0xc1c=748763^748767;var _0xbf_0x3ae=(803896^803899)+(857920^857920);const _0x7d5g=215466^215455;_0xbf_0x3ae=(211096^211088)+(236392^236392);let _0x3f_0x47b=维列斯ResponseHeader;var _0xd98eff;const _0x7da38f=connect({'\u0068\u006F\u0073\u0074\u006E\u0061\u006D\u0065':_0x64c2d,'\u0070\u006F\u0072\u0074':_0x7d5g});_0xd98eff=(492869^492877)+(912033^912037);log(`连接到 ${_0x64c2d}:${_0x7d5g}`);var _0x9c2f=(781187^781189)+(661085^661084);const _0xa305c=_0x7da38f['\u0077\u0072\u0069\u0074\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0057\u0072\u0069\u0074\u0065\u0072']();_0x9c2f=(429841^429840)+(633776^633785);await _0xa305c['\u0077\u0072\u0069\u0074\u0065'](udpChunk);_0xa305c['\u0072\u0065\u006C\u0065\u0061\u0073\u0065\u004C\u006F\u0063\u006B']();await _0x7da38f['\u0072\u0065\u0061\u0064\u0061\u0062\u006C\u0065']['\u0070\u0069\u0070\u0065\u0054\u006F'](new WritableStream({async write(chunk){if(webSocket['\u0072\u0065\u0061\u0064\u0079\u0053\u0074\u0061\u0074\u0065']===WS_READY_STATE_OPEN){if(_0x3f_0x47b){webSocket['\u0073\u0065\u006E\u0064'](await new Blob([_0x3f_0x47b,chunk])['\u0061\u0072\u0072\u0061\u0079\u0042\u0075\u0066\u0066\u0065\u0072']());_0x3f_0x47b=null;}else{webSocket['\u0073\u0065\u006E\u0064'](chunk);}}},close(){log(`DNS 服务器(${_0x64c2d}) TCP 连接已关闭`);},abort(reason){console['\u0065\u0072\u0072\u006F\u0072'](`DNS 服务器(${_0x64c2d}) TCP 连接异常中断`,reason);}}));}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](`handleDNSQuery 函数发生异常，错误信息: ${error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}`);}}async function socks5Connect(addressType,addressRemote,portRemote,log,_0xc96g){const{"username":username,'\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064':password,'\u0068\u006F\u0073\u0074\u006E\u0061\u006D\u0065':hostname,'\u0070\u006F\u0072\u0074':port}=parsedSocks5Address;const _0x03c=connect({'\u0068\u006F\u0073\u0074\u006E\u0061\u006D\u0065':hostname,'\u0070\u006F\u0072\u0074':port});var _0x5765ce=(152279^152287)+(898153^898154);const _0xfe1bb=new Uint8Array([435543^435538,672191^672189,837522^837522,149741^149743]);_0x5765ce="ipdecb".split("").reverse().join("");const _0x31debb=_0x03c['\u0077\u0072\u0069\u0074\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0057\u0072\u0069\u0074\u0065\u0072']();await _0x31debb['\u0077\u0072\u0069\u0074\u0065'](_0xfe1bb);log("\u5DF2\u53D1\u9001\u0020\u0053\u004F\u0043\u004B\u0053\u0035\u0020\u95EE\u5019\u6D88\u606F");const _0x5c_0x4af=_0x03c['\u0072\u0065\u0061\u0064\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0052\u0065\u0061\u0064\u0065\u0072']();const _0x41g=new TextEncoder();var _0x1e03cf=(184810^184814)+(859323^859314);let _0xe5f66a=(await _0x5c_0x4af['\u0072\u0065\u0061\u0064']())['\u0076\u0061\u006C\u0075\u0065'];_0x1e03cf="edokbh".split("").reverse().join("");if(_0xe5f66a[688270^688270]!==(236751^236746)){log(`SOCKS5 服务器版本错误: 收到 ${_0xe5f66a[597111^597111]}，期望是 5`);return;}if(_0xe5f66a[221301^221300]===(205959^205944)){log("\u670D\u52A1\u5668\u4E0D\u63A5\u53D7\u4EFB\u4F55\u8BA4\u8BC1\u65B9\u6CD5");return;}if(_0xe5f66a[172449^172448]===(666693^666695)){log("\u0053\u004F\u0043\u004B\u0053\u0035\u0020\u670D\u52A1\u5668\u9700\u8981\u8BA4\u8BC1");if(!username||!password){log("\u8BF7\u63D0\u4F9B\u7528\u6237\u540D\u548C\u5BC6\u7801");return;}const _0x6bead=new Uint8Array([752445^752444,username['\u006C\u0065\u006E\u0067\u0074\u0068'],..._0x41g['\u0065\u006E\u0063\u006F\u0064\u0065'](username),password['\u006C\u0065\u006E\u0067\u0074\u0068'],..._0x41g['\u0065\u006E\u0063\u006F\u0064\u0065'](password)]);await _0x31debb['\u0077\u0072\u0069\u0074\u0065'](_0x6bead);_0xe5f66a=(await _0x5c_0x4af['\u0072\u0065\u0061\u0064']())['\u0076\u0061\u006C\u0075\u0065'];if(_0xe5f66a[827137^827137]!==(855631^855630)||_0xe5f66a[485284^485285]!==(504350^504350)){log("\u0053\u004F\u0043\u004B\u0053\u0035\u0020\u670D\u52A1\u5668\u8BA4\u8BC1\u5931\u8D25");return;}}switch(addressType){case 893527^893526:_0xc96g=new Uint8Array([329231^329230,...addressRemote['\u0073\u0070\u006C\u0069\u0074']("\u002E")['\u006D\u0061\u0070'](Number)]);break;case 704587^704585:_0xc96g=new Uint8Array([336006^336005,addressRemote['\u006C\u0065\u006E\u0067\u0074\u0068'],..._0x41g['\u0065\u006E\u0063\u006F\u0064\u0065'](addressRemote)]);break;case 882724^882727:_0xc96g=new Uint8Array([692413^692409,...addressRemote['\u0073\u0070\u006C\u0069\u0074']("\u003A")['\u0066\u006C\u0061\u0074\u004D\u0061\u0070'](x=>[parseInt(x['\u0073\u006C\u0069\u0063\u0065'](340114^340114,659804^659806),735326^735310),parseInt(x['\u0073\u006C\u0069\u0063\u0065'](353283^353281),603953^603937)])]);break;default:log(`无效的地址类型: ${addressType}`);return;}const _0xbc_0xegg=new Uint8Array([801638^801635,246139^246138,353156^353156,..._0xc96g,portRemote>>(334727^334735),portRemote&(162925^162962)]);await _0x31debb['\u0077\u0072\u0069\u0074\u0065'](_0xbc_0xegg);log("\u6C42\u8BF7 5SKCOS \u9001\u53D1\u5DF2".split("").reverse().join(""));_0xe5f66a=(await _0x5c_0x4af['\u0072\u0065\u0061\u0064']())['\u0076\u0061\u006C\u0075\u0065'];if(_0xe5f66a[207185^207184]===(675823^675823)){log("\u0053\u004F\u0043\u004B\u0053\u0035\u0020\u8FDE\u63A5\u5DF2\u5EFA\u7ACB");}else{log("\u8D25\u5931\u7ACB\u5EFA\u63A5\u8FDE 5SKCOS".split("").reverse().join(""));return;}_0x31debb['\u0072\u0065\u006C\u0065\u0061\u0073\u0065\u004C\u006F\u0063\u006B']();_0x5c_0x4af['\u0072\u0065\u006C\u0065\u0061\u0073\u0065\u004C\u006F\u0063\u006B']();return _0x03c;}async function httpConnect(addressRemote,portRemote,log,_0x51aaef){const{'\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065':username,'\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064':password,"hostname":hostname,'\u0070\u006F\u0072\u0074':port}=parsedSocks5Address;var _0x2d56f;const _0xe6g78e=await connect({"hostname":hostname,"port":port});_0x2d56f=(343532^343525)+(384254^384246);var _0xg_0xd67;let _0xbd4da=`CONNECT ${addressRemote}:${portRemote} HTTP/1.1\r\n`;_0xg_0xd67='\u0062\u0070\u0065\u0070\u006E\u006B';_0xbd4da+=`Host: ${addressRemote}:${portRemote}\r\n`;if(username&&password){var _0x638ddd=(812068^812066)+(668396^668393);const _0xdd986c=`${username}:${password}`;_0x638ddd=(895447^895444)+(232076^232072);const _0x9b79f=btoa(_0xdd986c);_0xbd4da+=`Proxy-Authorization: Basic ${_0x9b79f}\r\n`;}_0xbd4da+=`User-Agent: Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36\r\n`;_0xbd4da+=`Proxy-Connection: Keep-Alive\r\n`;_0xbd4da+=`Connection: Keep-Alive\r\n`;_0xbd4da+=`\r\n`;log(`正在连接到 ${addressRemote}:${portRemote} 通过代理 ${hostname}:${port}`);try{var _0x600f;const _0x2f1da=_0xe6g78e['\u0077\u0072\u0069\u0074\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0057\u0072\u0069\u0074\u0065\u0072']();_0x600f='\u006E\u006C\u0065\u006A\u0062\u0070';await _0x2f1da['\u0077\u0072\u0069\u0074\u0065'](new TextEncoder()['\u0065\u006E\u0063\u006F\u0064\u0065'](_0xbd4da));_0x2f1da['\u0072\u0065\u006C\u0065\u0061\u0073\u0065\u004C\u006F\u0063\u006B']();}catch(err){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u6C42\u8BF7TCENNOC PTTH\u9001\u53D1".split("").reverse().join(""),err);throw new Error(`发送HTTP CONNECT请求失败: ${err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}`);}var _0x7_0xge8=(331379^331377)+(666714^666719);const _0xfea=_0xe6g78e['\u0072\u0065\u0061\u0064\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0052\u0065\u0061\u0064\u0065\u0072']();_0x7_0xge8=840244^840244;var _0x325d2d;_0x51aaef='';_0x325d2d=782126^782126;let _0x7b8d=false;var _0xgede;let _0x7d8ga=new Uint8Array(365054^365054);_0xgede='\u006C\u0062\u006A\u006B\u0062\u0068';try{while(!![]){const{'\u0076\u0061\u006C\u0075\u0065':value,"done":done}=await _0xfea['\u0072\u0065\u0061\u0064']();if(done){console['\u0065\u0072\u0072\u006F\u0072']("\u0048\u0054\u0054\u0050\u4EE3\u7406\u8FDE\u63A5\u4E2D\u65AD");throw new Error("\u65AD\u4E2D\u63A5\u8FDE\u7406\u4EE3PTTH".split("").reverse().join(""));}const _0xe8c=new Uint8Array(_0x7d8ga['\u006C\u0065\u006E\u0067\u0074\u0068']+value['\u006C\u0065\u006E\u0067\u0074\u0068']);_0xe8c['\u0073\u0065\u0074'](_0x7d8ga);_0xe8c['\u0073\u0065\u0074'](value,_0x7d8ga['\u006C\u0065\u006E\u0067\u0074\u0068']);_0x7d8ga=_0xe8c;_0x51aaef=new TextDecoder()['\u0064\u0065\u0063\u006F\u0064\u0065'](_0x7d8ga);if(_0x51aaef['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\n\r\n\r".split("").reverse().join(""))){const _0xfa9bd=_0x51aaef['\u0069\u006E\u0064\u0065\u0078\u004F\u0066']("\u000D\u000A\u000D\u000A")+(463115^463119);var _0xfc3abd=(148602^148602)+(384151^384148);const _0x91a9b=_0x51aaef['\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006E\u0067'](573428^573428,_0xfa9bd);_0xfc3abd=(391692^391694)+(745408^745410);log(`收到HTTP代理响应: ${_0x91a9b['\u0073\u0070\u006C\u0069\u0074']("\u000D\u000A")[571317^571317]}`);if(_0x91a9b['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("002 1.1/PTTH".split("").reverse().join(""))||_0x91a9b['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("002 0.1/PTTH".split("").reverse().join(""))){_0x7b8d=!![];if(_0xfa9bd<_0x7d8ga['\u006C\u0065\u006E\u0067\u0074\u0068']){const _0x08581e=_0x7d8ga['\u0073\u006C\u0069\u0063\u0065'](_0xfa9bd);var _0xe2_0xc8e;const _0xfe1db=new ReadableStream({start(controller){controller['\u0065\u006E\u0071\u0075\u0065\u0075\u0065'](_0x08581e);}});_0xe2_0xc8e="mnhfjg".split("").reverse().join("");const{'\u0072\u0065\u0061\u0064\u0061\u0062\u006C\u0065':readable,'\u0077\u0072\u0069\u0074\u0061\u0062\u006C\u0065':writable}=new TransformStream();_0xfe1db['\u0070\u0069\u0070\u0065\u0054\u006F'](writable)['\u0063\u0061\u0074\u0063\u0068'](err=>console['\u0065\u0072\u0072\u006F\u0072'](":\u8BEF\u9519\u636E\u6570\u4F59\u5269\u7406\u5904".split("").reverse().join(""),err));_0xe6g78e['\u0072\u0065\u0061\u0064\u0061\u0062\u006C\u0065']=readable;}}else{var _0x177ebf;const _0x7e6g0d=`HTTP代理连接失败: ${_0x91a9b['\u0073\u0070\u006C\u0069\u0074']("\n\r".split("").reverse().join(""))[460385^460385]}`;_0x177ebf='\u0070\u0065\u0066\u006F\u006E\u0068';console['\u0065\u0072\u0072\u006F\u0072'](_0x7e6g0d);throw new Error(_0x7e6g0d);}break;}}}catch(err){_0xfea['\u0072\u0065\u006C\u0065\u0061\u0073\u0065\u004C\u006F\u0063\u006B']();throw new Error(`处理HTTP代理响应失败: ${err['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}`);}_0xfea['\u0072\u0065\u006C\u0065\u0061\u0073\u0065\u004C\u006F\u0063\u006B']();if(!_0x7b8d){throw new Error("\u5E94\u54CD\u529F\u6210\u5230\u6536\u672A :\u8D25\u5931\u63A5\u8FDE\u7406\u4EE3PTTH".split("").reverse().join(""));}log(`HTTP代理连接成功: ${addressRemote}:${portRemote}`);return _0xe6g78e;}function socks5AddressParser(address){var _0xge29e=(783144^783136)+(689441^689441);const _0x17_0x8ff=address['\u006C\u0061\u0073\u0074\u0049\u006E\u0064\u0065\u0078\u004F\u0066']("\u0040");_0xge29e='\u0065\u006F\u006F\u0062\u0066\u006C';let[latter,former]=_0x17_0x8ff===-(818672^818673)?[address,undefined]:[address['\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006E\u0067'](_0x17_0x8ff+(344754^344755)),address['\u0073\u0075\u0062\u0073\u0074\u0072\u0069\u006E\u0067'](577659^577659,_0x17_0x8ff)];let _0x2c886b,_0x6f2cc,_0x0f37c,_0x72a6ef;if(former){var _0x758e=(201478^201478)+(478808^478813);const _0x2b32dd=former['\u0073\u0070\u006C\u0069\u0074']("\u003A");_0x758e=(478075^478077)+(578305^578307);if(_0x2b32dd['\u006C\u0065\u006E\u0067\u0074\u0068']!==(886507^886505)){throw new Error("\u5F0F\u5F62\u7684 \"drowssap:emanresu\" \u662F\u987B\u5FC5\u5206\u90E8\u8BC1\u8BA4\uFF1A\u5F0F\u683C\u5740\u5730 SKCOS \u7684\u6548\u65E0".split("").reverse().join(""));}[username,password]=_0x2b32dd;}const _0x65gb5f=latter['\u0073\u0070\u006C\u0069\u0074']("\u003A");if(_0x65gb5f['\u006C\u0065\u006E\u0067\u0074\u0068']>(436646^436644)&&latter['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u005D\u003A")){_0x72a6ef=Number(latter['\u0073\u0070\u006C\u0069\u0074'](":]".split("").reverse().join(""))[534728^534729]['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u005B\u005E\u005C\u0064\u005D','\u0067'),''));_0x0f37c=latter['\u0073\u0070\u006C\u0069\u0074']("\u005D\u003A")[557221^557221]+"\u005D";}else if(_0x65gb5f['\u006C\u0065\u006E\u0067\u0074\u0068']===(517031^517029)){_0x72a6ef=Number(_0x65gb5f['\u0070\u006F\u0070']()['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("]d\\^[".split("").reverse().join(""),'\u0067'),''));_0x0f37c=_0x65gb5f['\u006A\u006F\u0069\u006E']("\u003A");}else{_0x72a6ef=565889^565969;_0x0f37c=latter;}if(isNaN(_0x72a6ef)){throw new Error("\u5B57\u6570\u662F\u987B\u5FC5\u53F7\u53E3\u7AEF\uFF1A\u5F0F\u683C\u5740\u5730 SKCOS \u7684\u6548\u65E0".split("").reverse().join(""));}var _0xfeb4g=(634667^634669)+(731248^731252);const _0x30d2=new RegExp("$]\\*.[\\^".split("").reverse().join(""),"");_0xfeb4g="chncbe".split("").reverse().join("");if(_0x0f37c['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")&&!_0x30d2['\u0074\u0065\u0073\u0074'](_0x0f37c)){throw new Error("\u65E0\u6548\u7684\u0020\u0053\u004F\u0043\u004B\u0053\u0020\u5730\u5740\u683C\u5F0F\uFF1A\u0049\u0050\u0076\u0036\u0020\u5730\u5740\u5FC5\u987B\u7528\u65B9\u62EC\u53F7\u62EC\u8D77\u6765\uFF0C\u5982\u0020\u005B\u0032\u0030\u0030\u0031\u003A\u0064\u0062\u0038\u003A\u003A\u0031\u005D");}return{'\u0075\u0073\u0065\u0072\u006E\u0061\u006D\u0065':_0x2c886b,'\u0070\u0061\u0073\u0073\u0077\u006F\u0072\u0064':_0x6f2cc,'\u0068\u006F\u0073\u0074\u006E\u0061\u006D\u0065':_0x0f37c,"port":_0x72a6ef};}function 恢复伪装信息(content,userID,hostName,fakeUserID,fakeHostName,isBase64){if(isBase64)content=atob(content);content=content['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp(fakeUserID,"\u0067"),userID)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp(fakeHostName,"\u0067"),hostName);if(isBase64)content=btoa(content);return content;}async function 双重哈希(文本){var _0x678d8a;const _0xa3bfb=new TextEncoder();_0x678d8a=(788862^788858)+(237891^237898);var _0xa_0xa6a;const _0xa67g=await crypto['\u0073\u0075\u0062\u0074\u006C\u0065']['\u0064\u0069\u0067\u0065\u0073\u0074']("\u004D\u0044\u0035",_0xa3bfb['\u0065\u006E\u0063\u006F\u0064\u0065'](文本));_0xa_0xa6a=(873944^873944)+(429649^429654);const _0xdb_0xda7=Array['\u0066\u0072\u006F\u006D'](new Uint8Array(_0xa67g));var _0x2c1ce=(659196^659188)+(581545^581548);const _0xed5cf=_0xdb_0xda7['\u006D\u0061\u0070'](字节=>字节['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](931566^931582)['\u0070\u0061\u0064\u0053\u0074\u0061\u0072\u0074'](759012^759014,"\u0030"))['\u006A\u006F\u0069\u006E']('');_0x2c1ce=(285973^285972)+(789247^789244);var _0x9ade;const _0xa3_0x4db=await crypto['\u0073\u0075\u0062\u0074\u006C\u0065']['\u0064\u0069\u0067\u0065\u0073\u0074']("\u004D\u0044\u0035",_0xa3bfb['\u0065\u006E\u0063\u006F\u0064\u0065'](_0xed5cf['\u0073\u006C\u0069\u0063\u0065'](638716^638715,856043^856048)));_0x9ade='\u006C\u0068\u0065\u006F\u0064\u0069';const _0x4943c=Array['\u0066\u0072\u006F\u006D'](new Uint8Array(_0xa3_0x4db));var _0x6a1d1d;const _0xd8e=_0x4943c['\u006D\u0061\u0070'](字节=>字节['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](558124^558140)['\u0070\u0061\u0064\u0053\u0074\u0061\u0072\u0074'](737501^737503,"\u0030"))['\u006A\u006F\u0069\u006E']('');_0x6a1d1d="ejjbnc".split("").reverse().join("");return _0xd8e['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();}async function 代理URL(代理网址,目标网址){const _0x88f95c=await 整理(代理网址);var _0x93271a=(830915^830913)+(599230^599226);const _0x8975ce=_0x88f95c[Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*_0x88f95c['\u006C\u0065\u006E\u0067\u0074\u0068'])];_0x93271a=180047^180047;let _0xd1458c=new URL(_0x8975ce);console['\u006C\u006F\u0067'](_0xd1458c);var _0xa49f;let _0x3151e=_0xd1458c['\u0070\u0072\u006F\u0074\u006F\u0063\u006F\u006C']['\u0073\u006C\u0069\u0063\u0065'](302920^302920,-(106537^106536))||"\u0068\u0074\u0074\u0070\u0073";_0xa49f=104388^104386;let _0xcefdda=_0xd1458c['\u0068\u006F\u0073\u0074\u006E\u0061\u006D\u0065'];let _0xa91ed=_0xd1458c['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065'];let _0xa94c=_0xd1458c['\u0073\u0065\u0061\u0072\u0063\u0068'];if(_0xa91ed['\u0063\u0068\u0061\u0072\u0041\u0074'](_0xa91ed['\u006C\u0065\u006E\u0067\u0074\u0068']-(460770^460771))=="\u002F"){_0xa91ed=_0xa91ed['\u0073\u006C\u0069\u0063\u0065'](743492^743492,-(962277^962276));}_0xa91ed+=目标网址['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065'];let _0xabad=`${_0x3151e}://${_0xcefdda}${_0xa91ed}${_0xa94c}`;let _0xdd89bg=await fetch(_0xabad);let _0x5a6d=new Response(_0xdd89bg['\u0062\u006F\u0064\u0079'],{"status":_0xdd89bg['\u0073\u0074\u0061\u0074\u0075\u0073'],'\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074':_0xdd89bg['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074'],'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':_0xdd89bg['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']});_0x5a6d['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']['\u0073\u0065\u0074']("\u0058\u002D\u004E\u0065\u0077\u002D\u0055\u0052\u004C",_0xabad);return _0x5a6d;}var _0x8de=(471128^471120)+(115581^115577);const 啥啥啥_写的这是啥啊=atob("\u005A\u0047\u0031\u0034\u0062\u0047\u004D\u007A\u0054\u0054\u0030\u003D");_0x8de='\u006E\u0062\u0068\u0064\u0065\u0070';function 配置信息(UUID,域名地址,_0xab65g,_0x8cb,_0xed_0x0c6,_0x3gcd){var _0x38e;const _0xg4296d=atob(啥啥啥_写的这是啥啊);_0x38e=269349^269356;var _0x9ab82b;const _0xbf13d=FileName;_0x9ab82b=(151724^151721)+(648337^648345);var _0xb71d=(427445^427441)+(767391^767388);let _0x0a73e=域名地址;_0xb71d=(320379^320381)+(141583^141583);_0xab65g=574635^574736;const _0xef7c8c=UUID;var _0x37ea5f=(743859^743859)+(521232^521235);_0x8cb="enon".split("").reverse().join("");_0x37ea5f=(758633^758633)+(180818^180823);var _0xba35cc;_0xed_0x0c6="\u0077\u0073";_0xba35cc=(258954^258957)+(854624^854629);var _0x135eg;const _0x2f_0xb2f=域名地址;_0x135eg=(871908^871910)+(368886^368881);var _0xc8f75a=(702983^702982)+(437420^437421);const _0x14g6c=path;_0xc8f75a=292481^292489;let _0xbf5f=["slt".split("").reverse().join(""),!![]];const _0xc2_0xca5=域名地址;var _0xgb6c7b=(892487^892483)+(669137^669137);_0x3gcd="dezimodnar".split("").reverse().join("");_0xgb6c7b=(969559^969554)+(599093^599101);if(域名地址['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u002E\u0077\u006F\u0072\u006B\u0065\u0072\u0073\u002E\u0064\u0065\u0076")){_0x0a73e=atob("=sGau02bj5SYzlmd".split("").reverse().join(""));_0xab65g=377822^377742;_0xbf5f=['',false];}const _0x17gc=`${_0xg4296d}://${_0xef7c8c}@${_0x0a73e}:${_0xab65g}\u003f\u0065\u006e\u0063\u0072\u0079`+"\u0070"+`${atob("\u0064\u0047\u006C\u0076\u0062\u006A\u0030\u003D")+_0x8cb}\u0026\u0073\u0065\u0063\u0075\u0072\u0069\u0074\u0079\u003d${_0xbf5f[155952^155952]}&sni=${_0xc2_0xca5}&fp=${_0x3gcd}&type=${_0xed_0x0c6}&host=${_0x2f_0xb2f}&path=${encodeURIComponent(_0x14g6c)+allowInsecure}&fragment=${encodeURIComponent("\u0031\u002C\u0034\u0030\u002D\u0036\u0030\u002C\u0033\u0030\u002D\u0035\u0030\u002C\u0074\u006C\u0073\u0068\u0065\u006C\u006C\u006F")}#${encodeURIComponent(_0xbf13d)}`;var _0x44dae=(955485^955477)+(618170^618172);const _0x3366gb=`- {name: ${FileName}, server: ${_0x0a73e}, port: ${_0xab65g}, type: ${_0xg4296d}, uuid: ${_0xef7c8c}, tls: ${_0xbf5f[536319^536318]}, alpn: [h3], udp: false, sni: ${_0xc2_0xca5}, tfo: false, skip-cert-verify: ${SCV}, servername: ${_0x2f_0xb2f}, client-fingerprint: ${_0x3gcd}, network: ${_0xed_0x0c6}, ws-opts: {path: "${_0x14g6c}", headers: {${_0x2f_0xb2f}}}}`;_0x44dae=(627088^627092)+(357781^357778);return[_0x17gc,_0x3366gb];}var _0xf_0x5f9;let subParams=["\u0073\u0075\u0062","46esab".split("").reverse().join(""),"\u0062\u0036\u0034","\u0063\u006C\u0061\u0073\u0068","xobgnis".split("").reverse().join(""),"bs".split("").reverse().join("")];_0xf_0x5f9=(619103^619100)+(817487^817478);var _0xe4c7a;const cmad=decodeURIComponent(atob('dGVsZWdyYW0lMjAlRTQlQkElQTQlRTYlQjUlODElRTclQkUlQTQlMjAlRTYlOEElODAlRTYlOUMlQUYlRTUlQTQlQTclRTQlQkQlQUMlN0UlRTUlOUMlQTglRTclQkElQkYlRTUlOEYlOTElRTclODklOEMhJTNDYnIlM0UKJTNDYSUyMGhyZWYlM0QlMjdodHRwcyUzQSUyRiUyRnQubWUlMkZDTUxpdXNzc3MlMjclM0VodHRwcyUzQSUyRiUyRnQubWUlMkZDTUxpdXNzc3MlM0MlMkZhJTNFJTNDYnIlM0UKLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tJTNDYnIlM0UKZ2l0aHViJTIwJUU5JUExJUI5JUU3JTlCJUFFJUU1JTlDJUIwJUU1JTlEJTgwJTIwU3RhciFTdGFyIVN0YXIhISElM0NiciUzRQolM0NhJTIwaHJlZiUzRCUyN2h0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRmNtbGl1JTJGZWRnZXR1bm5lbCUyNyUzRWh0dHBzJTNBJTJGJTJGZ2l0aHViLmNvbSUyRmNtbGl1JTJGZWRnZXR1bm5lbCUzQyUyRmElM0UlM0NiciUzRQotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0lM0NiciUzRQolMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjMlMjM='));_0xe4c7a=(914967^914960)+(476369^476375);async function 生成配置信息(userID,hostName,sub,UA,RproxyIP,_url,fakeUserID,fakeHostName,env,_0xe88f){if(sub){var _0x5374c;const _0x6fcbb=sub['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u005E\u0028\u003F\u003A\u0068\u0074\u0074\u0070\u0073\u003F\u003A\u005C\u002F\u005C\u002F\u0029\u003F\u0028\u005B\u005E\u005C\u002F\u005D\u002B\u0029',""));_0x5374c=170233^170238;if(_0x6fcbb){sub=_0x6fcbb[855067^855066];}const _0xb1ca4b=await 整理(sub);if(_0xb1ca4b['\u006C\u0065\u006E\u0067\u0074\u0068']>(877348^877349))sub=_0xb1ca4b[910596^910596];}else{if(env['\u004B\u0056']){await 迁移地址列表(env);const _0x347e5c=await env['\u004B\u0056']['\u0067\u0065\u0074']("\u0041\u0044\u0044\u002E\u0074\u0078\u0074");if(_0x347e5c){var _0x5ab8e=(642696^642696)+(280236^280238);const _0x2c96bf=await 整理(_0x347e5c);_0x5ab8e=684218^684219;var _0xae43be;const _0xdb99cg={'\u63A5\u53E3\u5730\u5740':new Set(),'\u94FE\u63A5\u5730\u5740':new Set(),'\u4F18\u9009\u5730\u5740':new Set()};_0xae43be='\u0068\u0070\u0067\u0065\u006C\u0064';for(const _0x04729d of _0x2c96bf){if(_0x04729d['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F")){_0xdb99cg.接口地址['\u0061\u0064\u0064'](_0x04729d);}else if(_0x04729d['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A\u002F\u002F")){_0xdb99cg.链接地址['\u0061\u0064\u0064'](_0x04729d);}else{_0xdb99cg.优选地址['\u0061\u0064\u0064'](_0x04729d);}}addressesapi=[..._0xdb99cg.接口地址];link=[..._0xdb99cg.链接地址];addresses=[..._0xdb99cg.优选地址];}}if(addresses['\u006C\u0065\u006E\u0067\u0074\u0068']+addressesapi['\u006C\u0065\u006E\u0067\u0074\u0068']+addressesnotls['\u006C\u0065\u006E\u0067\u0074\u0068']+addressesnotlsapi['\u006C\u0065\u006E\u0067\u0074\u0068']+addressescsv['\u006C\u0065\u006E\u0067\u0074\u0068']==(840787^840787)){var _0x24d=(986536^986538)+(727045^727046);let _0x1g3ad=["\u0031\u0030\u0034\u002E\u0031\u0036\u002E\u0030\u002E\u0030\u002F\u0031\u0033"];_0x24d=(796685^796684)+(154890^154895);try{var _0xb6325d;const response=await fetch("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0072\u0061\u0077\u002E\u0067\u0069\u0074\u0068\u0075\u0062\u0075\u0073\u0065\u0072\u0063\u006F\u006E\u0074\u0065\u006E\u0074\u002E\u0063\u006F\u006D\u002F\u0063\u006D\u006C\u0069\u0075\u002F\u0063\u006D\u006C\u0069\u0075\u002F\u006D\u0061\u0069\u006E\u002F\u0043\u0046\u002D\u0043\u0049\u0044\u0052\u002E\u0074\u0078\u0074");_0xb6325d=(180336^180337)+(764914^764917);if(response['\u006F\u006B']){var _0xb9a=(147926^147935)+(728118^728112);const _0x76b6b=await response['\u0074\u0065\u0078\u0074']();_0xb9a=(558485^558483)+(680176^680176);_0x1g3ad=await 整理(_0x76b6b);}}catch(error){console['\u006C\u006F\u0067']("\u83B7\u53D6\u0020\u0043\u0046\u002D\u0043\u0049\u0044\u0052\u0020\u5931\u8D25\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u503C\u003A",error);}function _0xa3ac(cidr){const[base,mask]=cidr['\u0073\u0070\u006C\u0069\u0074']("\u002F");var _0xdbba=(194990^194984)+(490135^490129);const _0xcf_0x870=base['\u0073\u0070\u006C\u0069\u0074']("\u002E")['\u006D\u0061\u0070'](Number);_0xdbba=940368^940374;var _0xgg08f=(428408^428410)+(872574^872573);const _0xe7ab=(326533^326565)-parseInt(mask,672416^672426);_0xgg08f=(532464^532464)+(928949^928947);var _0xb44ff;const _0x0b_0x088=Math['\u0070\u006F\u0077'](909036^909038,_0xe7ab)-(839459^839458);_0xb44ff='\u0067\u0069\u0071\u006C\u006A\u0063';const _0xa04g=Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*_0x0b_0x088);const _0x20_0x7ac=_0xcf_0x870['\u006D\u0061\u0070']((octet,index)=>{if(index<(619899^619897))return octet;if(index===(271695^271693))return(octet&(699430^699609)<<_0xe7ab-(460726^460734))+(_0xa04g>>(248103^248111)&(543344^543375));return(octet&(552273^552366)<<_0xe7ab)+(_0xa04g&(595351^595304));});return _0x20_0x7ac['\u006A\u006F\u0069\u006E']("\u002E");}addresses=addresses['\u0063\u006F\u006E\u0063\u0061\u0074']("\u0031\u0032\u0037\u002E\u0030\u002E\u0030\u002E\u0031\u003A\u0031\u0032\u0033\u0034\u0023\u0043\u0046\u006E\u0061\u0074");var _0x52e4g;let _0x3481bd=818152^818153;_0x52e4g=852270^852262;if(hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("rekrow".split("").reverse().join(""))||hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u006E\u006F\u0074\u006C\u0073")){var _0x9aae6d=(232108^232106)+(119574^119570);const randomPorts=httpPorts['\u0063\u006F\u006E\u0063\u0061\u0074']("08".split("").reverse().join(""));_0x9aae6d='\u0065\u0067\u0070\u006E\u006F\u006F';addressesnotls=addressesnotls['\u0063\u006F\u006E\u0063\u0061\u0074'](_0x1g3ad['\u006D\u0061\u0070'](cidr=>_0xa3ac(cidr)+"\u003A"+randomPorts[Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*randomPorts['\u006C\u0065\u006E\u0067\u0074\u0068'])]+"\u0023\u0043\u0046\u968F\u673A\u8282\u70B9"+String(_0x3481bd++)['\u0070\u0061\u0064\u0053\u0074\u0061\u0072\u0074'](534857^534859,"\u0030")));}else{const randomPorts=httpsPorts['\u0063\u006F\u006E\u0063\u0061\u0074']("344".split("").reverse().join(""));addresses=addresses['\u0063\u006F\u006E\u0063\u0061\u0074'](_0x1g3ad['\u006D\u0061\u0070'](cidr=>_0xa3ac(cidr)+"\u003A"+randomPorts[Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*randomPorts['\u006C\u0065\u006E\u0067\u0074\u0068'])]+"\u0023\u0043\u0046\u968F\u673A\u8282\u70B9"+String(_0x3481bd++)['\u0070\u0061\u0064\u0053\u0074\u0061\u0072\u0074'](694606^694604,"\u0030")));}}}var _0xg5264d;const _0xg513dc=_url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']==`/${动态UUID}`?动态UUID:userID;_0xg5264d=(318832^318838)+(471557^471558);const _0xec540a=UA['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();const _0xadbb0g=配置信息(userID,hostName);var _0xfbfd2c;const _0xe8755g=_0xadbb0g[647210^647210];_0xfbfd2c=(585688^585688)+(219189^219189);var _0x86d34e;const _0x0c_0x93d=_0xadbb0g[642020^642021];_0x86d34e=(990303^990298)+(811328^811337);_0xe88f="";if(hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("ved.srekrow.".split("").reverse().join(""))){if(proxyhostsURL&&(!proxyhosts||proxyhosts['\u006C\u0065\u006E\u0067\u0074\u0068']==(601901^601901))){try{const response=await fetch(proxyhostsURL);if(!response['\u006F\u006B']){console['\u0065\u0072\u0072\u006F\u0072']("\u83B7\u53D6\u5730\u5740\u65F6\u51FA\u9519\u003A",response['\u0073\u0074\u0061\u0074\u0075\u0073'],response['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074']);return;}var _0x51fe5c=(735534^735533)+(520418^520426);const text=await response['\u0074\u0065\u0078\u0074']();_0x51fe5c=(941611^941608)+(979596^979594);var _0x434cb=(979812^979815)+(416417^416419);const lines=text['\u0073\u0070\u006C\u0069\u0074']("\u000A");_0x434cb=427018^427011;var _0x58d=(874252^874255)+(129635^129639);const nonEmptyLines=lines['\u0066\u0069\u006C\u0074\u0065\u0072'](line=>line['\u0074\u0072\u0069\u006D']()!=='');_0x58d=(378981^378981)+(337400^337406);proxyhosts=proxyhosts['\u0063\u006F\u006E\u0063\u0061\u0074'](nonEmptyLines);}catch(error){}}if(proxyhosts['\u006C\u0065\u006E\u0067\u0074\u0068']!=(364153^364153))_0xe88f=proxyhosts[Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*proxyhosts['\u006C\u0065\u006E\u0067\u0074\u0068'])]+"\u002F";}if(_0xec540a['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u006D\u006F\u007A\u0069\u006C\u006C\u0061")&&!subParams['\u0073\u006F\u006D\u0065'](_searchParams=>_url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073'](_searchParams))){const _0x763a1c=socks5s['\u006D\u0061\u0070'](socks5Address=>{if(socks5Address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0040"))return socks5Address['\u0073\u0070\u006C\u0069\u0074']("\u0040")[529611^529610];else if(socks5Address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u002F\u002F"))return socks5Address['\u0073\u0070\u006C\u0069\u0074']("\u002F\u002F")[978275^978274];else return socks5Address;});let _0x2fa9aa='';if(go2Socks5s['\u006C\u0065\u006E\u0067\u0074\u0068']>(363432^363432)&&enableSocks){_0x2fa9aa=`${(enableHttp?"PTTH".split("").reverse().join(""):"\u0053\u006F\u0063\u006B\u0073\u0035")+decodeURIComponent("\u0025\u0045\u0046\u0025\u0042\u0043\u0025\u0038\u0038\u0025\u0045\u0037\u0025\u0039\u0039\u0025\u0042\u0044\u0025\u0045\u0035\u0025\u0039\u0030\u0025\u0038\u0044\u0025\u0045\u0035\u0025\u0038\u0044\u0025\u0039\u0035\u0025\u0045\u0046\u0025\u0042\u0043\u0025\u0038\u0039\u0025\u0033\u0041\u0025\u0032\u0030")}`;if(go2Socks5s['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](atob("\u0059\u0057\u0078\u0073\u0049\u0047\u006C\u0075"))||go2Socks5s['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](atob("==gK".split("").reverse().join(""))))_0x2fa9aa+=`${decodeURIComponent("\u0025\u0045\u0036\u0025\u0038\u0039\u0025\u0038\u0030\u0025\u0045\u0036\u0025\u0039\u0043\u0025\u0038\u0039\u0025\u0045\u0036\u0025\u0042\u0035\u0025\u0038\u0031\u0025\u0045\u0039\u0025\u0038\u0037\u0025\u0038\u0046")}<br>`;else _0x2fa9aa+=`<br>&nbsp;&nbsp;${go2Socks5s['\u006A\u006F\u0069\u006E']("\u003C\u0062\u0072\u003E\u0026\u006E\u0062\u0073\u0070\u003B\u0026\u006E\u0062\u0073\u0070\u003B")}<br>`;}var _0x5e48bf;let _0xagb=">rb<".split("").reverse().join("");_0x5e48bf='\u0061\u006A\u0065\u0071\u0067\u0067';if(sub){if(enableSocks)_0xagb+=`CFCDN（访问方式）: ${enableHttp?"\u0048\u0054\u0054\u0050":"5skcoS".split("").reverse().join("")}<br>&nbsp;&nbsp;${_0x763a1c['\u006A\u006F\u0069\u006E']("\u003C\u0062\u0072\u003E\u0026\u006E\u0062\u0073\u0070\u003B\u0026\u006E\u0062\u0073\u0070\u003B")}<br>${_0x2fa9aa}`;else if(proxyIP&&proxyIP!='')_0xagb+=`CFCDN（访问方式）: ProxyIP<br>&nbsp;&nbsp;${proxyIPs['\u006A\u006F\u0069\u006E']("\u003C\u0062\u0072\u003E\u0026\u006E\u0062\u0073\u0070\u003B\u0026\u006E\u0062\u0073\u0070\u003B")}<br>`;else if(RproxyIP=="eurt".split("").reverse().join(""))_0xagb+=`CFCDN（访问方式）: 自动获取ProxyIP<br>`;else _0xagb+=`CFCDN（访问方式）: 内置兜底, 您也可以设置 proxyIP/PROXYIP 。<br>`;_0xagb+=`<br>SUB（优选订阅生成器）: ${sub}`;}else{if(enableSocks)_0xagb+=`CFCDN（访问方式）: ${enableHttp?"PTTH".split("").reverse().join(""):"\u0053\u006F\u0063\u006B\u0073\u0035"}<br>&nbsp;&nbsp;${_0x763a1c['\u006A\u006F\u0069\u006E'](";psbn&;psbn&>rb<".split("").reverse().join(""))}<br>${_0x2fa9aa}`;else if(proxyIP&&proxyIP!='')_0xagb+=`CFCDN（访问方式）: ProxyIP<br>&nbsp;&nbsp;${proxyIPs['\u006A\u006F\u0069\u006E']("\u003C\u0062\u0072\u003E\u0026\u006E\u0062\u0073\u0070\u003B\u0026\u006E\u0062\u0073\u0070\u003B")}<br>`;else _0xagb+=`CFCDN（访问方式）: 内置兜底, 您也可以设置 proxyIP/PROXYIP 。<br>`;let _0x118d='';if(env['\u004B\u0056'])_0x118d=` [<a href='${_url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']}/edit'>编辑优选列表</a>]  [<a href='${_url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']}/bestip'>在线优选IP</a>]`;_0xagb+=`<br>您的订阅内容由 内置 addresses/ADD* 参数变量提供${_0x118d}<br>`;if(addresses['\u006C\u0065\u006E\u0067\u0074\u0068']>(685710^685710))_0xagb+=`ADD（TLS优选域名&IP）: <br>&nbsp;&nbsp;${addresses['\u006A\u006F\u0069\u006E'](";psbn&;psbn&>rb<".split("").reverse().join(""))}<br>`;if(addressesnotls['\u006C\u0065\u006E\u0067\u0074\u0068']>(718228^718228))_0xagb+=`ADDNOTLS（noTLS优选域名&IP）: <br>&nbsp;&nbsp;${addressesnotls['\u006A\u006F\u0069\u006E']("\u003C\u0062\u0072\u003E\u0026\u006E\u0062\u0073\u0070\u003B\u0026\u006E\u0062\u0073\u0070\u003B")}<br>`;if(addressesapi['\u006C\u0065\u006E\u0067\u0074\u0068']>(472533^472533))_0xagb+=`ADDAPI（TLS优选域名&IP 的 API）: <br>&nbsp;&nbsp;${addressesapi['\u006A\u006F\u0069\u006E'](";psbn&;psbn&>rb<".split("").reverse().join(""))}<br>`;if(addressesnotlsapi['\u006C\u0065\u006E\u0067\u0074\u0068']>(287106^287106))_0xagb+=`ADDNOTLSAPI（noTLS优选域名&IP 的 API）: <br>&nbsp;&nbsp;${addressesnotlsapi['\u006A\u006F\u0069\u006E'](";psbn&;psbn&>rb<".split("").reverse().join(""))}<br>`;if(addressescsv['\u006C\u0065\u006E\u0067\u0074\u0068']>(753088^753088))_0xagb+=`ADDCSV（IPTest测速csv文件 限速 ${DLS} ）: <br>&nbsp;&nbsp;${addressescsv['\u006A\u006F\u0069\u006E']("\u003C\u0062\u0072\u003E\u0026\u006E\u0062\u0073\u0070\u003B\u0026\u006E\u0062\u0073\u0070\u003B")}<br>`;}if(动态UUID&&_url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']!==`/${动态UUID}`)_0xagb='';else _0xagb+=`<br>SUBAPI（订阅转换后端）: <a href='${subProtocol}://${subConverter}/version' target="_blank" rel="noopener noreferrer">${subProtocol}://${subConverter}</a><br>SUBCONFIG（订阅转换配置文件）: <a href='${subConfig}' target="_blank" rel="noopener noreferrer">${subConfig}</a>`;const _0x0bf21a=_0xg513dc!=userID?`TOKEN: ${_0xg513dc}<br>UUIDNow: ${userID}<br>UUIDLow: ${userIDLow}<br>${userIDTime}TIME（动态UUID有效时间）: ${有效时间} 天<br>UPTIME（动态UUID更新时间）: ${更新时间} 时（北京时间）<br><br>`:`${userIDTime}`;const _0x9c8ce=`
            ################################################################<br>
            Subscribe / sub 订阅地址, 点击链接自动 <strong>复制订阅链接</strong> 并 <strong>生成订阅二维码</strong> <br>
            ---------------------------------------------------------------<br>
            自适应订阅地址:<br>
            <a href="javascript:void(0)" onclick="copyToClipboard('https://${_0xe88f}${hostName}/${_0xg513dc}?sub','qrcode_0')" style="color:blue;text-decoration:underline;cursor:pointer;">https://${_0xe88f}${hostName}/${_0xg513dc}</a><br>
            <div id="qrcode_0" style="margin: 10px 10px 10px 10px;"></div>
            Base64订阅地址:<br>
            <a href="javascript:void(0)" onclick="copyToClipboard('https://${_0xe88f}${hostName}/${_0xg513dc}?b64','qrcode_1')" style="color:blue;text-decoration:underline;cursor:pointer;">https://${_0xe88f}${hostName}/${_0xg513dc}?b64</a><br>
            <div id="qrcode_1" style="margin: 10px 10px 10px 10px;"></div>
            clash订阅地址:<br>
            <a href="javascript:void(0)" onclick="copyToClipboard('https://${_0xe88f}${hostName}/${_0xg513dc}?clash','qrcode_2')" style="color:blue;text-decoration:underline;cursor:pointer;">https://${_0xe88f}${hostName}/${_0xg513dc}?clash</a><br>
            <div id="qrcode_2" style="margin: 10px 10px 10px 10px;"></div>
            singbox订阅地址:<br>
            <a href="javascript:void(0)" onclick="copyToClipboard('https://${_0xe88f}${hostName}/${_0xg513dc}?sb','qrcode_3')" style="color:blue;text-decoration:underline;cursor:pointer;">https://${_0xe88f}${hostName}/${_0xg513dc}?sb</a><br>
            <div id="qrcode_3" style="margin: 10px 10px 10px 10px;"></div>
            loon订阅地址:<br>
            <a href="javascript:void(0)" onclick="copyToClipboard('https://${_0xe88f}${hostName}/${_0xg513dc}?loon','qrcode_5')" style="color:blue;text-decoration:underline;cursor:pointer;">https://${_0xe88f}${hostName}/${_0xg513dc}?loon</a><br>
            <div id="qrcode_5" style="margin: 10px 10px 10px 10px;"></div>
            <strong><a href="javascript:void(0);" id="noticeToggle" onclick="toggleNotice()">实用订阅技巧∨</a></strong><br>
                <div id="noticeContent" class="notice-content" style="display: none;">
                    <strong>1.</strong> 如您使用的是 PassWall、PassWall2 路由插件，订阅编辑的 <strong>用户代理(User-Agent)</strong> 设置为 <strong>PassWall</strong> 即可；<br>
                    <br>
                    <strong>2.</strong> 如您使用的是 SSR+ 路由插件，推荐使用 <strong>Base64订阅地址</strong> 进行订阅；<br>
                    <br>
                    <strong>3.</strong> 快速切换 <a href='${atob("\u0061\u0048\u0052\u0030\u0063\u0048\u004D\u0036\u004C\u0079\u0039\u006E\u0061\u0058\u0052\u006F\u0064\u0057\u0049\u0075\u0059\u0032\u0039\u0074\u004C\u0032\u004E\u0074\u0062\u0047\u006C\u0031\u004C\u0031\u0064\u0076\u0063\u006D\u0074\u006C\u0063\u006C\u005A\u0073\u005A\u0058\u004E\u007A\u004D\u006E\u004E\u0031\u0059\u0067\u003D\u003D")}'>优选订阅生成器</a> 至：sub.google.com，您可将"?sub=sub.google.com"参数添加到链接末尾，例如：<br>
                    &nbsp;&nbsp;https://${_0xe88f}${hostName}/${_0xg513dc}<strong>?sub=sub.google.com</strong><br>
                    <br>
                    <strong>4.</strong> 快速更换 PROXYIP 至：proxyip.cmliussss.net:443，您可将"?proxyip=proxyip.cmliussss.net:443"参数添加到链接末尾，例如：<br>
                    &nbsp;&nbsp; https://${_0xe88f}${hostName}/${_0xg513dc}<strong>?proxyip=proxyip.cmliussss.net:443</strong><br>
                    <br>
                    <strong>5.</strong> 快速更换 SOCKS5 至：user:password@127.0.0.1:1080，您可将"?socks5=user:password@127.0.0.1:1080"参数添加到链接末尾，例如：<br>
                    &nbsp;&nbsp;https://${_0xe88f}${hostName}/${_0xg513dc}<strong>?socks5=user:password@127.0.0.1:1080</strong><br>
                    <br>
                    <strong>6.</strong> 如需指定多个参数则需要使用'&'做间隔，例如：<br>
                    &nbsp;&nbsp;https://${_0xe88f}${hostName}/${_0xg513dc}?sub=sub.google.com<strong>&</strong>proxyip=proxyip.cmliussss.net<br>
                </div>
            <script src="https://cdn.jsdelivr.net/npm/@keeex/qrcodejs-kx@1.0.2/qrcode.min.js"></script>
            <script>
            function copyToClipboard(text, qrcode) {
                navigator.clipboard.writeText(text).then(() => {
                    alert('已复制到剪贴板');
                }).catch(err => {
                    console.error('复制失败:', err);
                });
                const qrcodeDiv = document.getElementById(qrcode);
                qrcodeDiv.innerHTML = '';
                new QRCode(qrcodeDiv, {
                    text: text,
                    width: 220, // 调整宽度
                    height: 220, // 调整高度
                    colorDark: "#000000", // 二维码颜色
                    colorLight: "#ffffff", // 背景颜色
                    correctLevel: QRCode.CorrectLevel.Q, // 设置纠错级别
                    scale: 1 // 调整像素颗粒度
                });
            }

            function toggleNotice() {
                const noticeContent = document.getElementById('noticeContent');
                const noticeToggle = document.getElementById('noticeToggle');
                if (noticeContent.style.display === 'none') {
                    noticeContent.style.display = 'block';
                    noticeToggle.textContent = '实用订阅技巧∧';
                } else {
                    noticeContent.style.display = 'none'; 
                    noticeToggle.textContent = '实用订阅技巧∨';
                }
            }
            </script>
            ---------------------------------------------------------------<br>
            ################################################################<br>
            ${FileName} 配置信息<br>
            ---------------------------------------------------------------<br>
            ${_0x0bf21a}HOST: ${hostName}<br>
            UUID: ${userID}<br>
            FKID: ${fakeUserID}<br>
            UA: ${UA}<br>
            SCV（跳过TLS证书验证）: ${SCV}<br>
            ${_0xagb}<br>
            ---------------------------------------------------------------<br>
            ################################################################<br>
            v2ray<br>
            ---------------------------------------------------------------<br>
            <a href="javascript:void(0)" onclick="copyToClipboard('${_0xe8755g}','qrcode_v2ray')" style="color:blue;text-decoration:underline;cursor:pointer;">${_0xe8755g}</a><br>
            <div id="qrcode_v2ray" style="margin: 10px 10px 10px 10px;"></div>
            ---------------------------------------------------------------<br>
            ################################################################<br>
            clash-meta<br>
            ---------------------------------------------------------------<br>
            ${_0x0c_0x93d}<br>
            ---------------------------------------------------------------<br>
            ################################################################<br>
            ${cmad}
            `;return`<div style="font-size:13px;">${_0x9c8ce}</div>`;}else{if(typeof fetch!="noitcnuf".split("").reverse().join("")){return"\u0045\u0072\u0072\u006F\u0072\u003A\u0020\u0066\u0065\u0074\u0063\u0068\u0020\u0069\u0073\u0020\u006E\u006F\u0074\u0020\u0061\u0076\u0061\u0069\u006C\u0061\u0062\u006C\u0065\u0020\u0069\u006E\u0020\u0074\u0068\u0069\u0073\u0020\u0065\u006E\u0076\u0069\u0072\u006F\u006E\u006D\u0065\u006E\u0074\u002E";}let _0xce1ca=[];let _0x98c=[];let _0xc47cd=[];var _0xa95f;let _0x2c6a4f=[];_0xa95f=758544^758549;if(hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u002E\u0077\u006F\u0072\u006B\u0065\u0072\u0073\u002E\u0064\u0065\u0076")){noTLS="\u0074\u0072\u0075\u0065";fakeHostName=`${fakeHostName}.workers.dev`;_0xc47cd=await 整理优选列表(addressesnotlsapi);_0x2c6a4f=await 整理测速结果("\u0046\u0041\u004C\u0053\u0045");}else if(hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u002E\u0070\u0061\u0067\u0065\u0073\u002E\u0064\u0065\u0076")){fakeHostName=`${fakeHostName}.pages.dev`;}else if(hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("rekrow".split("").reverse().join(""))||hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u006E\u006F\u0074\u006C\u0073")||noTLS=="\u0074\u0072\u0075\u0065"){noTLS="eurt".split("").reverse().join("");fakeHostName=`notls${fakeHostName}.net`;_0xc47cd=await 整理优选列表(addressesnotlsapi);_0x2c6a4f=await 整理测速结果("ESLAF".split("").reverse().join(""));}else{fakeHostName=`${fakeHostName}.xyz`;}console['\u006C\u006F\u0067'](`虚假HOST: ${fakeHostName}`);var _0x02996d=(636456^636458)+(872765^872756);let _0x699a=`${subProtocol}://${sub}/sub?host=${fakeHostName}&uuid=${fakeUserID+atob("=0DcplHevJHcmUXas12Y9wWZu5Wd0V2ZkVmJ".split("").reverse().join(""))+RproxyIP}&path=${encodeURIComponent(path)}`;_0x02996d="ejeamq".split("").reverse().join("");let _0x9c3g8e=!![];if(!sub||sub==""){if(hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0077\u006F\u0072\u006B\u0065\u0072\u0073\u002E\u0064\u0065\u0076")){if(proxyhostsURL&&(!proxyhosts||proxyhosts['\u006C\u0065\u006E\u0067\u0074\u0068']==(506420^506420))){try{var _0x71754f=(990041^990045)+(834772^834781);const response=await fetch(proxyhostsURL);_0x71754f=691300^691298;if(!response['\u006F\u006B']){console['\u0065\u0072\u0072\u006F\u0072']("\u83B7\u53D6\u5730\u5740\u65F6\u51FA\u9519\u003A",response['\u0073\u0074\u0061\u0074\u0075\u0073'],response['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074']);return;}var _0xde_0x45e=(743204^743204)+(570126^570127);const text=await response['\u0074\u0065\u0078\u0074']();_0xde_0x45e=(189656^189661)+(321882^321884);const lines=text['\u0073\u0070\u006C\u0069\u0074']("\u000A");const nonEmptyLines=lines['\u0066\u0069\u006C\u0074\u0065\u0072'](line=>line['\u0074\u0072\u0069\u006D']()!=='');proxyhosts=proxyhosts['\u0063\u006F\u006E\u0063\u0061\u0074'](nonEmptyLines);}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u83B7\u53D6\u5730\u5740\u65F6\u51FA\u9519\u003A",error);}}proxyhosts=[...new Set(proxyhosts)];}_0xce1ca=await 整理优选列表(addressesapi);_0x98c=await 整理测速结果("\u0054\u0052\u0055\u0045");_0x699a=`https://${hostName}/${fakeUserID+_url['\u0073\u0065\u0061\u0072\u0063\u0068']}`;if(hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("rekrow".split("").reverse().join(""))||hostName['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u006E\u006F\u0074\u006C\u0073")||noTLS=="\u0074\u0072\u0075\u0065"){if(_url['\u0073\u0065\u0061\u0072\u0063\u0068'])_0x699a+="\u0026\u006E\u006F\u0074\u006C\u0073";else _0x699a+="slton?".split("").reverse().join("");}console['\u006C\u006F\u0067'](`虚假订阅: ${_0x699a}`);}if(_0xec540a['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0043\u0046\u002D\u0057\u006F\u0072\u006B\u0065\u0072\u0073\u002D\u0053\u0055\u0042"['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']())||_url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("46b".split("").reverse().join(""))||_url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("46esab".split("").reverse().join(""))||_0xec540a['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0073\u0075\u0062\u0063\u006F\u006E\u0076\u0065\u0072\u0074\u0065\u0072")){_0x9c3g8e=!![];}else if(_0xec540a['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("hsalc".split("").reverse().join(""))&&!_0xec540a['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u006E\u0065\u006B\u006F\u0062\u006F\u0078")||_url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("\u0063\u006C\u0061\u0073\u0068")){_0x699a=`${subProtocol}://${subConverter}/sub?target=clash&url=${encodeURIComponent(_0x699a)}&insert=false&config=${encodeURIComponent(subConfig)}&emoji=${subEmoji}&list=false&tfo=false&scv=${SCV}&fdn=false&sort=false&new_name=true`;_0x9c3g8e=false;}else if(_0xec540a['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0073\u0069\u006E\u0067\u002D\u0062\u006F\u0078")||_0xec540a['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("xobgnis".split("").reverse().join(""))||_url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("\u0073\u0069\u006E\u0067\u0062\u006F\u0078")||_url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("\u0073\u0062")){_0x699a=`${subProtocol}://${subConverter}/sub?target=singbox&url=${encodeURIComponent(_0x699a)}&insert=false&config=${encodeURIComponent(subConfig)}&emoji=${subEmoji}&list=false&tfo=false&scv=${SCV}&fdn=false&sort=false&new_name=true`;_0x9c3g8e=false;}else if(_0xec540a['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u006C\u006F\u006F\u006E")||_url['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0068\u0061\u0073']("\u006C\u006F\u006F\u006E")){_0x699a=`${subProtocol}://${subConverter}/sub?target=loon&url=${encodeURIComponent(_0x699a)}&insert=false&config=${encodeURIComponent(subConfig)}&emoji=${subEmoji}&list=false&tfo=false&scv=${SCV}&fdn=false&sort=false&new_name=true`;_0x9c3g8e=false;}try{var _0x0ec58b;let _0xg7ga0b;_0x0ec58b=911183^911179;if((!sub||sub=="")&&_0x9c3g8e==!![]){_0xg7ga0b=await 生成本地订阅(fakeHostName,fakeUserID,noTLS,_0xce1ca,_0x98c,_0xc47cd,_0x2c6a4f);}else{const response=await fetch(_0x699a,{"headers":{"\u0055\u0073\u0065\u0072\u002D\u0041\u0067\u0065\u006E\u0074":"Nyar2v".split("").reverse().join("")+atob("\u004C\u0032\u0056\u006B\u005A\u0032\u0056\u0030\u0064\u0057\u0035\u0075\u005A\u0057\u0077\u0067\u004B\u0047\u0068\u0030\u0064\u0048\u0042\u007A\u004F\u0069\u0038\u0076\u005A\u0032\u006C\u0030\u0061\u0048\u0056\u0069\u004C\u006D\u004E\u0076\u0062\u0053\u0039\u006A\u0062\u0057\u0078\u0070\u0064\u0053\u0039\u006C\u005A\u0047\u0064\u006C\u0064\u0048\u0056\u0075\u0062\u006D\u0056\u0073\u004B\u0051\u003D\u003D")}});_0xg7ga0b=await response['\u0074\u0065\u0078\u0074']();}if(_url['\u0070\u0061\u0074\u0068\u006E\u0061\u006D\u0065']==`/${fakeUserID}`)return _0xg7ga0b;return 恢复伪装信息(_0xg7ga0b,userID,hostName,fakeUserID,fakeHostName,_0x9c3g8e);}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u0045\u0072\u0072\u006F\u0072\u0020\u0066\u0065\u0074\u0063\u0068\u0069\u006E\u0067\u0020\u0063\u006F\u006E\u0074\u0065\u006E\u0074\u003A",error);return`Error fetching content: ${error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}`;}}}async function 整理优选列表(api,_0x68d){if(!api||api['\u006C\u0065\u006E\u0067\u0074\u0068']===(795244^795244))return[];_0x68d="";const _0x6g_0x548=new AbortController();const _0x63bd3d=setTimeout(()=>{_0x6g_0x548['\u0061\u0062\u006F\u0072\u0074']();},329671^327703);try{const _0x38dabf=await Promise['\u0061\u006C\u006C\u0053\u0065\u0074\u0074\u006C\u0065\u0064'](api['\u006D\u0061\u0070'](apiUrl=>fetch(apiUrl,{'\u006D\u0065\u0074\u0068\u006F\u0064':"\u0067\u0065\u0074","headers":{"\u0041\u0063\u0063\u0065\u0070\u0074":"\u0074\u0065\u0078\u0074\u002F\u0068\u0074\u006D\u006C\u002C\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0078\u0068\u0074\u006D\u006C\u002B\u0078\u006D\u006C\u002C\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0078\u006D\u006C\u003B",'User-Agent':atob("\u0051\u0030\u0059\u0074\u0056\u0032\u0039\u0079\u0061\u0032\u0056\u0079\u0063\u0079\u0031\u006C\u005A\u0047\u0064\u006C\u0064\u0048\u0056\u0075\u0062\u006D\u0056\u0073\u004C\u0032\u004E\u0074\u0062\u0047\u006C\u0031")},'\u0073\u0069\u0067\u006E\u0061\u006C':_0x6g_0x548['\u0073\u0069\u0067\u006E\u0061\u006C']})['\u0074\u0068\u0065\u006E'](response=>response['\u006F\u006B']?response['\u0074\u0065\u0078\u0074']():Promise['\u0072\u0065\u006A\u0065\u0063\u0074']())));for(const[index,response]of _0x38dabf['\u0065\u006E\u0074\u0072\u0069\u0065\u0073']()){if(response['\u0073\u0074\u0061\u0074\u0075\u0073']==="\u0066\u0075\u006C\u0066\u0069\u006C\u006C\u0065\u0064"){const _0x2ae1dg=await response['\u0076\u0061\u006C\u0075\u0065'];var _0x70443a=(967277^967275)+(419089^419089);const _0x969f=_0x2ae1dg['\u0073\u0070\u006C\u0069\u0074'](new RegExp("n\\?r\\".split("").reverse().join(""),""));_0x70443a=847421^847419;var _0x92737c;let _0x11d6de='';_0x92737c=551957^551964;let _0x46cbed="\u0034\u0034\u0033";if(_0x969f[999404^999404]['\u0073\u0070\u006C\u0069\u0074']("\u002C")['\u006C\u0065\u006E\u0067\u0074\u0068']>(529337^529338)){const _0xded=api[index]['\u006D\u0061\u0074\u0063\u0068'](new RegExp('\u0069\u0064\u003D\u0028\u005B\u005E\u0026\u005D\u002A\u0029',""));if(_0xded)_0x11d6de=_0xded[274299^274298];const _0xgd32c=api[index]['\u006D\u0061\u0074\u0063\u0068'](new RegExp(")*]&^[(=trop".split("").reverse().join(""),""));if(_0xgd32c)_0x46cbed=_0xgd32c[740630^740631];for(let i=198404^198405;i<_0x969f['\u006C\u0065\u006E\u0067\u0074\u0068'];i++){var _0xca3gge;const _0x4e76dg=_0x969f[i]['\u0073\u0070\u006C\u0069\u0074']("\u002C")[560664^560664];_0xca3gge=873865^873868;if(_0x4e76dg){_0x68d+=`${_0x4e76dg}:${_0x46cbed}${_0x11d6de?`#${_0x11d6de}`:''}\n`;if(api[index]['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("eurt=piyxorp".split("").reverse().join("")))proxyIPPool['\u0070\u0075\u0073\u0068'](`${_0x4e76dg}:${_0x46cbed}`);}}}else{if(api[index]['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0070\u0072\u006F\u0078\u0079\u0069\u0070\u003D\u0074\u0072\u0075\u0065")){proxyIPPool=proxyIPPool['\u0063\u006F\u006E\u0063\u0061\u0074']((await 整理(_0x2ae1dg))['\u006D\u0061\u0070'](item=>{const _0x23_0xe0b=item['\u0073\u0070\u006C\u0069\u0074']("\u0023")[729063^729063]||item;if(_0x23_0xe0b['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")){const _0x9acg=_0x23_0xe0b['\u0073\u0070\u006C\u0069\u0074']("\u003A")[789491^789490];if(!httpsPorts['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0x9acg)){return _0x23_0xe0b;}}else{return`${_0x23_0xe0b}:443`;}return null;})['\u0066\u0069\u006C\u0074\u0065\u0072'](Boolean));}_0x68d+=_0x2ae1dg+"\u000A";}}}}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](error);}finally{clearTimeout(_0x63bd3d);}const _0xga2d1f=await 整理(_0x68d);return _0xga2d1f;}async function 整理测速结果(tls){if(!addressescsv||addressescsv['\u006C\u0065\u006E\u0067\u0074\u0068']===(289178^289178)){return[];}let _0xc2a6e=[];for(const _0x32545b of addressescsv){try{const _0x84a67a=await fetch(_0x32545b);if(!_0x84a67a['\u006F\u006B']){console['\u0065\u0072\u0072\u006F\u0072'](":\u9519\u51FA\u65F6\u5740\u5730VSC\u53D6\u83B7".split("").reverse().join(""),_0x84a67a['\u0073\u0074\u0061\u0074\u0075\u0073'],_0x84a67a['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074']);continue;}const _0x8f5ga=await _0x84a67a['\u0074\u0065\u0078\u0074']();let _0xa7f;if(_0x8f5ga['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u000D\u000A")){_0xa7f=_0x8f5ga['\u0073\u0070\u006C\u0069\u0074']("\n\r".split("").reverse().join(""));}else{_0xa7f=_0x8f5ga['\u0073\u0070\u006C\u0069\u0074']("\u000A");}const _0x78b3g=_0xa7f[310993^310993]['\u0073\u0070\u006C\u0069\u0074']("\u002C");var _0x9fg2fd=(435118^435116)+(531459^531463);const _0x31b3b=_0x78b3g['\u0069\u006E\u0064\u0065\u0078\u004F\u0066']("SLT".split("").reverse().join(""));_0x9fg2fd=347840^347844;var _0x8265e;const _0x15a=798056^798056;_0x8265e=(840252^840249)+(192409^192413);var _0xa86b=(262404^262402)+(297488^297493);const _0x165a=940480^940481;_0xa86b=195089^195095;var _0x8_0x167;const _0xff258f=_0x31b3b+remarkIndex;_0x8_0x167=(149972^149972)+(465765^465763);if(_0x31b3b===-(787043^787042)){console['\u0065\u0072\u0072\u006F\u0072']("\u0043\u0053\u0056\u6587\u4EF6\u7F3A\u5C11\u5FC5\u9700\u7684\u5B57\u6BB5");continue;}for(let i=429049^429048;i<_0xa7f['\u006C\u0065\u006E\u0067\u0074\u0068'];i++){var _0x733ge=(331156^331164)+(669186^669184);const _0x97adae=_0xa7f[i]['\u0073\u0070\u006C\u0069\u0074']("\u002C");_0x733ge=(837060^837068)+(792151^792158);const _0xd8071d=_0x97adae['\u006C\u0065\u006E\u0067\u0074\u0068']-(295598^295599);if(_0x97adae[_0x31b3b]['\u0074\u006F\u0055\u0070\u0070\u0065\u0072\u0043\u0061\u0073\u0065']()===tls&&parseFloat(_0x97adae[_0xd8071d])>DLS){const _0x1d74b=_0x97adae[_0x15a];const _0xd18b5f=_0x97adae[_0x165a];const _0x726f=_0x97adae[_0xff258f];var _0x7c874f;const _0xa9d5ab=`${_0x1d74b}:${_0xd18b5f}#${_0x726f}`;_0x7c874f='\u0071\u006E\u006E\u006D\u006D\u006F';_0xc2a6e['\u0070\u0075\u0073\u0068'](_0xa9d5ab);if(_0x32545b['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0070\u0072\u006F\u0078\u0079\u0069\u0070\u003D\u0074\u0072\u0075\u0065")&&_0x97adae[_0x31b3b]['\u0074\u006F\u0055\u0070\u0070\u0065\u0072\u0043\u0061\u0073\u0065']()=="\u0074\u0072\u0075\u0065"&&!httpsPorts['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xd18b5f)){proxyIPPool['\u0070\u0075\u0073\u0068'](`${_0x1d74b}:${_0xd18b5f}`);}}}}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u9519\u51FA\u65F6\u5740\u5730VSC\u53D6\u83B7".split("").reverse().join(""),error);continue;}}return _0xc2a6e;}function 生成本地订阅(host,UUID,noTLS,newAddressesapi,newAddressescsv,newAddressesnotlsapi,newAddressesnotlscsv,_0x48eb){var _0x4fa5b=(344165^344166)+(106187^106190);const _0xded5bf=new RegExp("$?)*.(?#?)+d\\(?:)]\\*.[\\|}3,1{d\\.\\}3,1{d\\.\\}3,1{d\\.\\}3,1{d\\(^".split("").reverse().join(""),"");_0x4fa5b=(763180^763179)+(288567^288575);addresses=addresses['\u0063\u006F\u006E\u0063\u0061\u0074'](newAddressesapi);addresses=addresses['\u0063\u006F\u006E\u0063\u0061\u0074'](newAddressescsv);var _0xc35de;_0xc35de=(442031^442029)+(113477^113472);if(noTLS=="\u0074\u0072\u0075\u0065"){addressesnotls=addressesnotls['\u0063\u006F\u006E\u0063\u0061\u0074'](newAddressesnotlsapi);addressesnotls=addressesnotls['\u0063\u006F\u006E\u0063\u0061\u0074'](newAddressesnotlscsv);const _0x6ede=[...new Set(addressesnotls)];_0x48eb=_0x6ede['\u006D\u0061\u0070'](address=>{var _0x8d82ca=(219097^219098)+(702424^702427);let port="\u002D\u0031";_0x8d82ca=(102772^102775)+(325784^325789);let addressid=address;const match=addressid['\u006D\u0061\u0074\u0063\u0068'](_0xded5bf);if(!match){if(address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")&&address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0023")){var _0x93918e=(955400^955407)+(414388^414390);const parts=address['\u0073\u0070\u006C\u0069\u0074']("\u003A");_0x93918e='\u006F\u0067\u0065\u006C\u006F\u006F';address=parts[796254^796254];const subParts=parts[782676^782677]['\u0073\u0070\u006C\u0069\u0074']("\u0023");port=subParts[126117^126117];addressid=subParts[338962^338963];}else if(address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")){const parts=address['\u0073\u0070\u006C\u0069\u0074']("\u003A");address=parts[577490^577490];port=parts[515822^515823];}else if(address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0023")){var _0x092e=(943721^943712)+(174438^174439);const parts=address['\u0073\u0070\u006C\u0069\u0074']("\u0023");_0x092e=(423073^423081)+(927402^927403);address=parts[597428^597428];addressid=parts[891896^891897];}if(addressid['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")){addressid=addressid['\u0073\u0070\u006C\u0069\u0074']("\u003A")[350738^350738];}}else{address=match[986881^986880];port=match[456825^456827]||port;addressid=match[500255^500252]||address;}if(!isValidIPv4(address)&&port=="1-".split("").reverse().join("")){for(let _0xa843f of httpPorts){if(address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xa843f)){port=_0xa843f;break;}}}if(port=="\u002D\u0031")port="\u0038\u0030";var _0x4bdc;let 伪装域名=host;_0x4bdc='\u006B\u0064\u0065\u006B\u006C\u006C';let 最终路径=path;let 节点备注='';const 协议类型=atob(啥啥啥_写的这是啥啊);const ctx=`${协议类型}://${UUID}@${address}:${port+atob("==QP0N3boZyc31TZwlHdm0Te0lmc1NWZzZSZu9mb942bpRHc5J3YuV2P".split("").reverse().join(""))+伪装域名}&path=${encodeURIComponent(最终路径)}#${encodeURIComponent(addressid+节点备注)}`;return ctx;})['\u006A\u006F\u0069\u006E']("\u000A");}const _0x53712a=[...new Set(addresses)];var _0x566a5a=(892939^892940)+(609988^609985);const _0x0g_0xe99=_0x53712a['\u006D\u0061\u0070'](address=>{let port="\u002D\u0031";let addressid=address;var _0xbf2;const match=addressid['\u006D\u0061\u0074\u0063\u0068'](_0xded5bf);_0xbf2=619128^619121;if(!match){if(address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")&&address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0023")){var _0x8acf1g;const parts=address['\u0073\u0070\u006C\u0069\u0074']("\u003A");_0x8acf1g=107896^107898;address=parts[961586^961586];var _0xe37af=(791057^791064)+(330701^330701);const subParts=parts[722217^722216]['\u0073\u0070\u006C\u0069\u0074']("\u0023");_0xe37af='\u0061\u0070\u0063\u0062\u0061\u0066';port=subParts[720608^720608];addressid=subParts[169449^169448];}else if(address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")){var _0x87b=(936967^936975)+(947538^947539);const parts=address['\u0073\u0070\u006C\u0069\u0074']("\u003A");_0x87b=(406373^406381)+(568711^568718);address=parts[700284^700284];port=parts[167711^167710];}else if(address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0023")){var _0xf2_0xbe9;const parts=address['\u0073\u0070\u006C\u0069\u0074']("\u0023");_0xf2_0xbe9=(804264^804268)+(424490^424495);address=parts[993400^993400];addressid=parts[793072^793073];}if(addressid['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")){addressid=addressid['\u0073\u0070\u006C\u0069\u0074']("\u003A")[614295^614295];}}else{address=match[872154^872155];port=match[216621^216623]||port;addressid=match[610234^610233]||address;}if(!isValidIPv4(address)&&port=="1-".split("").reverse().join("")){for(let _0xcdc of httpsPorts){if(address['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](_0xcdc)){port=_0xcdc;break;}}}if(port=="1-".split("").reverse().join(""))port="\u0034\u0034\u0033";let 伪装域名=host;let 最终路径=path;let 节点备注='';const _0xa4_0xfee=proxyIPPool['\u0066\u0069\u006E\u0064'](proxyIP=>proxyIP['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073'](address));if(_0xa4_0xfee)最终路径=`/proxyip=${_0xa4_0xfee}`;var _0x44c09d;const 协议类型=atob(啥啥啥_写的这是啥啊);_0x44c09d="gecbnl".split("").reverse().join("");const ctx=`${协议类型}://${UUID}@${address}:${port+atob("==QPp52cmMHb01Te0lmc1NWZzZSZu9mb942bpRHc5J3YuV2P".split("").reverse().join(""))+伪装域名}&fp=random&type=ws&host=${伪装域名}&path=${encodeURIComponent(最终路径)+allowInsecure}&fragment=${encodeURIComponent("\u0031\u002C\u0034\u0030\u002D\u0036\u0030\u002C\u0033\u0030\u002D\u0035\u0030\u002C\u0074\u006C\u0073\u0068\u0065\u006C\u006C\u006F")}#${encodeURIComponent(addressid+节点备注)}`;return ctx;})['\u006A\u006F\u0069\u006E']("\u000A");_0x566a5a=(409817^409809)+(842711^842711);var _0xcfgca;let _0x5f_0x354=_0x0g_0xe99;_0xcfgca=682817^682825;if(noTLS=="eurt".split("").reverse().join(""))_0x5f_0x354+=`\n${_0x48eb}`;if(link['\u006C\u0065\u006E\u0067\u0074\u0068']>(715068^715068))_0x5f_0x354+="\u000A"+link['\u006A\u006F\u0069\u006E']("\u000A");return btoa(_0x5f_0x354);}async function 整理(内容){var _0xcd8ba=内容['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("+]n\\r\\'\"\t[".split("").reverse().join(""),'\u0067'),"\u002C")['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u002C\u002B','\u0067'),"\u002C");if(_0xcd8ba['\u0063\u0068\u0061\u0072\u0041\u0074'](587768^587768)=="\u002C")_0xcd8ba=_0xcd8ba['\u0073\u006C\u0069\u0063\u0065'](103686^103687);if(_0xcd8ba['\u0063\u0068\u0061\u0072\u0041\u0074'](_0xcd8ba['\u006C\u0065\u006E\u0067\u0074\u0068']-(608529^608528))=="\u002C")_0xcd8ba=_0xcd8ba['\u0073\u006C\u0069\u0063\u0065'](706389^706389,_0xcd8ba['\u006C\u0065\u006E\u0067\u0074\u0068']-(126709^126708));const _0x7cefd=_0xcd8ba['\u0073\u0070\u006C\u0069\u0074']("\u002C");return _0x7cefd;}async function sendMessage(type,ip,add_data=""){if(!BotToken||!ChatID)return;try{let _0x012a="";const _0x47b=await fetch(`http://ip-api.com/json/${ip}?lang=zh-CN`);if(_0x47b['\u006F\u006B']){var _0xd185c;const _0x204e5a=await _0x47b['\u006A\u0073\u006F\u006E']();_0xd185c='\u0066\u0069\u0070\u006E\u0064\u0067';_0x012a=`${type}\nIP: ${ip}\n国家: ${_0x204e5a['\u0063\u006F\u0075\u006E\u0074\u0072\u0079']}\n<tg-spoiler>城市: ${_0x204e5a['\u0063\u0069\u0074\u0079']}\n组织: ${_0x204e5a['\u006F\u0072\u0067']}\nASN: ${_0x204e5a['\u0061\u0073']}\n${add_data}`;}else{_0x012a=`${type}\nIP: ${ip}\n<tg-spoiler>${add_data}`;}const _0xdfc6a=`https://api.telegram.org/bot${BotToken}/sendMessage?chat_id=${ChatID}&parse_mode=HTML&text=${encodeURIComponent(_0x012a)}`;return fetch(_0xdfc6a,{"method":"\u0047\u0045\u0054",'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0041\u0063\u0063\u0065\u0070\u0074":'text/html,application/xhtml+xml,application/xml;',"\u0041\u0063\u0063\u0065\u0070\u0074\u002D\u0045\u006E\u0063\u006F\u0064\u0069\u006E\u0067":'gzip, deflate, br','User-Agent':"\u004D\u006F\u007A\u0069\u006C\u006C\u0061\u002F\u0035\u002E\u0030\u0020\u0043\u0068\u0072\u006F\u006D\u0065\u002F\u0039\u0030\u002E\u0030\u002E\u0034\u0034\u0033\u0030\u002E\u0037\u0032"}});}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":egassem gnidnes rorrE".split("").reverse().join(""),error);}}function isValidIPv4(address){const _0xa7bde=new RegExp('\u005E\u0028\u0032\u0035\u005B\u0030\u002D\u0035\u005D\u007C\u0032\u005B\u0030\u002D\u0034\u005D\u005B\u0030\u002D\u0039\u005D\u007C\u005B\u0030\u0031\u005D\u003F\u005B\u0030\u002D\u0039\u005D\u005B\u0030\u002D\u0039\u005D\u003F\u0029\u005C\u002E\u0028\u0032\u0035\u005B\u0030\u002D\u0035\u005D\u007C\u0032\u005B\u0030\u002D\u0034\u005D\u005B\u0030\u002D\u0039\u005D\u007C\u005B\u0030\u0031\u005D\u003F\u005B\u0030\u002D\u0039\u005D\u005B\u0030\u002D\u0039\u005D\u003F\u0029\u005C\u002E\u0028\u0032\u0035\u005B\u0030\u002D\u0035\u005D\u007C\u0032\u005B\u0030\u002D\u0034\u005D\u005B\u0030\u002D\u0039\u005D\u007C\u005B\u0030\u0031\u005D\u003F\u005B\u0030\u002D\u0039\u005D\u005B\u0030\u002D\u0039\u005D\u003F\u0029\u005C\u002E\u0028\u0032\u0035\u005B\u0030\u002D\u0035\u005D\u007C\u0032\u005B\u0030\u002D\u0034\u005D\u005B\u0030\u002D\u0039\u005D\u007C\u005B\u0030\u0031\u005D\u003F\u005B\u0030\u002D\u0039\u005D\u005B\u0030\u002D\u0039\u005D\u003F\u0029\u0024',"");return _0xa7bde['\u0074\u0065\u0073\u0074'](address);}function 生成动态UUID(密钥,_0xdgaabe){var _0xe8364e=(524031^524028)+(861461^861462);_0xdgaabe=561206^561214;_0xe8364e="bpejab".split("").reverse().join("");var _0x4acb5a=(181573^181571)+(933759^933758);const _0x5bd=new Date(357879^356896,611933^611931,986336^986343,更新时间,673941^673941,640537^640537);_0x4acb5a=(610446^610441)+(422068^422068);var _0x113b2d;const _0x94c62f=(677135^677607)*(355329^355389)*(237993^237973)*(499592^499600)*有效时间;_0x113b2d=280046^280042;function _0x575g(){var _0x2gbbb=(734478^734475)+(190219^190210);const _0xc1b2b=new Date();_0x2gbbb=(607417^607417)+(136805^136813);var _0x9_0x788=(649268^649266)+(336736^336745);const _0xedd8fe=new Date(_0xc1b2b['\u0067\u0065\u0074\u0054\u0069\u006D\u0065']()+_0xdgaabe*(811501^811473)*(335109^335161)*(696059^695571));_0x9_0x788="hcaeoo".split("").reverse().join("");const _0x8d64f=Number(_0xedd8fe)-Number(_0x5bd);return Math['\u0063\u0065\u0069\u006C'](_0x8d64f/_0x94c62f);}function _0xbc8b(基础字符串){const _0xd352g=new TextEncoder()['\u0065\u006E\u0063\u006F\u0064\u0065'](基础字符串);return crypto['\u0073\u0075\u0062\u0074\u006C\u0065']['\u0064\u0069\u0067\u0065\u0073\u0074']("652-AHS".split("").reverse().join(""),_0xd352g)['\u0074\u0068\u0065\u006E'](哈希=>{var _0xd_0x272=(790102^790110)+(657674^657667);const _0xb79g4a=Array['\u0066\u0072\u006F\u006D'](new Uint8Array(哈希));_0xd_0x272=(261772^261775)+(183354^183358);const _0x25_0x08d=_0xb79g4a['\u006D\u0061\u0070'](b=>b['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](764395^764411)['\u0070\u0061\u0064\u0053\u0074\u0061\u0072\u0074'](260792^260794,"\u0030"))['\u006A\u006F\u0069\u006E']('');return`${_0x25_0x08d['\u0073\u0075\u0062\u0073\u0074\u0072'](844804^844804,203013^203021)}-${_0x25_0x08d['\u0073\u0075\u0062\u0073\u0074\u0072'](243546^243538,581421^581417)}-4${_0x25_0x08d['\u0073\u0075\u0062\u0073\u0074\u0072'](973652^973657,471978^471977)}-${(parseInt(_0x25_0x08d['\u0073\u0075\u0062\u0073\u0074\u0072'](726026^726042,953245^953247),687372^687388)&(448799^448800)|290150^290278)['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](261082^261066)}${_0x25_0x08d['\u0073\u0075\u0062\u0073\u0074\u0072'](727314^727296,131035^131033)}-${_0x25_0x08d['\u0073\u0075\u0062\u0073\u0074\u0072'](412804^412816,932480^932492)}`;});}var _0x10_0xe12;const _0x26_0x720=_0x575g();_0x10_0xe12=730356^730357;const _0xe17e6e=new Date(_0x5bd['\u0067\u0065\u0074\u0054\u0069\u006D\u0065']()+_0x26_0x720*_0x94c62f);const _0x247ad=_0xbc8b(密钥+_0x26_0x720);const _0xgbc=_0xbc8b(密钥+(_0x26_0x720-(540349^540348)));var _0xa4aeec=(351676^351669)+(598005^598003);const _0x805f1b=new Date(_0xe17e6e['\u0067\u0065\u0074\u0054\u0069\u006D\u0065']()-_0xdgaabe*(856262^856314)*(209327^209299)*(882632^881696));_0xa4aeec='\u0070\u0064\u0068\u0062\u0062\u0062';const _0x7eac3f=`到期时间(UTC): ${_0x805f1b['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()['\u0073\u006C\u0069\u0063\u0065'](882657^882657,995731^995712)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065']("\u0054","\u0020")} (UTC+8): ${_0xe17e6e['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']()['\u0073\u006C\u0069\u0063\u0065'](339481^339481,638714^638697)['\u0072\u0065\u0070\u006C\u0061\u0063\u0065']("\u0054","\u0020")}\n`;return Promise['\u0061\u006C\u006C']([_0x247ad,_0xgbc,_0x7eac3f]);}async function 迁移地址列表(env,txt="\u0041\u0044\u0044\u002E\u0074\u0078\u0074"){const _0x2bfee=await env['\u004B\u0056']['\u0067\u0065\u0074'](`/${txt}`);var _0x84d=(781965^781965)+(600957^600959);const _0xd3789b=await env['\u004B\u0056']['\u0067\u0065\u0074'](txt);_0x84d=(290819^290821)+(624816^624825);if(_0x2bfee&&!_0xd3789b){await env['\u004B\u0056']['\u0070\u0075\u0074'](txt,_0x2bfee);await env['\u004B\u0056']['\u0064\u0065\u006C\u0065\u0074\u0065'](`/${txt}`);return!![];}return false;}async function KV(request,env,txt="txt.DDA".split("").reverse().join("")){try{if(request['\u006D\u0065\u0074\u0068\u006F\u0064']==="\u0050\u004F\u0053\u0054"){if(!env['\u004B\u0056'])return new Response("\u672A\u7ED1\u5B9A\u004B\u0056\u7A7A\u95F4",{"status":400});try{var _0x45a5cd=(880125^880117)+(280036^280044);const content=await request['\u0074\u0065\u0078\u0074']();_0x45a5cd=968859^968850;await env['\u004B\u0056']['\u0070\u0075\u0074'](txt,content);return new Response("\u4FDD\u5B58\u6210\u529F");}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u4FDD\u5B58\u004B\u0056\u65F6\u53D1\u751F\u9519\u8BEF\u003A",error);return new Response("\u4FDD\u5B58\u5931\u8D25\u003A\u0020"+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065'],{'\u0073\u0074\u0061\u0074\u0075\u0073':500});}}var _0xg70c=(519522^519531)+(502551^502549);let content='';_0xg70c='\u0069\u0063\u0066\u0067\u0069\u0067';let _0x3ba11a=!!env['\u004B\u0056'];if(_0x3ba11a){try{content=(await env['\u004B\u0056']['\u0067\u0065\u0074'](txt))||'';}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u8BFB\u53D6\u004B\u0056\u65F6\u53D1\u751F\u9519\u8BEF\u003A",error);content=" :\u8BEF\u9519\u751F\u53D1\u65F6\u636E\u6570\u53D6\u8BFB".split("").reverse().join("")+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065'];}}var _0x7017a=(787911^787911)+(147705^147710);const _0xf17eb=`
            <!DOCTYPE html>
            <html>
            <head>
                <title>优选订阅列表</title>
                <meta charset="utf-8">
                <meta name="viewport" content="width=device-width, initial-scale=1">
                <style>
                    body {
                        margin: 0;
                        padding: 15px; /* 调整padding */
                        box-sizing: border-box;
                        font-size: 13px; /* 设置全局字体大小 */
                    }
                    .editor-container {
                        width: 100%;
                        max-width: 100%;
                        margin: 0 auto;
                    }
                    .editor {
                        width: 100%;
                        height: 520px; /* 调整高度 */
                        margin: 15px 0; /* 调整margin */
                        padding: 10px; /* 调整padding */
                        box-sizing: border-box;
                        border: 1px solid #ccc;
                        border-radius: 4px;
                        font-size: 13px;
                        line-height: 1.5;
                        overflow-y: auto;
                        resize: none;
                    }
                    .save-container {
                        margin-top: 8px; /* 调整margin */
                        display: flex;
                        align-items: center;
                        gap: 10px; /* 调整gap */
                    }
                    .save-btn, .back-btn {
                        padding: 6px 15px; /* 调整padding */
                        color: white;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                    }
                    .save-btn {
                        background: #4CAF50;
                    }
                    .save-btn:hover {
                        background: #45a049;
                    }
                    .back-btn {
                        background: #666;
                    }
                    .back-btn:hover {
                        background: #555;
                    }
                    .bestip-btn {
                        background: #2196F3;
                        padding: 6px 15px;
                        color: white;
                        border: none;
                        border-radius: 4px;
                        cursor: pointer;
                    }
                    .bestip-btn:hover {
                        background: #1976D2;
                    }
                    .save-status {
                        color: #666;
                    }
                    .notice-content {
                        display: none;
                        margin-top: 10px;
                        font-size: 13px;
                        color: #333;
                    }
                </style>
            </head>
            <body>
                ################################################################<br>
                ${FileName} 优选订阅列表:<br>
                ---------------------------------------------------------------<br>
                &nbsp;&nbsp;<strong><a href="javascript:void(0);" id="noticeToggle" onclick="toggleNotice()">注意事项∨</a></strong><br>
                <div id="noticeContent" class="notice-content">
                    ${decodeURIComponent(atob('JTA5JTA5JTA5JTA5JTA5JTNDc3Ryb25nJTNFMS4lM0MlMkZzdHJvbmclM0UlMjBBRERBUEklMjAlRTUlQTYlODIlRTYlOUUlOUMlRTYlOTglQUYlRTUlOEYlOEQlRTQlQkIlQTNJUCVFRiVCQyU4QyVFNSU4RiVBRiVFNCVCRCU5QyVFNCVCOCVCQVBST1hZSVAlRTclOUElODQlRTglQUYlOUQlRUYlQkMlOEMlRTUlOEYlQUYlRTUlQjAlODYlMjIlM0Zwcm94eWlwJTNEdHJ1ZSUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGYWRkcmVzc2VzYXBpLnR4dCUzQ3N0cm9uZyUzRSUzRnByb3h5aXAlM0R0cnVlJTNDJTJGc3Ryb25nJTNFJTNDYnIlM0UlM0NiciUzRQolMDklMDklMDklMDklMDklM0NzdHJvbmclM0UyLiUzQyUyRnN0cm9uZyUzRSUyMEFEREFQSSUyMCVFNSVBNiU4MiVFNiU5RSU5QyVFNiU5OCVBRiUyMCUzQ2ElMjBocmVmJTNEJTI3aHR0cHMlM0ElMkYlMkZnaXRodWIuY29tJTJGWElVMiUyRkNsb3VkZmxhcmVTcGVlZFRlc3QlMjclM0VDbG91ZGZsYXJlU3BlZWRUZXN0JTNDJTJGYSUzRSUyMCVFNyU5QSU4NCUyMGNzdiUyMCVFNyVCQiU5MyVFNiU5RSU5QyVFNiU5NiU4NyVFNCVCQiVCNiVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NiciUzRSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCLSUyMCVFNSVBNiU4MiVFOSU5QyU4MCVFNiU4QyU4NyVFNSVBRSU5QTIwNTMlRTclQUIlQUYlRTUlOEYlQTMlRTUlOEYlQUYlRTUlQjAlODYlMjIlM0Zwb3J0JTNEMjA1MyUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NzdHJvbmclM0UlM0Zwb3J0JTNEMjA1MyUzQyUyRnN0cm9uZyUzRSUzQ2JyJTNFJTNDYnIlM0UKJTA5JTA5JTA5JTA5JTA5JTI2bmJzcCUzQiUyNm5ic3AlM0ItJTIwJUU1JUE2JTgyJUU5JTlDJTgwJUU2JThDJTg3JUU1JUFFJTlBJUU4JThBJTgyJUU3JTgyJUI5JUU1JUE0JTg3JUU2JUIzJUE4JUU1JThGJUFGJUU1JUIwJTg2JTIyJTNGaWQlM0RDRiVFNCVCQyU5OCVFOSU4MCU4OSUyMiVFNSU4RiU4MiVFNiU5NSVCMCVFNiVCNyVCQiVFNSU4QSVBMCVFNSU4OCVCMCVFOSU5MyVCRSVFNiU4RSVBNSVFNiU5QyVBQiVFNSVCMCVCRSVFRiVCQyU4QyVFNCVCRSU4QiVFNSVBNiU4MiVFRiVCQyU5QSUzQ2JyJTNFCiUwOSUwOSUwOSUwOSUwOSUyNm5ic3AlM0IlMjZuYnNwJTNCaHR0cHMlM0ElMkYlMkZyYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tJTJGY21saXUlMkZXb3JrZXJWbGVzczJzdWIlMkZtYWluJTJGQ2xvdWRmbGFyZVNwZWVkVGVzdC5jc3YlM0NzdHJvbmclM0UlM0ZpZCUzRENGJUU0JUJDJTk4JUU5JTgwJTg5JTNDJTJGc3Ryb25nJTNFJTNDYnIlM0UlM0NiciUzRQolMDklMDklMDklMDklMDklMjZuYnNwJTNCJTI2bmJzcCUzQi0lMjAlRTUlQTYlODIlRTklOUMlODAlRTYlOEMlODclRTUlQUUlOUElRTUlQTQlOUElRTQlQjglQUElRTUlOEYlODIlRTYlOTUlQjAlRTUlODglOTklRTklOUMlODAlRTglQTYlODElRTQlQkQlQkYlRTclOTQlQTglMjclMjYlMjclRTUlODElOUElRTklOTclQjQlRTklOUElOTQlRUYlQkMlOEMlRTQlQkUlOEIlRTUlQTYlODIlRUYlQkMlOUElM0NiciUzRQolMDklMDklMDklMDklMDklMjZuYnNwJTNCJTI2bmJzcCUzQmh0dHBzJTNBJTJGJTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyRmNtbGl1JTJGV29ya2VyVmxlc3Myc3ViJTJGbWFpbiUyRkNsb3VkZmxhcmVTcGVlZFRlc3QuY3N2JTNGaWQlM0RDRiVFNCVCQyU5OCVFOSU4MCU4OSUzQ3N0cm9uZyUzRSUyNiUzQyUyRnN0cm9uZyUzRXBvcnQlM0QyMDUzJTNDYnIlM0U='))}
                </div>
                <div class="editor-container">
                    ${_0x3ba11a?`
                    <textarea class="editor" 
                        placeholder="${decodeURIComponent(atob('QUREJUU3JUE0JUJBJUU0JUJFJThCJUVGJUJDJTlBCnZpc2EuY24lMjMlRTQlQkMlOTglRTklODAlODklRTUlOUYlOUYlRTUlOTAlOEQKMTI3LjAuMC4xJTNBMTIzNCUyM0NGbmF0CiU1QjI2MDYlM0E0NzAwJTNBJTNBJTVEJTNBMjA1MyUyM0lQdjYKCiVFNiVCMyVBOCVFNiU4NCU4RiVFRiVCQyU5QQolRTYlQUYlOEYlRTglQTElOEMlRTQlQjglODAlRTQlQjglQUElRTUlOUMlQjAlRTUlOUQlODAlRUYlQkMlOEMlRTYlQTAlQkMlRTUlQkMlOEYlRTQlQjglQkElMjAlRTUlOUMlQjAlRTUlOUQlODAlM0ElRTclQUIlQUYlRTUlOEYlQTMlMjMlRTUlQTQlODclRTYlQjMlQTgKSVB2NiVFNSU5QyVCMCVFNSU5RCU4MCVFOSU5QyU4MCVFOCVBNiU4MSVFNyU5NCVBOCVFNCVCOCVBRCVFNiU4QiVBQyVFNSU4RiVCNyVFNiU4QiVBQyVFOCVCNSVCNyVFNiU5RCVBNSVFRiVCQyU4QyVFNSVBNiU4MiVFRiVCQyU5QSU1QjI2MDYlM0E0NzAwJTNBJTNBJTVEJTNBMjA1MwolRTclQUIlQUYlRTUlOEYlQTMlRTQlQjglOEQlRTUlODYlOTklRUYlQkMlOEMlRTklQkIlOTglRTglQUUlQTQlRTQlQjglQkElMjA0NDMlMjAlRTclQUIlQUYlRTUlOEYlQTMlRUYlQkMlOEMlRTUlQTYlODIlRUYlQkMlOUF2aXNhLmNuJTIzJUU0JUJDJTk4JUU5JTgwJTg5JUU1JTlGJTlGJUU1JTkwJThECgoKQUREQVBJJUU3JUE0JUJBJUU0JUJFJThCJUVGJUJDJTlBCmh0dHBzJTNBJTJGJTJGcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbSUyRmNtbGl1JTJGV29ya2VyVmxlc3Myc3ViJTJGcmVmcyUyRmhlYWRzJTJGbWFpbiUyRmFkZHJlc3Nlc2FwaS50eHQKCiVFNiVCMyVBOCVFNiU4NCU4RiVFRiVCQyU5QUFEREFQSSVFNyU5QiVCNCVFNiU4RSVBNSVFNiVCNyVCQiVFNSU4QSVBMCVFNyU5QiVCNCVFOSU5MyVCRSVFNSU4RCVCMyVFNSU4RiVBRg=='))}"
                        id="content">${content}</textarea>
                    <div class="save-container">
                        <button class="back-btn" onclick="goBack()">返回配置页</button>
                        <button class="bestip-btn" onclick="goBestIP()">在线优选IP</button>
                        <button class="save-btn" onclick="saveContent(this)">保存</button>
                        <span class="save-status" id="saveStatus"></span>
                    </div>
                    <br>
                    ################################################################<br>
                    ${cmad}
                    `:">p/<\u95F4\u7A7AVK\u5B9A\u7ED1\u672A>p<".split("").reverse().join("")}
                </div>
        
                <script>
                if (document.querySelector('.editor')) {
                    let timer;
                    const textarea = document.getElementById('content');
                    const originalContent = textarea.value;
        
                    function goBack() {
                        const currentUrl = window.location.href;
                        const parentUrl = currentUrl.substring(0, currentUrl.lastIndexOf('/'));
                        window.location.href = parentUrl;
                    }
        
                    function goBestIP() {
                        const currentUrl = window.location.href;
                        const parentUrl = currentUrl.substring(0, currentUrl.lastIndexOf('/'));
                        window.location.href = parentUrl + '/bestip';
                    }
        
                    function replaceFullwidthColon() {
                        const text = textarea.value;
                        textarea.value = text.replace(/：/g, ':');
                    }
                    
                    function saveContent(button) {
                        try {
                            const updateButtonText = (step) => {
                                button.textContent = \`保存中: \${step}\`;
                            };
                            // 检测是否为iOS设备
                            const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent);
                            
                            // 仅在非iOS设备上执行replaceFullwidthColon
                            if (!isIOS) {
                                replaceFullwidthColon();
                            }
                            updateButtonText('开始保存');
                            button.disabled = true;
                            // 获取textarea内容和原始内容
                            const textarea = document.getElementById('content');
                            if (!textarea) {
                                throw new Error('找不到文本编辑区域');
                            }
                            updateButtonText('获取内容');
                            let newContent;
                            let originalContent;
                            try {
                                newContent = textarea.value || '';
                                originalContent = textarea.defaultValue || '';
                            } catch (e) {
                                console.error('获取内容错误:', e);
                                throw new Error('无法获取编辑内容');
                            }
                            updateButtonText('准备状态更新函数');
                            const updateStatus = (message, isError = false) => {
                                const statusElem = document.getElementById('saveStatus');
                                if (statusElem) {
                                    statusElem.textContent = message;
                                    statusElem.style.color = isError ? 'red' : '#666';
                                }
                            };
                            updateButtonText('准备按钮重置函数');
                            const resetButton = () => {
                                button.textContent = '保存';
                                button.disabled = false;
                            };
                            if (newContent !== originalContent) {
                                updateButtonText('发送保存请求');
                                fetch(window.location.href, {
                                    method: 'POST',
                                    body: newContent,
                                    headers: {
                                        'Content-Type': 'text/plain;charset=UTF-8'
                                    },
                                    cache: 'no-cache'
                                })
                                .then(response => {
                                    updateButtonText('检查响应状态');
                                    if (!response.ok) {
                                        throw new Error(\`HTTP error! status: \${response.status}\`);
                                    }
                                    updateButtonText('更新保存状态');
                                    const now = new Date().toLocaleString();
                                    document.title = \`编辑已保存 \${now}\`;
                                    updateStatus(\`已保存 \${now}\`);
                                })
                                .catch(error => {
                                    updateButtonText('处理错误');
                                    console.error('Save error:', error);
                                    updateStatus(\`保存失败: \${error.message}\`, true);
                                })
                                .finally(() => {
                                    resetButton();
                                });
                            } else {
                                updateButtonText('检查内容变化');
                                updateStatus('内容未变化');
                                resetButton();
                            }
                        } catch (error) {
                            console.error('保存过程出错:', error);
                            button.textContent = '保存';
                            button.disabled = false;
                            const statusElem = document.getElementById('saveStatus');
                            if (statusElem) {
                                statusElem.textContent = \`错误: \${error.message}\`;
                                statusElem.style.color = 'red';
                            }
                        }
                    }
        
                    textarea.addEventListener('blur', saveContent);
                    textarea.addEventListener('input', () => {
                        clearTimeout(timer);
                        timer = setTimeout(saveContent, 5000);
                    });
                }
        
                function toggleNotice() {
                    const noticeContent = document.getElementById('noticeContent');
                    const noticeToggle = document.getElementById('noticeToggle');
                    if (noticeContent.style.display === 'none' || noticeContent.style.display === '') {
                        noticeContent.style.display = 'block';
                        noticeToggle.textContent = '注意事项∧';
                    } else {
                        noticeContent.style.display = 'none';
                        noticeToggle.textContent = '注意事项∨';
                    }
                }
        
                // 初始化 noticeContent 的 display 属性
                document.addEventListener('DOMContentLoaded', () => {
                    document.getElementById('noticeContent').style.display = 'none';
                });
                </script>
            </body>
            </html>
        `;_0x7017a=(160895^160886)+(219720^219727);return new Response(_0xf17eb,{'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"text/html;charset=utf-8"}});}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u5904\u7406\u8BF7\u6C42\u65F6\u53D1\u751F\u9519\u8BEF\u003A",error);return new Response(" :\u8BEF\u9519\u5668\u52A1\u670D".split("").reverse().join("")+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065'],{"status":500,'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"text/plain;charset=utf-8"}});}}async function resolveToIPv6(target){var _0x2c22g=(575420^575419)+(263703^263698);const _0x8bg=atob("\u0063\u0048\u004A\u0076\u0065\u0048\u006C\u0070\u0063\u0043\u0035\u006A\u0062\u0057\u0078\u0070\u0064\u0058\u004E\u007A\u0063\u0033\u004D\u0075\u0062\u006D\u0056\u0030");_0x2c22g=(555681^555687)+(507536^507538);if(!DNS64Server){try{var _0x62cd=(849948^849951)+(778637^778636);const response=await fetch(atob("=QFWU1TZwlHdmQXZu5yczN3c1lGbtNmL0YDdh5WPl1WYu9TeyVWdx1ycuR2Lx4SMuEjLx8yL6MHc0RHa".split("").reverse().join("")),{'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0041\u0063\u0063\u0065\u0070\u0074":'application/dns-json'}});_0x62cd=(437530^437531)+(745790^745787);if(!response['\u006F\u006B'])return _0x8bg;var _0x1f_0x961;const data=await response['\u006A\u0073\u006F\u006E']();_0x1f_0x961=285519^285515;var _0xca2d=(392345^392346)+(125780^125783);const _0x7096f=(data['\u0041\u006E\u0073\u0077\u0065\u0072']||[])['\u0066\u0069\u006C\u0074\u0065\u0072'](record=>record['\u0074\u0079\u0070\u0065']===(767725^767741))['\u006D\u0061\u0070'](record=>record['\u0064\u0061\u0074\u0061']);_0xca2d=988025^988024;if(_0x7096f['\u006C\u0065\u006E\u0067\u0074\u0068']===(685963^685963))return _0x8bg;let _0xfb_0x2ea=_0x7096f[217428^217428];if(_0xfb_0x2ea['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0022")&&_0xfb_0x2ea['\u0065\u006E\u0064\u0073\u0057\u0069\u0074\u0068']("\u0022"))_0xfb_0x2ea=_0xfb_0x2ea['\u0073\u006C\u0069\u0063\u0065'](221857^221856,-(160430^160431));var _0x43e9b=(137108^137117)+(933180^933181);const _0x28_0x52b=_0xfb_0x2ea['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp("010\\\\".split("").reverse().join(""),'\u0067'),"\u000A")['\u0073\u0070\u006C\u0069\u0074']("\u000A")['\u0066\u0069\u006C\u0074\u0065\u0072'](prefix=>prefix['\u0074\u0072\u0069\u006D']());_0x43e9b=(719656^719663)+(969452^969453);if(_0x28_0x52b['\u006C\u0065\u006E\u0067\u0074\u0068']===(456314^456314))return _0x8bg;DNS64Server=_0x28_0x52b[Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*_0x28_0x52b['\u006C\u0065\u006E\u0067\u0074\u0068'])];}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931\u8BE2\u67E5revreS46SND".split("").reverse().join(""),error);return _0x8bg;}}function _0xe68d(str){const _0x7e88f=str['\u0073\u0070\u006C\u0069\u0074']("\u002E");return _0x7e88f['\u006C\u0065\u006E\u0067\u0074\u0068']===(991279^991275)&&_0x7e88f['\u0065\u0076\u0065\u0072\u0079'](part=>{const _0x74gc6c=parseInt(part,152305^152315);return _0x74gc6c>=(508047^508047)&&_0x74gc6c<=(464571^464452)&&part===_0x74gc6c['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067']();});}function _0x0914gg(str){return str['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")&&new RegExp("$+]:F-Af-a9-0[^".split("").reverse().join(""),"")['\u0074\u0065\u0073\u0074'](str);}async function _0xf1ee(domain){var _0x5gbbd=(656886^656882)+(898474^898478);const _0x5d7c=`https://1.1.1.1/dns-query?name=${domain}&type=A`;_0x5gbbd=(645268^645268)+(466822^466830);const _0x936d0e=await fetch(_0x5d7c,{'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{'Accept':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u0064\u006E\u0073\u002D\u006A\u0073\u006F\u006E"}});if(!_0x936d0e['\u006F\u006B'])throw new Error("\u0044\u004E\u0053\u67E5\u8BE2\u5931\u8D25");var _0xg5f7ce=(739723^739714)+(129986^129994);const _0xf4197f=await _0x936d0e['\u006A\u0073\u006F\u006E']();_0xg5f7ce=(958377^958381)+(906383^906382);const _0xg84dfg=(_0xf4197f['\u0041\u006E\u0073\u0077\u0065\u0072']||[])['\u0066\u0069\u006C\u0074\u0065\u0072'](record=>record['\u0074\u0079\u0070\u0065']===(314034^314035))['\u006D\u0061\u0070'](record=>record['\u0064\u0061\u0074\u0061']);if(_0xg84dfg['\u006C\u0065\u006E\u0067\u0074\u0068']===(208388^208388))throw new Error("\u672A\u627E\u5230\u0049\u0050\u0076\u0034\u5730\u5740");return _0xg84dfg[Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*_0xg84dfg['\u006C\u0065\u006E\u0067\u0074\u0068'])];}async function _0xc5dc4b(domain){var _0x25e;const _0xd3cbbb=connect({'\u0068\u006F\u0073\u0074\u006E\u0061\u006D\u0065':_0x0914gg(DNS64Server)?`[${DNS64Server}]`:DNS64Server,'\u0070\u006F\u0072\u0074':53});_0x25e='\u0070\u006C\u006F\u0062\u0065\u0069';var _0x9dbc;const _0x29_0xa1a=_0xd3cbbb['\u0077\u0072\u0069\u0074\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0057\u0072\u0069\u0074\u0065\u0072']();_0x9dbc='\u006C\u006E\u006A\u006F\u006D\u0068';var _0x98cda=(780168^780172)+(597414^597409);const _0xga2b2b=_0xd3cbbb['\u0072\u0065\u0061\u0064\u0061\u0062\u006C\u0065']['\u0067\u0065\u0074\u0052\u0065\u0061\u0064\u0065\u0072']();_0x98cda=116283^116281;try{var _0x9e911a=(665470^665463)+(477376^477384);const _0xff37dc=_0xfc8c(domain);_0x9e911a=631947^631944;const _0x971efb=new Uint8Array(_0xff37dc['\u006C\u0065\u006E\u0067\u0074\u0068']+(841518^841516));_0x971efb[712538^712538]=_0xff37dc['\u006C\u0065\u006E\u0067\u0074\u0068']>>(377013^377021);_0x971efb[988702^988703]=_0xff37dc['\u006C\u0065\u006E\u0067\u0074\u0068']&(422812^422755);_0x971efb['\u0073\u0065\u0074'](_0xff37dc,188865^188867);await _0x29_0xa1a['\u0077\u0072\u0069\u0074\u0065'](_0x971efb);var _0x99ae3d=(798093^798093)+(236300^236293);const _0xgb83bf=await _0x5afd(_0xga2b2b);_0x99ae3d=488832^488837;var _0x9db;const _0xacc=_0xdb3bef(_0xgb83bf);_0x9db=728204^728203;return _0xacc['\u006C\u0065\u006E\u0067\u0074\u0068']>(689051^689051)?_0xacc[442027^442027]:"\u672A\u627E\u5230\u0049\u0050\u0076\u0036\u5730\u5740";}finally{await _0x29_0xa1a['\u0063\u006C\u006F\u0073\u0065']();await _0xga2b2b['\u0063\u0061\u006E\u0063\u0065\u006C']();}}function _0xfc8c(domain,_0xdf8e){var _0xagd9ec=(247849^247841)+(858938^858936);const _0xa221e=new ArrayBuffer(564993^564481);_0xagd9ec=(718988^718986)+(650308^650305);const _0x7a2=new DataView(_0xa221e);_0xdf8e=225580^225580;_0x7a2['\u0073\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](_0xdf8e,Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*65536));_0xdf8e+=703587^703585;_0x7a2['\u0073\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](_0xdf8e,842265^842521);_0xdf8e+=476269^476271;_0x7a2['\u0073\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](_0xdf8e,534617^534616);_0xdf8e+=443360^443362;_0x7a2['\u0073\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](_0xdf8e,215282^215282);_0xdf8e+=889926^889920;for(const _0x45bf of domain['\u0073\u0070\u006C\u0069\u0074']("\u002E")){_0x7a2['\u0073\u0065\u0074\u0055\u0069\u006E\u0074\u0038'](_0xdf8e++,_0x45bf['\u006C\u0065\u006E\u0067\u0074\u0068']);for(let i=852789^852789;i<_0x45bf['\u006C\u0065\u006E\u0067\u0074\u0068'];i++){_0x7a2['\u0073\u0065\u0074\u0055\u0069\u006E\u0074\u0038'](_0xdf8e++,_0x45bf['\u0063\u0068\u0061\u0072\u0043\u006F\u0064\u0065\u0041\u0074'](i));}}_0x7a2['\u0073\u0065\u0074\u0055\u0069\u006E\u0074\u0038'](_0xdf8e++,758975^758975);_0x7a2['\u0073\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](_0xdf8e,784359^784379);_0xdf8e+=667632^667634;_0x7a2['\u0073\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](_0xdf8e,538781^538780);_0xdf8e+=572459^572457;return new Uint8Array(_0xa221e,644886^644886,_0xdf8e);}async function _0x5afd(reader,_0x30_0x481,_0xe357ac){var _0xb_0xc8b=(812380^812377)+(616138^616131);const _0xcbeede=[];_0xb_0xc8b='\u0067\u006E\u0070\u0065\u0071\u0065';var _0xb40fab;_0x30_0x481=346041^346041;_0xb40fab=(121664^121664)+(214627^214630);let _0x624c5g=null;while(!![]){const{"value":value,'\u0064\u006F\u006E\u0065':done}=await reader['\u0072\u0065\u0061\u0064']();if(done)break;_0xcbeede['\u0070\u0075\u0073\u0068'](value);_0x30_0x481+=value['\u006C\u0065\u006E\u0067\u0074\u0068'];if(_0x624c5g===null&&_0x30_0x481>=(982054^982052)){_0x624c5g=_0xcbeede[738404^738404][145715^145715]<<(454645^454653)|_0xcbeede[144331^144331][145642^145643];}if(_0x624c5g!==null&&_0x30_0x481>=_0x624c5g+(982735^982733)){break;}}var _0xfd67a;const _0x91eb=new Uint8Array(_0x30_0x481);_0xfd67a=(462032^462034)+(399773^399768);_0xe357ac=339031^339031;for(const _0x84671b of _0xcbeede){_0x91eb['\u0073\u0065\u0074'](_0x84671b,_0xe357ac);_0xe357ac+=_0x84671b['\u006C\u0065\u006E\u0067\u0074\u0068'];}return _0x91eb['\u0073\u006C\u0069\u0063\u0065'](104609^104611);}function _0xdb3bef(response,_0x2aef){const _0xe21aa=new DataView(response['\u0062\u0075\u0066\u0066\u0065\u0072']);var _0xffe29d=(811605^811600)+(943330^943335);_0x2aef=375988^375992;_0xffe29d="eppego".split("").reverse().join("");while(_0xe21aa['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0038'](_0x2aef)!==(713255^713255)){_0x2aef+=_0xe21aa['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0038'](_0x2aef)+(422873^422872);}_0x2aef+=629576^629581;var _0x11_0xd52=(716900^716897)+(389340^389339);const _0x96d=[];_0x11_0xd52=(277972^277975)+(165907^165904);var _0x880bdd=(624439^624438)+(367105^367108);const _0x7a_0xc1c=_0xe21aa['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](517974^517968);_0x880bdd=715273^715276;for(let i=722498^722498;i<_0x7a_0xc1c;i++){if((_0xe21aa['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0038'](_0x2aef)&(586644^586580))===(670548^670612)){_0x2aef+=811791^811789;}else{while(_0xe21aa['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0038'](_0x2aef)!==(400268^400268)){_0x2aef+=_0xe21aa['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0038'](_0x2aef)+(184848^184849);}_0x2aef++;}const _0x65g=_0xe21aa['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](_0x2aef);_0x2aef+=367673^367675;_0x2aef+=111510^111504;var _0x42380b=(697374^697369)+(596384^596390);const _0xceca=_0xe21aa['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](_0x2aef);_0x42380b=(340456^340460)+(508178^508186);_0x2aef+=856584^856586;if(_0x65g===(859982^859986)&&_0xceca===(568010^568026)){const _0xef50a=[];for(let j=954637^954637;j<(454505^454497);j++){_0xef50a['\u0070\u0075\u0073\u0068'](_0xe21aa['\u0067\u0065\u0074\u0055\u0069\u006E\u0074\u0031\u0036'](_0x2aef+j*(173998^173996))['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](193594^193578));}_0x96d['\u0070\u0075\u0073\u0068'](_0xef50a['\u006A\u006F\u0069\u006E']("\u003A"));}_0x2aef+=_0xceca;}return _0x96d;}function _0xee6da(ipv4Address){var _0x79385e=(293222^293231)+(701999^701992);const _0x8b_0x188=ipv4Address['\u0073\u0070\u006C\u0069\u0074']("\u002E");_0x79385e='\u0063\u0064\u0068\u0071\u0068\u0066';if(_0x8b_0x188['\u006C\u0065\u006E\u0067\u0074\u0068']!==(372434^372438)){throw new Error("\u5740\u57304vPI\u7684\u6548\u65E0".split("").reverse().join(""));}const _0x7f_0x9e6=_0x8b_0x188['\u006D\u0061\u0070'](part=>{var _0x9d7ca=(661716^661715)+(240633^240638);const _0x7eac6d=parseInt(part,260081^260091);_0x9d7ca="nlabjh".split("").reverse().join("");if(_0x7eac6d<(171825^171825)||_0x7eac6d>(783657^783830)){throw new Error("\u65E0\u6548\u7684\u0049\u0050\u0076\u0034\u5730\u5740\u6BB5");}return _0x7eac6d['\u0074\u006F\u0053\u0074\u0072\u0069\u006E\u0067'](876845^876861)['\u0070\u0061\u0064\u0053\u0074\u0061\u0072\u0074'](662376^662378,"\u0030");});return DNS64Server['\u0073\u0070\u006C\u0069\u0074']("\u002F\u0039\u0036")[328179^328179]+_0x7f_0x9e6[267753^267753]+_0x7f_0x9e6[408482^408483]+"\u003A"+_0x7f_0x9e6[500952^500954]+_0x7f_0x9e6[971844^971847];}try{if(_0x0914gg(target))return target;var _0xf26dg;const _0xa336dd=_0xe68d(target)?target:await _0xf1ee(target);_0xf26dg=(487689^487681)+(576199^576192);var _0x6abc;const _0xg2147f=DNS64Server['\u0065\u006E\u0064\u0073\u0057\u0069\u0074\u0068']("\u002F\u0039\u0036")?_0xee6da(_0xa336dd):await _0xc5dc4b(_0xa336dd+atob("=oXe45yNyIDM5AjLwlmL".split("").reverse().join("")));_0x6abc=(901012^901008)+(986659^986660);return _0x0914gg(_0xg2147f)?_0xg2147f:_0x8bg;}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u89E3\u6790\u9519\u8BEF\u003A",error);return _0x8bg;}}async function bestIP(request,env,txt="txt.DDA".split("").reverse().join(""),content){var _0xab3beb=(131165^131167)+(889562^889562);const _0x3b2b=request['\u0063\u0066']?.country||"\u0043\u004E";_0xab3beb=248870^248878;var _0xfce=(347809^347810)+(246837^246838);const _0x57456f=new URL(request['\u0075\u0072\u006C']);_0xfce=(818042^818047)+(694817^694816);async function _0x17a(){try{var _0x8748fc;const _0xe9d8ef=await fetch(atob("\u0061\u0048\u0052\u0030\u0063\u0048\u004D\u0036\u004C\u0079\u0039\u006A\u0062\u0047\u0039\u0031\u005A\u0047\u005A\u0073\u0059\u0058\u004A\u006C\u004C\u0057\u0052\u0075\u0063\u0079\u0035\u006A\u0062\u0032\u0030\u0076\u005A\u0047\u0035\u007A\u004C\u0058\u0046\u0031\u005A\u0058\u004A\u0035\u0050\u0032\u0035\u0068\u0062\u0057\u0055\u0039\u0062\u006D\u006C\u0077\u004C\u006A\u0041\u0035\u004D\u0044\u0049\u0079\u004E\u0079\u0035\u0034\u0065\u0058\u006F\u006D\u0064\u0048\u006C\u0077\u005A\u0054\u0031\u0055\u0057\u0046\u0051\u003D"),{"headers":{"\u0041\u0063\u0063\u0065\u0070\u0074":'application/dns-json'}});_0x8748fc=(998405^998402)+(826551^826559);if(_0xe9d8ef['\u006F\u006B']){var _0x4702d=(491043^491043)+(377271^377266);const _0xc81g=await _0xe9d8ef['\u006A\u0073\u006F\u006E']();_0x4702d='\u006A\u0071\u0064\u006C\u0069\u0064';if(_0xc81g['\u0053\u0074\u0061\u0074\u0075\u0073']===(337027^337027)&&_0xc81g['\u0041\u006E\u0073\u0077\u0065\u0072']&&_0xc81g['\u0041\u006E\u0073\u0077\u0065\u0072']['\u006C\u0065\u006E\u0067\u0074\u0068']>(787872^787872)){const _0x43bdba=_0xc81g['\u0041\u006E\u0073\u0077\u0065\u0072'][605785^605785]['\u0064\u0061\u0074\u0061'];var _0xf13ecb;const _0xbb_0xc2d=_0x43bdba['\u0072\u0065\u0070\u006C\u0061\u0063\u0065'](new RegExp('\u005E\u0022\u0028\u002E\u002A\u0029\u0022\u0024',""),"1$".split("").reverse().join(""));_0xf13ecb='\u006E\u0064\u0068\u006E\u0070\u006C';console['\u006C\u006F\u0067']("\u901A\u8FC7\u0044\u006F\u0048\u89E3\u6790\u83B7\u53D6\u5230\u57DF\u540D\u003A\u0020"+_0xbb_0xc2d);return _0xbb_0xc2d;}}console['\u0077\u0061\u0072\u006E']("\u0044\u006F\u0048\u89E3\u6790\u5931\u8D25\uFF0C\u4F7F\u7528\u9ED8\u8BA4\u57DF\u540D");return atob("==wZy9mLlVmcmxmLwlmb".split("").reverse().join(""));}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u9519\u51FA\u6790\u89E3HoD".split("").reverse().join(""),error);return atob("\u0061\u0058\u0041\u0075\u004D\u0044\u006B\u0077\u004D\u006A\u0049\u0033\u004C\u006E\u0068\u0035\u0065\u0067\u003D\u003D");}}var _0x257efb=(450339^450346)+(352889^352880);const _0x7c197e=await _0x17a();_0x257efb=(215144^215145)+(828172^828173);async function _0x96eb1d(ipSource="laiciffo".split("").reverse().join(""),targetPort="\u0034\u0034\u0033"){try{let _0xdc_0x554;if(ipSource==="53331sa".split("").reverse().join("")){_0xdc_0x554=await fetch("txt.detagergga-4vpi/53331/sa/retsam/pi-nsa/esrevpi/moc.tnetnocresubuhtig.war//:sptth".split("").reverse().join(""));}else if(ipSource==="\u0061\u0073\u0032\u0030\u0039\u0032\u0034\u0032"){_0xdc_0x554=await fetch("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0072\u0061\u0077\u002E\u0067\u0069\u0074\u0068\u0075\u0062\u0075\u0073\u0065\u0072\u0063\u006F\u006E\u0074\u0065\u006E\u0074\u002E\u0063\u006F\u006D\u002F\u0069\u0070\u0076\u0065\u0072\u0073\u0065\u002F\u0061\u0073\u006E\u002D\u0069\u0070\u002F\u006D\u0061\u0073\u0074\u0065\u0072\u002F\u0061\u0073\u002F\u0032\u0030\u0039\u0032\u0034\u0032\u002F\u0069\u0070\u0076\u0034\u002D\u0061\u0067\u0067\u0072\u0065\u0067\u0061\u0074\u0065\u0064\u002E\u0074\u0078\u0074");}else if(ipSource==="\u0061\u0073\u0032\u0034\u0034\u0032\u0039"){_0xdc_0x554=await fetch("txt.detagergga-4vpi/92442/sa/retsam/pi-nsa/esrevpi/moc.tnetnocresubuhtig.war//:sptth".split("").reverse().join(""));}else if(ipSource==="61953sa".split("").reverse().join("")){_0xdc_0x554=await fetch("txt.detagergga-4vpi/61953/sa/retsam/pi-nsa/esrevpi/moc.tnetnocresubuhtig.war//:sptth".split("").reverse().join(""));}else if(ipSource==="\u0061\u0073\u0031\u0039\u0039\u0035\u0032\u0034"){_0xdc_0x554=await fetch("txt.detagergga-4vpi/425991/sa/retsam/pi-nsa/esrevpi/moc.tnetnocresubuhtig.war//:sptth".split("").reverse().join(""));}else if(ipSource==="mc".split("").reverse().join("")){_0xdc_0x554=await fetch("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0072\u0061\u0077\u002E\u0067\u0069\u0074\u0068\u0075\u0062\u0075\u0073\u0065\u0072\u0063\u006F\u006E\u0074\u0065\u006E\u0074\u002E\u0063\u006F\u006D\u002F\u0063\u006D\u006C\u0069\u0075\u002F\u0063\u006D\u006C\u0069\u0075\u002F\u006D\u0061\u0069\u006E\u002F\u0043\u0046\u002D\u0043\u0049\u0044\u0052\u002E\u0074\u0078\u0074");}else if(ipSource==="\u0070\u0072\u006F\u0078\u0079\u0069\u0070"){_0xdc_0x554=await fetch("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0072\u0061\u0077\u002E\u0067\u0069\u0074\u0068\u0075\u0062\u0075\u0073\u0065\u0072\u0063\u006F\u006E\u0074\u0065\u006E\u0074\u002E\u0063\u006F\u006D\u002F\u0063\u006D\u006C\u0069\u0075\u002F\u0041\u0043\u004C\u0034\u0053\u0053\u0052\u002F\u006D\u0061\u0069\u006E\u002F\u0062\u0061\u0069\u0070\u0069\u0061\u006F\u002E\u0074\u0078\u0074");var _0x6d_0xcfa=(832316^832308)+(942732^942732);const text=_0xdc_0x554['\u006F\u006B']?await _0xdc_0x554['\u0074\u0065\u0078\u0074']():'';_0x6d_0xcfa='\u0063\u0069\u006D\u0064\u0070\u006F';const _0xdd39aa=text['\u0073\u0070\u006C\u0069\u0074']("\u000A")['\u006D\u0061\u0070'](line=>line['\u0074\u0072\u0069\u006D']())['\u0066\u0069\u006C\u0074\u0065\u0072'](line=>line&&!line['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0023"));const _0xa5bddd=[];for(const _0x8611af of _0xdd39aa){const _0xb5d=_0xaf3a3b(_0x8611af,targetPort);if(_0xb5d){_0xa5bddd['\u0070\u0075\u0073\u0068'](_0xb5d);}}console['\u006C\u006F\u0067'](`反代IP列表解析完成，端口${targetPort}匹配到${_0xa5bddd['\u006C\u0065\u006E\u0067\u0074\u0068']}个有效IP`);if(_0xa5bddd['\u006C\u0065\u006E\u0067\u0074\u0068']>(965017^965529)){const _0xb9e6ff=[..._0xa5bddd]['\u0073\u006F\u0072\u0074'](()=>0.5-Math['\u0072\u0061\u006E\u0064\u006F\u006D']());const _0x2134c=_0xb9e6ff['\u0073\u006C\u0069\u0063\u0065'](158755^158755,586844^587356);console['\u006C\u006F\u0067'](`IP数量超过512个，随机选择了${_0x2134c['\u006C\u0065\u006E\u0067\u0074\u0068']}个IP`);return _0x2134c;}else{return _0xa5bddd;}}else{_0xdc_0x554=await fetch("/4v-spi/moc.eralfduolc.www//:sptth".split("").reverse().join(""));}var _0x9b9e5f;const text=_0xdc_0x554['\u006F\u006B']?await _0xdc_0x554['\u0074\u0065\u0078\u0074']():`173.245.48.0/20
103.21.244.0/22
103.22.200.0/22
103.31.4.0/22
141.101.64.0/18
108.162.192.0/18
190.93.240.0/20
188.114.96.0/20
197.234.240.0/22
198.41.128.0/17
162.158.0.0/15
104.16.0.0/13
104.24.0.0/14
172.64.0.0/13
131.0.72.0/22`;_0x9b9e5f=(742258^742260)+(602119^602119);var _0x55063d=(658435^658442)+(569026^569025);const _0x9a9cad=text['\u0073\u0070\u006C\u0069\u0074']("\u000A")['\u0066\u0069\u006C\u0074\u0065\u0072'](line=>line['\u0074\u0072\u0069\u006D']()&&!line['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068']("\u0023"));_0x55063d=(232681^232684)+(457228^457220);const _0x42e=new Set();var _0x64261d;const _0x326f9e=700390^699878;_0x64261d=724447^724441;var _0xce49dd;let _0x35_0xda8=189794^189795;_0xce49dd=628446^628447;while(_0x42e['\u0073\u0069\u007A\u0065']<_0x326f9e){console['\u006C\u006F\u0067'](`第${_0x35_0xda8}轮生成IP，当前已有${_0x42e['\u0073\u0069\u007A\u0065']}个`);for(const _0xg2fad of _0x9a9cad){if(_0x42e['\u0073\u0069\u007A\u0065']>=_0x326f9e)break;const _0xf92de=_0x26bgab(_0xg2fad['\u0074\u0072\u0069\u006D'](),_0x35_0xda8);_0xf92de['\u0066\u006F\u0072\u0045\u0061\u0063\u0068'](ip=>_0x42e['\u0061\u0064\u0064'](ip));console['\u006C\u006F\u0067'](`CIDR ${_0xg2fad} 第${_0x35_0xda8}轮生成${_0xf92de['\u006C\u0065\u006E\u0067\u0074\u0068']}个IP，总计${_0x42e['\u0073\u0069\u007A\u0065']}个`);}_0x35_0xda8++;if(_0x35_0xda8>(875681^875717)){console['\u0077\u0061\u0072\u006E']("\u8FBE\u5230\u6700\u5927\u8F6E\u6B21\u9650\u5236\uFF0C\u505C\u6B62\u751F\u6210");break;}}console['\u006C\u006F\u0067'](`最终生成${_0x42e['\u0073\u0069\u007A\u0065']}个不重复IP`);return Array['\u0066\u0072\u006F\u006D'](_0x42e)['\u0073\u006C\u0069\u0063\u0065'](812157^812157,_0x326f9e);}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u8D25\u5931sPI FC\u53D6\u83B7".split("").reverse().join(""),error);return[];}}function _0xaf3a3b(line,targetPort){try{line=line['\u0074\u0072\u0069\u006D']();if(!line)return null;let _0x90b='';let _0xe9c99c='';let _0x7941f='';if(line['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0023")){const _0x77a=line['\u0073\u0070\u006C\u0069\u0074']("\u0023");var _0x1egdcf;const _0xf6c7f=_0x77a[800973^800973]['\u0074\u0072\u0069\u006D']();_0x1egdcf='\u0067\u0065\u0067\u0063\u0066\u0069';_0x7941f=_0x77a[596107^596106]['\u0074\u0072\u0069\u006D']();if(_0xf6c7f['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")){var _0x8960eb=(119372^119364)+(879039^879035);const ipPortParts=_0xf6c7f['\u0073\u0070\u006C\u0069\u0074']("\u003A");_0x8960eb="fdcdpl".split("").reverse().join("");if(ipPortParts['\u006C\u0065\u006E\u0067\u0074\u0068']===(964229^964231)){_0x90b=ipPortParts[767380^767380]['\u0074\u0072\u0069\u006D']();_0xe9c99c=ipPortParts[333482^333483]['\u0074\u0072\u0069\u006D']();}else{console['\u0077\u0061\u0072\u006E'](`无效的IP:端口格式: ${line}`);return null;}}else{_0x90b=_0xf6c7f;_0xe9c99c="344".split("").reverse().join("");}}else{if(line['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u003A")){const ipPortParts=line['\u0073\u0070\u006C\u0069\u0074']("\u003A");if(ipPortParts['\u006C\u0065\u006E\u0067\u0074\u0068']===(455014^455012)){_0x90b=ipPortParts[377765^377765]['\u0074\u0072\u0069\u006D']();_0xe9c99c=ipPortParts[817967^817966]['\u0074\u0072\u0069\u006D']();}else{console['\u0077\u0061\u0072\u006E'](`无效的IP:端口格式: ${line}`);return null;}}else{_0x90b=line;_0xe9c99c="\u0034\u0034\u0033";}}if(!_0x8abf7f(_0x90b)){console['\u0077\u0061\u0072\u006E'](`无效的IP地址: ${_0x90b} (来源行: ${line})`);return null;}var _0x84d2=(710301^710299)+(851815^851809);const _0x2ef=parseInt(_0xe9c99c);_0x84d2=(815527^815526)+(391093^391089);if(isNaN(_0x2ef)||_0x2ef<(717605^717604)||_0x2ef>(738177^769150)){console['\u0077\u0061\u0072\u006E'](`无效的端口号: ${_0xe9c99c} (来源行: ${line})`);return null;}if(_0xe9c99c!==targetPort){return null;}if(_0x7941f){return _0x90b+"\u003A"+_0xe9c99c+"\u0023"+_0x7941f;}else{return _0x90b+"\u003A"+_0xe9c99c;}}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](`解析IP行失败: ${line}`,error);return null;}}function _0x8abf7f(ip){const _0x7f9b1d=new RegExp('\u005E\u0028\u005C\u0064\u007B\u0031\u002C\u0033\u007D\u0029\u005C\u002E\u0028\u005C\u0064\u007B\u0031\u002C\u0033\u007D\u0029\u005C\u002E\u0028\u005C\u0064\u007B\u0031\u002C\u0033\u007D\u0029\u005C\u002E\u0028\u005C\u0064\u007B\u0031\u002C\u0033\u007D\u0029\u0024',"");const _0xd930c=ip['\u006D\u0061\u0074\u0063\u0068'](_0x7f9b1d);if(!_0xd930c)return false;for(let i=376554^376555;i<=(377989^377985);i++){const _0x67cef=parseInt(_0xd930c[i]);if(_0x67cef<(406917^406917)||_0x67cef>(815808^815679)){return false;}}return!![];}function _0x26bgab(cidr,count=774749^774748,_0xd5_0x145){const[network,prefixLength]=cidr['\u0073\u0070\u006C\u0069\u0074']("\u002F");const _0xg5cab=parseInt(prefixLength);var _0x4246d=(537265^537265)+(902602^902606);const _0x2e209d=ip=>{return ip['\u0073\u0070\u006C\u0069\u0074']("\u002E")['\u0072\u0065\u0064\u0075\u0063\u0065']((acc,octet)=>(acc<<(359435^359427))+parseInt(octet),823841^823841)>>>(946267^946267);};_0x4246d=(328614^328622)+(390635^390626);var _0x5abga;const _0x63eg2f=int=>{return[int>>>(136061^136037)&(944452^944571),int>>>(906037^906021)&(796874^796725),int>>>(300564^300572)&(997265^997230),int&(712723^712940)]['\u006A\u006F\u0069\u006E']("\u002E");};_0x5abga='\u006B\u0067\u0066\u006C\u0062\u006E';var _0x8dd3ba=(566894^566886)+(964737^964738);const _0x24e4b=_0x2e209d(network);_0x8dd3ba=735944^735945;var _0x5fd;const _0xf4695b=(294967^294935)-_0xg5cab;_0x5fd=(895978^895981)+(323782^323780);var _0x12_0x710;const _0x23bba=Math['\u0070\u006F\u0077'](701579^701577,_0xf4695b);_0x12_0x710=544320^544325;var _0x33b0ff=(338718^338712)+(236908^236906);const _0xbb5e=_0x23bba-(822930^822928);_0x33b0ff=(121043^121042)+(990338^990342);const _0x37c38e=Math['\u006D\u0069\u006E'](count,_0xbb5e);const _0x449a=new Set();if(_0xbb5e<=(938945^938945)){return[];}var _0x4e1a5c=(289446^289445)+(346112^346113);_0xd5_0x145=141551^141551;_0x4e1a5c=(966505^966511)+(847489^847495);const _0xdd999d=_0x37c38e*(809105^809115);while(_0x449a['\u0073\u0069\u007A\u0065']<_0x37c38e&&_0xd5_0x145<_0xdd999d){const _0xbfe2b=Math['\u0066\u006C\u006F\u006F\u0072'](Math['\u0072\u0061\u006E\u0064\u006F\u006D']()*_0xbb5e)+(625113^625112);var _0xb0e1ca;const _0x4cc13f=_0x63eg2f(_0x24e4b+_0xbfe2b);_0xb0e1ca=(414146^414155)+(756221^756213);_0x449a['\u0061\u0064\u0064'](_0x4cc13f);_0xd5_0x145++;}return Array['\u0066\u0072\u006F\u006D'](_0x449a);}if(request['\u006D\u0065\u0074\u0068\u006F\u0064']==="TSOP".split("").reverse().join("")){if(!env['\u004B\u0056'])return new Response("\u95F4\u7A7AVK\u5B9A\u7ED1\u672A".split("").reverse().join(""),{'\u0073\u0074\u0061\u0074\u0075\u0073':400});try{const _0x481f=request['\u0068\u0065\u0061\u0064\u0065\u0072\u0073']['\u0067\u0065\u0074']("epyT-tnetnoC".split("").reverse().join(""));if(_0x481f&&_0x481f['\u0069\u006E\u0063\u006C\u0075\u0064\u0065\u0073']("\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E")){const data=await request['\u006A\u0073\u006F\u006E']();const _0x32d=_0x57456f['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("\u0061\u0063\u0074\u0069\u006F\u006E")||"\u0073\u0061\u0076\u0065";if(!data['\u0069\u0070\u0073']||!Array['\u0069\u0073\u0041\u0072\u0072\u0061\u0079'](data['\u0069\u0070\u0073'])){return new Response(JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({"error":"\u0049\u006E\u0076\u0061\u006C\u0069\u0064\u0020\u0049\u0050\u0020\u006C\u0069\u0073\u0074"}),{'\u0073\u0074\u0061\u0074\u0075\u0073':400,'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"}});}if(_0x32d==="dneppa".split("").reverse().join("")){var _0x13_0x827=(986775^986768)+(394393^394399);const _0xde3e=(await env['\u004B\u0056']['\u0067\u0065\u0074'](txt))||'';_0x13_0x827='\u006A\u0067\u006E\u0062\u006F\u0069';const _0x995dga=data['\u0069\u0070\u0073']['\u006A\u006F\u0069\u006E']("\u000A");var _0x49a75b=(876424^876429)+(359027^359030);const _0x61ca=_0xde3e?_0xde3e['\u0073\u0070\u006C\u0069\u0074']("\u000A")['\u006D\u0061\u0070'](line=>line['\u0074\u0072\u0069\u006D']())['\u0066\u0069\u006C\u0074\u0065\u0072'](line=>line):[];_0x49a75b=716452^716460;const _0x36_0xde4=_0x995dga['\u0073\u0070\u006C\u0069\u0074']("\u000A")['\u006D\u0061\u0070'](line=>line['\u0074\u0072\u0069\u006D']())['\u0066\u0069\u006C\u0074\u0065\u0072'](line=>line);const allLines=[..._0x61ca,..._0x36_0xde4];const _0x0d3bd=[...new Set(allLines)];const _0xf9a1ea=_0x0d3bd['\u006A\u006F\u0069\u006E']("\u000A");if(_0xf9a1ea['\u006C\u0065\u006E\u0067\u0074\u0068']>(874859^874867)*(115011^116035)*(997320^996296)){return new Response(JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({'\u0065\u0072\u0072\u006F\u0072':`追加失败：合并后内容过大（${(_0xf9a1ea['\u006C\u0065\u006E\u0067\u0074\u0068']/(783578^782554)/(330790^329766))['\u0074\u006F\u0046\u0069\u0078\u0065\u0064'](594882^594880)}MB），超过KV存储限制（24MB）`}),{"status":400,'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":'application/json'}});}await env['\u004B\u0056']['\u0070\u0075\u0074'](txt,_0xf9a1ea);var _0xe234dc;const _0x76ca1c=_0x0d3bd['\u006C\u0065\u006E\u0067\u0074\u0068']-_0x61ca['\u006C\u0065\u006E\u0067\u0074\u0068'];_0xe234dc=(162953^162955)+(679366^679364);const _0x37_0xdfd=_0x36_0xde4['\u006C\u0065\u006E\u0067\u0074\u0068']-_0x76ca1c;var _0xee2f0b;let _0xbd_0xd83=`成功追加 ${_0x76ca1c} 个新的优选IP（原有 ${_0x61ca['\u006C\u0065\u006E\u0067\u0074\u0068']} 个，现共 ${_0x0d3bd['\u006C\u0065\u006E\u0067\u0074\u0068']} 个）`;_0xee2f0b="ljkcdc".split("").reverse().join("");if(_0x37_0xdfd>(502064^502064)){_0xbd_0xd83+=`，已去重 ${_0x37_0xdfd} 个重复项`;}return new Response(JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({"success":!![],'\u006D\u0065\u0073\u0073\u0061\u0067\u0065':_0xbd_0xd83}),{'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{'Content-Type':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"}});}else{var _0xa2_0x9a4=(110377^110378)+(843825^843829);const content=data['\u0069\u0070\u0073']['\u006A\u006F\u0069\u006E']("\u000A");_0xa2_0x9a4='\u0065\u006E\u0063\u006C\u006D\u0064';if(content['\u006C\u0065\u006E\u0067\u0074\u0068']>(875533^875541)*(306851^305827)*(910127^911151)){return new Response(JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({'\u0065\u0072\u0072\u006F\u0072':"\u5185\u5BB9\u8FC7\u5927\uFF0C\u8D85\u8FC7\u004B\u0056\u5B58\u50A8\u9650\u5236\uFF08\u0032\u0034\u004D\u0042\uFF09"}),{"status":400,"headers":{'Content-Type':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"}});}await env['\u004B\u0056']['\u0070\u0075\u0074'](txt,content);return new Response(JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({'\u0073\u0075\u0063\u0063\u0065\u0073\u0073':!![],'\u006D\u0065\u0073\u0073\u0061\u0067\u0065':`成功保存 ${data['\u0069\u0070\u0073']['\u006C\u0065\u006E\u0067\u0074\u0068']} 个优选IP`}),{'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{'Content-Type':"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"}});}}else{var _0x958d1f=(561876^561877)+(983757^983748);const content=await request['\u0074\u0065\u0078\u0074']();_0x958d1f=604133^604135;await env['\u004B\u0056']['\u0070\u0075\u0074'](txt,content);return new Response("\u4FDD\u5B58\u6210\u529F");}}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u8BEF\u9519\u751F\u53D1\u65F6\u6C42\u8BF7TSOP\u7406\u5904".split("").reverse().join(""),error);return new Response(JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({'\u0065\u0072\u0072\u006F\u0072':"\u64CD\u4F5C\u5931\u8D25\u003A\u0020"+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']}),{'\u0073\u0074\u0061\u0074\u0075\u0073':500,"headers":{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E"}});}}var _0x9b8fag=(410772^410773)+(677040^677044);content='';_0x9b8fag=115199^115190;let _0x6ad=!!env['\u004B\u0056'];if(_0x6ad){try{content=(await env['\u004B\u0056']['\u0067\u0065\u0074'](txt))||'';}catch(error){console['\u0065\u0072\u0072\u006F\u0072']("\u8BFB\u53D6\u004B\u0056\u65F6\u53D1\u751F\u9519\u8BEF\u003A",error);content=" :\u8BEF\u9519\u751F\u53D1\u65F6\u636E\u6570\u53D6\u8BFB".split("").reverse().join("")+error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065'];}}var _0xc7d41c;const _0x2e6f8b=[];_0xc7d41c=(169007^168999)+(529601^529605);var _0x7dc55d;const _0x2b6e6c=_0x3b2b==="NC".split("").reverse().join("");_0x7dc55d='\u0066\u0070\u006C\u0063\u0070\u006F';var _0xf7c6ec;const _0xe335a=_0x2b6e6c?'':"\u0070\u0072\u006F\u0078\u0079\u002D\u0077\u0061\u0072\u006E\u0069\u006E\u0067";_0xf7c6ec=390682^390686;const _0x30ece=_0x2b6e6c?`${_0x3b2b}`:`${_0x3b2b} ⚠️`;var _0xgeb0a=(398317^398318)+(398662^398671);const _0x2217e=`
    <!DOCTYPE html>
    <html>
    <head>
    <title>Cloudflare IP优选</title>
    <style>
        body {
            width: 80%;
            margin: 0 auto;
            font-family: Tahoma, Verdana, Arial, sans-serif;
            padding: 20px;
        }
        .ip-list {
            background-color: #f5f5f5;
            padding: 10px;
            border-radius: 5px;
            max-height: 400px;
            overflow-y: auto;
        }
        .ip-item {
            margin: 2px 0;
            font-family: monospace;
        }
        .stats {
            background-color: #e3f2fd;
            padding: 15px;
            border-radius: 5px;
            margin: 20px 0;
        }
        .test-info {
            margin-top: 15px;
            padding: 12px;
            background-color: #f3e5f5;
            border: 1px solid #ce93d8;
            border-radius: 6px;
            color: #4a148c;
        }
        .test-info p {
            margin: 0;
            font-size: 14px;
            line-height: 1.5;
        }
        .proxy-warning {
            color: #d32f2f !important;
            font-weight: bold !important;
            font-size: 1.1em;
        }
        .warning-notice {
            background-color: #ffebee;
            border: 2px solid #f44336;
            border-radius: 8px;
            padding: 15px;
            margin: 15px 0;
            color: #c62828;
        }
        .warning-notice h3 {
            margin: 0 0 10px 0;
            color: #d32f2f;
            font-size: 1.2em;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .warning-notice p {
            margin: 8px 0;
            line-height: 1.5;
        }
        .warning-notice ul {
            margin: 10px 0 10px 20px;
            line-height: 1.6;
        }
        .test-controls {
            margin: 20px 0;
            padding: 15px;
            background-color: #f9f9f9;
            border-radius: 5px;
        }
        .port-selector {
            margin: 10px 0;
        }
        .port-selector label {
            font-weight: bold;
            margin-right: 10px;
        }
        .port-selector select {
            padding: 5px 10px;
            font-size: 14px;
            border: 1px solid #ccc;
            border-radius: 3px;
        }
        .button-group {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
            margin-top: 15px;
        }
        .test-button {
            background-color: #4CAF50;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .test-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .save-button {
            background-color: #2196F3;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .save-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .save-button:not(:disabled):hover {
            background-color: #1976D2;
        }
        .append-button {
            background-color: #FF9800;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .append-button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        .append-button:not(:disabled):hover {
            background-color: #F57C00;
        }
        .edit-button {
            background-color: #9C27B0;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .edit-button:hover {
            background-color: #7B1FA2;
        }
        .back-button {
            background-color: #607D8B;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            cursor: pointer;
            border: none;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        .back-button:hover {
            background-color: #455A64;
        }
        .save-warning {
            margin-top: 10px;
            background-color: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 6px;
            padding: 12px;
            color: #e65100;
            font-weight: bold;
        }
        .save-warning small {
            font-size: 14px;
            line-height: 1.5;
            display: block;
        }
        .message {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
            display: none;
        }
        .message.success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .message.error {
            background-color: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
        .progress {
            width: 100%;
            background-color: #f0f0f0;
            border-radius: 5px;
            margin: 10px 0;
        }
        .progress-bar {
            width: 0%;
            height: 20px;
            background-color: #4CAF50;
            border-radius: 5px;
            transition: width 0.3s;
        }
        .good-latency { color: #4CAF50; font-weight: bold; }
        .medium-latency { color: #FF9800; font-weight: bold; }
        .bad-latency { color: #f44336; font-weight: bold; }
        .show-more-section {
            text-align: center;
            margin: 10px 0;
            padding: 10px;
            background-color: #f0f0f0;
            border-radius: 5px;
        }
        .show-more-btn {
            background-color: #607D8B;
            color: white;
            padding: 8px 20px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
        }
        .show-more-btn:hover {
            background-color: #455A64;
        }
        .ip-display-info {
            font-size: 12px;
            color: #666;
            margin-bottom: 5px;
        }
        .save-tip {
            margin-top: 15px;
            padding: 12px;
            background-color: #e8f5e8;
            border: 1px solid #4CAF50;
            border-radius: 6px;
            color: #2e7d32;
            font-size: 14px;
            line-height: 1.5;
        }
        .save-tip strong {
            color: #1b5e20;
        }
        .warm-tips {
            margin: 20px 0;
            padding: 15px;
            background-color: #fff3e0;
            border: 2px solid #ff9800;
            border-radius: 8px;
            color: #e65100;
        }
        .warm-tips h3 {
            margin: 0 0 10px 0;
            color: #f57c00;
            font-size: 1.1em;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .warm-tips p {
            margin: 8px 0;
            line-height: 1.6;
            font-size: 14px;
        }
        .warm-tips ul {
            margin: 10px 0 10px 20px;
            line-height: 1.6;
        }
        .warm-tips li {
            margin: 5px 0;
            font-size: 14px;
        }
        .warm-tips strong {
            color: #e65100;
            font-weight: bold;
        }
        .region-buttons {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-top: 10px;
        }
        .region-btn {
            padding: 6px 12px;
            background-color: #e0e0e0;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.3s;
        }
        .region-btn:hover {
            background-color: #d5d5d5;
        }
        .region-btn.active {
            background-color: #2196F3;
            color: white;
        }
    </style>
    </head>
    <body>
    <h1>在线优选IP</h1>
    
    ${!_0x2b6e6c?`
    <div class="warning-notice">
        <h3>🚨 代理检测警告</h3>
        <p><strong>检测到您当前很可能处于代理/VPN环境中！</strong></p>
        <p>在代理状态下进行的IP优选测试结果将不准确，可能导致：</p>
        <ul>
            <li>延迟数据失真，无法反映真实网络状况</li>
            <li>优选出的IP在直连环境下表现不佳</li>
            <li>测试结果对实际使用场景参考价值有限</li>
        </ul>
        <p><strong>建议操作：</strong>请关闭所有代理软件（VPN、科学上网工具等），确保处于直连网络环境后重新访问本页面。</p>
    </div>
    `:''}

    <div class="stats">
        <h2>统计信息</h2>
        <p><strong>您的国家：</strong><span class="${_0xe335a}">${_0x30ece}</span></p>
        <p><strong>获取到的IP总数：</strong><span id="ip-count">点击开始测试后加载</span></p>
        <p><strong>测试进度：</strong><span id="progress-text">未开始</span></p>
        <div class="progress">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
        <div class="test-info">
            <p><strong>📊 测试说明：</strong>当前优选方式仅进行网络延迟测试，主要评估连接响应速度，并未包含带宽速度测试。延迟测试可快速筛选出响应最快的IP节点，适合日常使用场景的初步优选。</p>
        </div>
    </div>
    
    <div class="warm-tips" id="warm-tips">
        <h3>💡 温馨提示</h3>
        <p><strong>优选完成但测试"真连接延迟"为 -1？</strong>这很有可能是您的网络运营商对你的请求进行了阻断。</p>
        <p><strong>建议尝试以下解决方案：</strong></p>
        <ul>
            <li><strong>更换端口：</strong>尝试使用其他端口（如 2053、2083、2087、2096、8443）</li>
            <li><strong>更换IP库：</strong>切换到不同的IP来源（CM整理列表、AS13335、AS209242列表等，但如果你不明白AS24429和AS199524意味着什么，那就不要选。）</li>
            <li><strong>更换自定义域名：</strong>如果您使用的还是免费域名，那么您更应该尝试一下更换自定义域</li>
        </ul>
        <p>💡 <strong>小贴士：</strong>不同地区和网络环境对各端口的支持情况可能不同，多尝试几个端口组合通常能找到适合的IP。</p>
    </div>

    <div class="test-controls">
        <div class="port-selector">
            <label for="ip-source-select">IP库：</label>
            <select id="ip-source-select">
                <option value="official">CF官方列表</option>
                <option value="cm">CM整理列表</option>
                <option value="as13335">AS13335列表</option>
                <option value="as209242">AS209242列表</option>
                <option value="as24429">AS24429列表(Alibaba)</option>
                <option value="as199524">AS199524列表(G-Core)</option>
                <option value="proxyip">反代IP列表</option>
            </select>

            <label for="port-select" style="margin-left: 20px;">端口：</label>
            <select id="port-select">
                <option value="443">443</option>
                <option value="2053">2053</option>
                <option value="2083">2083</option>
                <option value="2087">2087</option>
                <option value="2096">2096</option>
                <option value="8443">8443</option>
            </select>
        </div>
        <div class="button-group">
            <button class="test-button" id="test-btn" onclick="startTest()">开始延迟测试</button>
            <button class="save-button" id="save-btn" onclick="saveIPs()" disabled>覆盖保存优选IP</button>
            <button class="append-button" id="append-btn" onclick="appendIPs()" disabled>追加保存优选IP</button>
            <button class="edit-button" id="edit-btn" onclick="goEdit()">编辑优选列表</button>
            <button class="back-button" id="back-btn" onclick="goBack()">返回配置页</button>
        </div>
        <div class="save-warning">
            <small>⚠️ 重要提醒："覆盖保存优选IP"会完全覆盖当前 addresses/ADD 优选内容，请慎重考虑！建议优先使用"追加保存优选IP"功能。</small>
        </div>
        <div class="save-tip">
            <strong>💡 保存提示：</strong>[<strong>覆盖保存优选IP</strong>] 和 [<strong>追加保存优选IP</strong>] 功能仅会保存延迟最低的<strong>前16个优选IP</strong>。如需添加更多IP或进行自定义编辑，请使用 [<strong>编辑优选列表</strong>] 功能。
        </div>
        <div id="message" class="message"></div>
    </div>
    
    <h2>IP列表 <span id="result-count"></span></h2>
    <div class="ip-display-info" id="ip-display-info"></div>
    <div id="region-filter" style="margin: 15px 0; display: none;"></div>
    <div class="ip-list" id="ip-list">
        <div class="ip-item">请选择端口和IP库，然后点击"开始延迟测试"加载IP列表</div>
    </div>
    <div class="show-more-section" id="show-more-section" style="display: none;">
        <button class="show-more-btn" id="show-more-btn" onclick="toggleShowMore()">显示更多</button>
    </div>
    
    <script>
        let originalIPs = []; // 改为动态加载
        let testResults = [];
        let displayedResults = []; // 新增：存储当前显示的结果
        let showingAll = false; // 新增：标记是否显示全部内容
        let currentDisplayType = 'loading'; // 新增：当前显示类型 'loading' | 'results'
        let cloudflareLocations = {}; // 新增：存储Cloudflare位置信息
        
        // 新增：本地存储管理
        const StorageKeys = {
            PORT: 'cf-ip-test-port',
            IP_SOURCE: 'cf-ip-test-source'
        };
        
        // 新增：加载Cloudflare位置信息
        async function loadCloudflareLocations() {
            try {
                const response = await fetch('https://speed.cloudflare.com/locations');
                if (response.ok) {
                    const locations = await response.json();
                    // 转换为以iata为key的对象，便于快速查找
                    cloudflareLocations = {};
                    locations.forEach(location => {
                        cloudflareLocations[location.iata] = location;
                    });
                    console.log('Cloudflare位置信息加载成功:', Object.keys(cloudflareLocations).length, '个位置');
                } else {
                    console.warn('无法加载Cloudflare位置信息，将使用原始colo值');
                }
            } catch (error) {
                console.error('加载Cloudflare位置信息失败:', error);
                console.warn('将使用原始colo值');
            }
        }
        
        // 初始化页面设置
        function initializeSettings() {
            const portSelect = document.getElementById('port-select');
            const ipSourceSelect = document.getElementById('ip-source-select');
            
            // 从本地存储读取上次的选择
            const savedPort = localStorage.getItem(StorageKeys.PORT);
            const savedIPSource = localStorage.getItem(StorageKeys.IP_SOURCE);
            
            // 恢复端口选择
            if (savedPort && portSelect.querySelector(\`option[value="\${savedPort}"]\`)) {
                portSelect.value = savedPort;
            } else {
                portSelect.value = '8443'; // 默认值
            }
            
            // 恢复IP库选择
            if (savedIPSource && ipSourceSelect.querySelector(\`option[value="\${savedIPSource}"]\`)) {
                ipSourceSelect.value = savedIPSource;
            } else {
                ipSourceSelect.value = 'official'; // 默认值改为CF官方列表
            }
            
            // 添加事件监听器保存选择
            portSelect.addEventListener('change', function() {
                localStorage.setItem(StorageKeys.PORT, this.value);
            });
            
            ipSourceSelect.addEventListener('change', function() {
                localStorage.setItem(StorageKeys.IP_SOURCE, this.value);
            });
        }
        
        // 页面加载完成后初始化设置
        document.addEventListener('DOMContentLoaded', async function() {
            // 先加载Cloudflare位置信息
            await loadCloudflareLocations();
            // 然后初始化页面设置
            initializeSettings();
        });
        
        // 新增：切换显示更多/更少
        function toggleShowMore() {
            // 在测试过程中不允许切换显示
            if (currentDisplayType === 'testing') {
                return;
            }
            
            showingAll = !showingAll;
            
            if (currentDisplayType === 'loading') {
                displayLoadedIPs();
            } else if (currentDisplayType === 'results') {
                displayResults();
            }
        }
        
        // 新增：显示加载的IP列表
        function displayLoadedIPs() {
            const ipList = document.getElementById('ip-list');
            const showMoreSection = document.getElementById('show-more-section');
            const showMoreBtn = document.getElementById('show-more-btn');
            const ipDisplayInfo = document.getElementById('ip-display-info');
            
            if (originalIPs.length === 0) {
                ipList.innerHTML = '<div class="ip-item">加载IP列表失败，请重试</div>';
                showMoreSection.style.display = 'none';
                ipDisplayInfo.textContent = '';
                return;
            }
            
            const displayCount = showingAll ? originalIPs.length : Math.min(originalIPs.length, 16);
            const displayIPs = originalIPs.slice(0, displayCount);
            
            // 更新显示信息
            if (originalIPs.length <= 16) {
                ipDisplayInfo.textContent = \`显示全部 \${originalIPs.length} 个IP\`;
                showMoreSection.style.display = 'none';
            } else {
                ipDisplayInfo.textContent = \`显示前 \${displayCount} 个IP，共加载 \${originalIPs.length} 个IP\`;
                // 只在非测试状态下显示"显示更多"按钮
                if (currentDisplayType !== 'testing') {
                    showMoreSection.style.display = 'block';
                    showMoreBtn.textContent = showingAll ? '显示更少' : '显示更多';
                    showMoreBtn.disabled = false;
                } else {
                    showMoreSection.style.display = 'none';
                }
            }
            
            // 显示IP列表
            ipList.innerHTML = displayIPs.map(ip => \`<div class="ip-item">\${ip}</div>\`).join('');
        }
        
        function showMessage(text, type = 'success') {
            const messageDiv = document.getElementById('message');
            messageDiv.textContent = text;
            messageDiv.className = \`message \${type}\`;
            messageDiv.style.display = 'block';
            
            // 3秒后自动隐藏消息
            setTimeout(() => {
                messageDiv.style.display = 'none';
            }, 3000);
        }
        
        function updateButtonStates() {
            const saveBtn = document.getElementById('save-btn');
            const appendBtn = document.getElementById('append-btn');
            const hasResults = displayedResults.length > 0;
            
            saveBtn.disabled = !hasResults;
            appendBtn.disabled = !hasResults;
        }
        
        function disableAllButtons() {
            const testBtn = document.getElementById('test-btn');
            const saveBtn = document.getElementById('save-btn');
            const appendBtn = document.getElementById('append-btn');
            const editBtn = document.getElementById('edit-btn');
            const backBtn = document.getElementById('back-btn');
            const portSelect = document.getElementById('port-select');
            const ipSourceSelect = document.getElementById('ip-source-select');
            
            testBtn.disabled = true;
            saveBtn.disabled = true;
            appendBtn.disabled = true;
            editBtn.disabled = true;
            backBtn.disabled = true;
            portSelect.disabled = true;
            ipSourceSelect.disabled = true;
        }
        
        function enableButtons() {
            const testBtn = document.getElementById('test-btn');
            const editBtn = document.getElementById('edit-btn');
            const backBtn = document.getElementById('back-btn');
            const portSelect = document.getElementById('port-select');
            const ipSourceSelect = document.getElementById('ip-source-select');
            
            testBtn.disabled = false;
            editBtn.disabled = false;
            backBtn.disabled = false;
            portSelect.disabled = false;
            ipSourceSelect.disabled = false;
            updateButtonStates();
        }
        
        async function saveIPs() {
            // 使用当前显示的结果而不是全部结果
            let ipsToSave = [];
            if (document.getElementById('region-filter') && document.getElementById('region-filter').style.display !== 'none') {
                // 如果地区筛选器可见，使用筛选后的结果
                ipsToSave = displayedResults;
            } else {
                // 否则使用全部测试结果
                ipsToSave = testResults;
            }
            
            if (ipsToSave.length === 0) {
                showMessage('没有可保存的IP结果', 'error');
                return;
            }
            
            const saveBtn = document.getElementById('save-btn');
            const originalText = saveBtn.textContent;
            
            // 禁用所有按钮
            disableAllButtons();
            saveBtn.textContent = '保存中...';
            
            try {
                // 只保存前16个最优IP
                const saveCount = Math.min(ipsToSave.length, 16);
                const ips = ipsToSave.slice(0, saveCount).map(result => result.display);
                
                const response = await fetch('?action=save', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ ips })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message + '（已保存前' + saveCount + '个最优IP）', 'success');
                } else {
                    showMessage(data.error || '保存失败', 'error');
                }
                
            } catch (error) {
                showMessage('保存失败: ' + error.message, 'error');
            } finally {
                saveBtn.textContent = originalText;
                enableButtons();
            }
        }
        
        async function appendIPs() {
            // 使用当前显示的结果而不是全部结果
            let ipsToAppend = [];
            if (document.getElementById('region-filter') && document.getElementById('region-filter').style.display !== 'none') {
                // 如果地区筛选器可见，使用筛选后的结果
                ipsToAppend = displayedResults;
            } else {
                // 否则使用全部测试结果
                ipsToAppend = testResults;
            }
            
            if (ipsToAppend.length === 0) {
                showMessage('没有可追加的IP结果', 'error');
                return;
            }
            
            const appendBtn = document.getElementById('append-btn');
            const originalText = appendBtn.textContent;
            
            // 禁用所有按钮
            disableAllButtons();
            appendBtn.textContent = '追加中...';
            
            try {
                // 只追加前16个最优IP
                const saveCount = Math.min(ipsToAppend.length, 16);
                const ips = ipsToAppend.slice(0, saveCount).map(result => result.display);
                
                const response = await fetch('?action=append', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({ ips })
                });
                
                const data = await response.json();
                
                if (data.success) {
                    showMessage(data.message + '（已追加前' + saveCount + '个最优IP）', 'success');
                } else {
                    showMessage(data.error || '追加失败', 'error');
                }
                
            } catch (error) {
                showMessage('追加失败: ' + error.message, 'error');
            } finally {
                appendBtn.textContent = originalText;
                enableButtons();
            }
        }
        
        function goEdit() {
            const currentUrl = window.location.href;
            const parentUrl = currentUrl.substring(0, currentUrl.lastIndexOf('/'));
            window.location.href = parentUrl + '/edit';
        }
        
        function goBack() {
            const currentUrl = window.location.href;
            const parentUrl = currentUrl.substring(0, currentUrl.lastIndexOf('/'));
            window.location.href = parentUrl;
        }
        
        async function testIP(ip, port) {
            const timeout = 5000; // 增加超时时间到5秒
            
            // 解析IP格式
            const parsedIP = parseIPFormat(ip, port);
            if (!parsedIP) {
                return null;
            }
            
            // 进行测试，最多重试3次
            let lastError = null;
            for (let attempt = 1; attempt <= 3; attempt++) {
                const result = await singleTest(parsedIP.host, parsedIP.port, timeout);
                if (result) {
                    console.log(\`IP \${parsedIP.host}:\${parsedIP.port} 第\${attempt}次测试成功: \${result.latency}ms, colo: \${result.colo}, 类型: \${result.type}\`);
                    
                    // 根据colo字段获取国家代码
                    const locationCode = cloudflareLocations[result.colo] ? cloudflareLocations[result.colo].cca2 : result.colo;
                    
                    // 生成显示格式
                    const typeText = result.type === 'official' ? '官方优选' : '反代优选';
                    const display = \`\${parsedIP.host}:\${parsedIP.port}#\${locationCode} \${typeText} \${result.latency}ms\`;
                    
                    return {
                        ip: parsedIP.host,
                        port: parsedIP.port,
                        latency: result.latency,
                        colo: result.colo,
                        type: result.type,
                        locationCode: locationCode,
                        comment: \`\${locationCode} \${typeText}\`,
                        display: display
                    };
                } else {
                    console.log(\`IP \${parsedIP.host}:\${parsedIP.port} 第\${attempt}次测试失败\`);
                    if (attempt < 3) {
                        // 短暂延迟后重试
                        await new Promise(resolve => setTimeout(resolve, 200));
                    }
                }
            }
            
            return null; // 所有尝试都失败
        }
        
        // 新增：解析IP格式的函数
        function parseIPFormat(ipString, defaultPort) {
            try {
                let host, port, comment;
                
                // 先处理注释部分（#之后的内容）
                let mainPart = ipString;
                if (ipString.includes('#')) {
                    const parts = ipString.split('#');
                    mainPart = parts[0];
                    comment = parts[1];
                }
                
                // 处理端口部分
                if (mainPart.includes(':')) {
                    const parts = mainPart.split(':');
                    host = parts[0];
                    port = parseInt(parts[1]);
                } else {
                    host = mainPart;
                    port = parseInt(defaultPort);
                }
                
                // 验证IP格式
                if (!host || !port || isNaN(port)) {
                    return null;
                }
                
                return {
                    host: host.trim(),
                    port: port,
                    comment: comment ? comment.trim() : null
                };
            } catch (error) {
                console.error('解析IP格式失败:', ipString, error);
                return null;
            }
        }
        
        async function singleTest(ip, port, timeout) {
            // 先进行预请求以缓存DNS解析结果
            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), timeout);
                const parts = ip.split('.').map(part => {
                    const hex = parseInt(part, 10).toString(16);
                    return hex.length === 1 ? '0' + hex : hex; // 补零
                });
                const nip = parts.join('');
                
                // 预请求，不计入延迟时间
                await fetch('https://' + nip + '.${_0x7c197e}:' + port + '/cdn-cgi/trace', {
                    signal: controller.signal,
                    mode: 'cors'
                });
                
                clearTimeout(timeoutId);
            } catch (preRequestError) {
                // 预请求失败可以忽略，继续进行正式测试
                console.log('预请求失败 (' + ip + ':' + port + '):', preRequestError.message);
            }
            
            // 正式延迟测试
            const startTime = Date.now();
            
            try {
                const controller = new AbortController();
                const timeoutId = setTimeout(() => controller.abort(), timeout);
                const parts = ip.split('.').map(part => {
                    const hex = parseInt(part, 10).toString(16);
                    return hex.length === 1 ? '0' + hex : hex; // 补零
                });
                const nip = parts.join('');
                const response = await fetch('https://' + nip + '.${_0x7c197e}:' + port + '/cdn-cgi/trace', {
                    signal: controller.signal,
                    mode: 'cors'
                });
                
                clearTimeout(timeoutId);
                
                // 检查响应状态
                if (response.status === 200) {
                    const latency = Date.now() - startTime;
                    const responseText = await response.text();
                    
                    // 解析trace响应
                    const traceData = parseTraceResponse(responseText);
                    
                    if (traceData && traceData.ip && traceData.colo) {
                        // 判断IP类型
                        const responseIP = traceData.ip;
                        let ipType = 'official'; // 默认官方IP
                        
                        // 检查是否是IPv6（包含冒号）或者IP相等
                        if (responseIP.includes(':') || responseIP === ip) {
                            ipType = 'proxy'; // 反代IP
                        }
                        // 如果responseIP与ip不相等且不是IPv6，则是官方IP
                        
                        return {
                            ip: ip,
                            port: port,
                            latency: latency,
                            colo: traceData.colo,
                            type: ipType,
                            responseIP: responseIP
                        };
                    }
                }
                
                return null;
                
            } catch (error) {
                const latency = Date.now() - startTime;
                
                // 检查是否是真正的超时（接近设定的timeout时间）
                if (latency >= timeout - 100) {
                    return null;
                }
                
                return null;
            }
        }
        
        // 新增：解析trace响应的函数
        function parseTraceResponse(responseText) {
            try {
                const lines = responseText.split('\\n');
                const data = {};
                
                for (const line of lines) {
                    const trimmedLine = line.trim();
                    if (trimmedLine && trimmedLine.includes('=')) {
                        const [key, value] = trimmedLine.split('=', 2);
                        data[key] = value;
                    }
                }
                
                return data;
            } catch (error) {
                console.error('解析trace响应失败:', error);
                return null;
            }
        }
        
        async function testIPsWithConcurrency(ips, port, maxConcurrency = 32) {
            const results = [];
            const totalIPs = ips.length;
            let completedTests = 0;
            
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            
            // 创建工作队列
            let index = 0;
            
            async function worker() {
                while (index < ips.length) {
                    const currentIndex = index++;
                    const ip = ips[currentIndex];
                    
                    const result = await testIP(ip, port);
                    if (result) {
                        results.push(result);
                    }
                    
                    completedTests++;
                    
                    // 更新进度
                    const progress = (completedTests / totalIPs) * 100;
                    progressBar.style.width = progress + '%';
                    progressText.textContent = \`\${completedTests}/\${totalIPs} (\${progress.toFixed(1)}%) - 有效IP: \${results.length}\`;
                }
            }
            
            // 创建工作线程
            const workers = Array(Math.min(maxConcurrency, ips.length))
                .fill()
                .map(() => worker());
            
            await Promise.all(workers);
            
            return results;
        }
        
        async function startTest() {
            const testBtn = document.getElementById('test-btn');
            const portSelect = document.getElementById('port-select');
            const ipSourceSelect = document.getElementById('ip-source-select');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const ipList = document.getElementById('ip-list');
            const resultCount = document.getElementById('result-count');
            const ipCount = document.getElementById('ip-count');
            const ipDisplayInfo = document.getElementById('ip-display-info');
            const showMoreSection = document.getElementById('show-more-section');
            
            const selectedPort = portSelect.value;
            const selectedIPSource = ipSourceSelect.value;
            
            // 保存当前选择到本地存储
            localStorage.setItem(StorageKeys.PORT, selectedPort);
            localStorage.setItem(StorageKeys.IP_SOURCE, selectedIPSource);
            
            testBtn.disabled = true;
            testBtn.textContent = '加载IP列表...';
            portSelect.disabled = true;
            ipSourceSelect.disabled = true;
            testResults = [];
            displayedResults = []; // 重置显示结果
            showingAll = false; // 重置显示状态
            currentDisplayType = 'loading'; // 设置当前显示类型
            ipList.innerHTML = '<div class="ip-item">正在加载IP列表，请稍候...</div>';
            ipDisplayInfo.textContent = '';
            showMoreSection.style.display = 'none';
            updateButtonStates(); // 更新按钮状态
            
            // 重置进度条
            progressBar.style.width = '0%';
            
            // 根据IP库类型显示对应的加载信息
            let ipSourceName = '';
            switch(selectedIPSource) {
                case 'official':
                    ipSourceName = 'CF官方';
                    break;
                case 'cm':
                    ipSourceName = 'CM整理';
                    break;
                case 'as13335':
                    ipSourceName = 'CF全段';
                    break;
                case 'as209242':
                    ipSourceName = 'CF非官方';
                    break;
                case 'as24429':
                    ipSourceName = 'Alibaba';
                    break;
                case 'as199524':
                    ipSourceName = 'G-Core';
                    break;
                case 'proxyip':
                    ipSourceName = '反代IP';
                    break;
                default:
                    ipSourceName = '未知';
            }
            
            progressText.textContent = '正在加载 ' + ipSourceName + ' IP列表...';
            
            // 加载IP列表
            originalIPs = await loadIPs(selectedIPSource, selectedPort);

            if (originalIPs.length === 0) {
                ipList.innerHTML = '<div class="ip-item">加载IP列表失败，请重试</div>';
                ipCount.textContent = '0 个';
                testBtn.disabled = false;
                testBtn.textContent = '开始延迟测试';
                portSelect.disabled = false;
                ipSourceSelect.disabled = false;
                progressText.textContent = '加载失败';
                return;
            }
            
            // 更新IP数量显示
            ipCount.textContent = originalIPs.length + ' 个';
            
            // 显示加载的IP列表（默认显示前16个）
            displayLoadedIPs();
            
            // 开始测试
            testBtn.textContent = '测试中...';
            progressText.textContent = '开始测试端口 ' + selectedPort + '...';
            currentDisplayType = 'testing'; // 切换到测试状态
            
            // 在测试开始时隐藏显示更多按钮
            showMoreSection.style.display = 'none';
            
            // 使用更高的并发数（从16增加到32）来加快测试速度
            const results = await testIPsWithConcurrency(originalIPs, selectedPort, 32);
            
            // 按延迟排序
            testResults = results.sort((a, b) => a.latency - b.latency);
            
            // 显示结果
            currentDisplayType = 'results'; // 切换到结果显示状态
            showingAll = false; // 重置显示状态
            displayResults();
            
            // 创建地区筛选器
            createRegionFilter();
            
            testBtn.disabled = false;
            testBtn.textContent = '重新测试';
            portSelect.disabled = false;
            ipSourceSelect.disabled = false;
            progressText.textContent = '完成 - 有效IP: ' + testResults.length + '/' + originalIPs.length + ' (端口: ' + selectedPort + ', IP库: ' + ipSourceName + ')';
        }
        
        // 新增：加载IP列表的函数
        async function loadIPs(ipSource, port) {
            try {
                const response = await fetch(\`?loadIPs=\${ipSource}&port=\${port}\`, {
                    method: 'GET'
                });
                
                if (!response.ok) {
                    throw new Error('Failed to load IPs');
                }
                
                const data = await response.json();
                return data.ips || [];
            } catch (error) {
                console.error('加载IP列表失败:', error);
                return [];
            }
        }
        
        function displayResults() {
            const ipList = document.getElementById('ip-list');
            const resultCount = document.getElementById('result-count');
            const showMoreSection = document.getElementById('show-more-section');
            const showMoreBtn = document.getElementById('show-more-btn');
            const ipDisplayInfo = document.getElementById('ip-display-info');
            
            if (testResults.length === 0) {
                ipList.innerHTML = '<div class="ip-item">未找到有效的IP</div>';
                resultCount.textContent = '';
                ipDisplayInfo.textContent = '';
                showMoreSection.style.display = 'none';
                displayedResults = [];
                updateButtonStates();
                return;
            }
            
            // 确定显示数量
            const maxDisplayCount = showingAll ? testResults.length : Math.min(testResults.length, 16);
            displayedResults = testResults.slice(0, maxDisplayCount);
            
            // 更新结果计数显示
            if (testResults.length <= 16) {
                resultCount.textContent = '(共测试出 ' + testResults.length + ' 个有效IP)';
                ipDisplayInfo.textContent = '显示全部 ' + testResults.length + ' 个测试结果';
                showMoreSection.style.display = 'none';
            } else {
                resultCount.textContent = '(共测试出 ' + testResults.length + ' 个有效IP)';
                ipDisplayInfo.textContent = '显示前 ' + maxDisplayCount + ' 个测试结果，共 ' + testResults.length + ' 个有效IP';
                showMoreSection.style.display = 'block';
                showMoreBtn.textContent = showingAll ? '显示更少' : '显示更多';
                showMoreBtn.disabled = false; // 确保在结果显示时启用按钮
            }
            
            const resultsHTML = displayedResults.map(result => {
                let className = 'good-latency';
                if (result.latency > 200) className = 'bad-latency';
                else if (result.latency > 100) className = 'medium-latency';
                
                return '<div class="ip-item ' + className + '">' + result.display + '</div>';
            }).join('');
            
            ipList.innerHTML = resultsHTML;
            updateButtonStates();
        }
        
        // 新增：创建地区筛选器
        function createRegionFilter() {
            // 获取所有唯一的地区代码（使用cca2代码）
            const uniqueRegions = [...new Set(testResults.map(result => result.locationCode))];
            uniqueRegions.sort(); // 按字母顺序排序
            
            const filterContainer = document.getElementById('region-filter');
            if (!filterContainer) return;
            
            if (uniqueRegions.length === 0) {
                filterContainer.style.display = 'none';
                return;
            }
            
            // 创建筛选按钮
            let filterHTML = '<h3>地区筛选：</h3><div class="region-buttons">';
            filterHTML += '<button class="region-btn active" data-region="all">全部 (' + testResults.length + ')</button>';
            
            uniqueRegions.forEach(region => {
                const count = testResults.filter(r => r.locationCode === region).length;
                filterHTML += '<button class="region-btn" data-region="' + region + '">' + region + ' (' + count + ')</button>';
            });
            
            filterHTML += '</div>';
            filterContainer.innerHTML = filterHTML;
            filterContainer.style.display = 'block';
            
            // 添加点击事件
            document.querySelectorAll('.region-btn').forEach(button => {
                button.addEventListener('click', function() {
                    // 更新活动按钮
                    document.querySelectorAll('.region-btn').forEach(btn => {
                        btn.classList.remove('active');
                    });
                    this.classList.add('active');
                    
                    // 筛选结果
                    const selectedRegion = this.getAttribute('data-region');
                    if (selectedRegion === 'all') {
                        displayedResults = [...testResults];
                    } else {
                        displayedResults = testResults.filter(result => result.locationCode === selectedRegion);
                    }
                    
                    // 重置显示状态
                    showingAll = false;
                    displayFilteredResults();
                });
            });
        }
        
        // 新增：显示筛选后的结果
        function displayFilteredResults() {
            const ipList = document.getElementById('ip-list');
            const resultCount = document.getElementById('result-count');
            const showMoreSection = document.getElementById('show-more-section');
            const showMoreBtn = document.getElementById('show-more-btn');
            const ipDisplayInfo = document.getElementById('ip-display-info');
            
            if (displayedResults.length === 0) {
                ipList.innerHTML = '<div class="ip-item">未找到有效的IP</div>';
                resultCount.textContent = '';
                ipDisplayInfo.textContent = '';
                showMoreSection.style.display = 'none';
                updateButtonStates();
                return;
            }
            
            // 确定显示数量
            const maxDisplayCount = showingAll ? displayedResults.length : Math.min(displayedResults.length, 16);
            const currentResults = displayedResults.slice(0, maxDisplayCount);
            
            // 更新结果计数显示
            const totalCount = testResults.length;
            const filteredCount = displayedResults.length;
            
            if (filteredCount <= 16) {
                resultCount.textContent = '(共测试出 ' + totalCount + ' 个有效IP，筛选出 ' + filteredCount + ' 个)';
                ipDisplayInfo.textContent = '显示全部 ' + filteredCount + ' 个筛选结果';
                showMoreSection.style.display = 'none';
            } else {
                resultCount.textContent = '(共测试出 ' + totalCount + ' 个有效IP，筛选出 ' + filteredCount + ' 个)';
                ipDisplayInfo.textContent = '显示前 ' + maxDisplayCount + ' 个筛选结果，共 ' + filteredCount + ' 个';
                showMoreSection.style.display = 'block';
                showMoreBtn.textContent = showingAll ? '显示更少' : '显示更多';
                showMoreBtn.disabled = false;
            }
            
            const resultsHTML = currentResults.map(result => {
                let className = 'good-latency';
                if (result.latency > 200) className = 'bad-latency';
                else if (result.latency > 100) className = 'medium-latency';
                
                return '<div class="ip-item ' + className + '">' + result.display + '</div>';
            }).join('');
            
            ipList.innerHTML = resultsHTML;
            updateButtonStates();
        }
    </script>
    
    </body>
    </html>
    `;_0xgeb0a='\u0064\u0063\u006E\u0070\u0069\u0067';if(_0x57456f['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("\u006C\u006F\u0061\u0064\u0049\u0050\u0073")){var _0xdd925e=(612960^612961)+(887679^887671);const _0x829gb=_0x57456f['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("\u006C\u006F\u0061\u0064\u0049\u0050\u0073");_0xdd925e=647865^647856;const port=_0x57456f['\u0073\u0065\u0061\u0072\u0063\u0068\u0050\u0061\u0072\u0061\u006D\u0073']['\u0067\u0065\u0074']("trop".split("").reverse().join(""))||"344".split("").reverse().join("");const ips=await _0x96eb1d(_0x829gb,port);return new Response(JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({'\u0069\u0070\u0073':ips}),{'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":'application/json'}});}return new Response(_0x2217e,{'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":'text/html; charset=UTF-8'}});}async function getUsage(accountId,email,apikey,apitoken,all=100000){async function _0x1770b(email,apikey,_0x717aca){console['\u006C\u006F\u0067']("\u6B63\u5728\u83B7\u53D6\u8D26\u6237\u4FE1\u606F\u002E\u002E\u002E");var _0x727e0d=(317952^317954)+(740701^740696);const _0xd325bc=await fetch("\u0068\u0074\u0074\u0070\u0073\u003A\u002F\u002F\u0061\u0070\u0069\u002E\u0063\u006C\u006F\u0075\u0064\u0066\u006C\u0061\u0072\u0065\u002E\u0063\u006F\u006D\u002F\u0063\u006C\u0069\u0065\u006E\u0074\u002F\u0076\u0034\u002F\u0061\u0063\u0063\u006F\u0075\u006E\u0074\u0073",{'\u006D\u0065\u0074\u0068\u006F\u0064':"GET",'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':{"Content-Type":"application/json","\u0058\u002D\u0041\u0055\u0054\u0048\u002D\u0045\u004D\u0041\u0049\u004C":email,"\u0058\u002D\u0041\u0055\u0054\u0048\u002D\u004B\u0045\u0059":apikey}});_0x727e0d=(344112^344115)+(390738^390747);if(!_0xd325bc['\u006F\u006B']){var _0x648e8b=(248442^248445)+(241816^241819);const _0x80aa=await _0xd325bc['\u0074\u0065\u0078\u0074']();_0x648e8b=703556^703558;console['\u0065\u0072\u0072\u006F\u0072'](`获取账户信息失败: ${_0xd325bc['\u0073\u0074\u0061\u0074\u0075\u0073']} ${_0xd325bc['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074']}`,_0x80aa);throw new Error(`Cloudflare API 请求失败: ${_0xd325bc['\u0073\u0074\u0061\u0074\u0075\u0073']} ${_0xd325bc['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074']} - ${_0x80aa}`);}const _0x77197g=await _0xd325bc['\u006A\u0073\u006F\u006E']();var _0x4973e;_0x717aca=303817^303817;_0x4973e=(809683^809683)+(842110^842102);let _0xa155a=false;if(_0x77197g?.result&&_0x77197g['\u0072\u0065\u0073\u0075\u006C\u0074']['\u006C\u0065\u006E\u0067\u0074\u0068']>(817789^817788)){console['\u006C\u006F\u0067'](`发现 ${_0x77197g['\u0072\u0065\u0073\u0075\u006C\u0074']['\u006C\u0065\u006E\u0067\u0074\u0068']} 个账户，正在智能匹配...`);var _0x4ge;const _0x41_0xdb7=email['\u0074\u006F\u004C\u006F\u0077\u0065\u0072\u0043\u0061\u0073\u0065']();_0x4ge=(772206^772198)+(748802^748802);console['\u006C\u006F\u0067'](`邮箱: ${_0x41_0xdb7}`);for(let i=238677^238677;i<_0x77197g['\u0072\u0065\u0073\u0075\u006C\u0074']['\u006C\u0065\u006E\u0067\u0074\u0068'];i++){var _0x68dg=(185450^185443)+(338961^338966);const _0xaa_0x34e=_0x77197g['\u0072\u0065\u0073\u0075\u006C\u0074'][i]?.name?.toLowerCase()||'';_0x68dg=(752953^752945)+(673981^673977);console['\u006C\u006F\u0067'](`检查账户 ${i}: ${_0x77197g['\u0072\u0065\u0073\u0075\u006C\u0074'][i]?.name}`);if(_0xaa_0x34e['\u0073\u0074\u0061\u0072\u0074\u0073\u0057\u0069\u0074\u0068'](_0x41_0xdb7)){_0x717aca=i;_0xa155a=!![];console['\u006C\u006F\u0067'](`✅ 找到匹配账户，使用第 ${i} 个账户`);break;}}if(!_0xa155a){console['\u006C\u006F\u0067']("\u6237\u8D26\u4E2A 0 \u7B2C\u8BA4\u9ED8\u7528\u4F7F\uFF0C\u6237\u8D26\u7684\u914D\u5339\u5230\u627E\u672A \u274C".split("").reverse().join(""));}}else if(_0x77197g?.result&&_0x77197g['\u0072\u0065\u0073\u0075\u006C\u0074']['\u006C\u0065\u006E\u0067\u0074\u0068']===(528824^528825)){console['\u006C\u006F\u0067']("\u53EA\u6709\u4E00\u4E2A\u8D26\u6237\uFF0C\u4F7F\u7528\u7B2C\u0020\u0030\u0020\u4E2A\u8D26\u6237");_0xa155a=!![];}var _0xadabed=(353213^353215)+(189913^189916);const _0xac86ce=_0x77197g?.result?.[_0x717aca]?.name;_0xadabed=(911762^911760)+(404884^404881);const _0xabe3ga=_0x77197g?.result?.[_0x717aca]?.id;console['\u006C\u006F\u0067'](`最终选择账户 ${_0x717aca} - 名称: ${_0xac86ce}, ID: ${_0xabe3ga}`);if(!_0xabe3ga){throw new Error("\u9650\u6743IPA\u67E5\u68C0\u8BF7\uFF0CDI\u6237\u8D26\u7684\u6548\u6709\u5230\u4E0D\u627E".split("").reverse().join(""));}return _0xabe3ga;}try{if(!accountId){console['\u006C\u006F\u0067']("...\u53D6\u83B7\u52A8\u81EA\u5728\u6B63\uFF0CDI\u6237\u8D26\u4F9B\u63D0\u672A".split("").reverse().join(""));accountId=await _0x1770b(email,apikey);}const _0xfcg=new Date();const _0xcd860d=_0xfcg['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']();_0xfcg['\u0073\u0065\u0074\u0055\u0054\u0043\u0048\u006F\u0075\u0072\u0073'](557063^557063,138734^138734,877961^877961,986927^986927);const _0x58b=_0xfcg['\u0074\u006F\u0049\u0053\u004F\u0053\u0074\u0072\u0069\u006E\u0067']();console['\u006C\u006F\u0067'](`查询时间范围: ${_0x58b} 到 ${_0xcd860d}`);var _0x1f24b=(433368^433375)+(316078^316073);let _0xb938e={};_0x1f24b=984682^984686;if(apikey){_0xb938e={"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E","\u0058\u002D\u0041\u0055\u0054\u0048\u002D\u0045\u004D\u0041\u0049\u004C":email,"X-AUTH-KEY":apikey};}if(apitoken){_0xb938e={"\u0043\u006F\u006E\u0074\u0065\u006E\u0074\u002D\u0054\u0079\u0070\u0065":"\u0061\u0070\u0070\u006C\u0069\u0063\u0061\u0074\u0069\u006F\u006E\u002F\u006A\u0073\u006F\u006E","\u0041\u0075\u0074\u0068\u006F\u0072\u0069\u007A\u0061\u0074\u0069\u006F\u006E":`Bearer ${apitoken}`};}const response=await fetch("lqhparg/4v/tneilc/moc.eralfduolc.ipa//:sptth".split("").reverse().join(""),{'\u006D\u0065\u0074\u0068\u006F\u0064':"POST",'\u0068\u0065\u0061\u0064\u0065\u0072\u0073':_0xb938e,"body":JSON['\u0073\u0074\u0072\u0069\u006E\u0067\u0069\u0066\u0079']({'\u0071\u0075\u0065\u0072\u0079':`query getBillingMetrics($accountId: String!, $filter: AccountWorkersInvocationsAdaptiveFilter_InputObject) {
                    viewer {
                        accounts(filter: {accountTag: $accountId}) {
                            pagesFunctionsInvocationsAdaptiveGroups(limit: 1000, filter: $filter) {
                                sum {
                                    requests
                                }
                            }
                            workersInvocationsAdaptive(limit: 10000, filter: $filter) {
                                sum {
                                    requests
                                }
                            }
                        }
                    }
                }`,"variables":{'\u0061\u0063\u0063\u006F\u0075\u006E\u0074\u0049\u0064':accountId,"filter":{"datetime_geq":_0x58b,'\u0064\u0061\u0074\u0065\u0074\u0069\u006D\u0065\u005F\u006C\u0065\u0071':_0xcd860d}}})});if(!response['\u006F\u006B']){const errorText=await response['\u0074\u0065\u0078\u0074']();console['\u0065\u0072\u0072\u006F\u0072'](`GraphQL查询失败: ${response['\u0073\u0074\u0061\u0074\u0075\u0073']} ${response['\u0073\u0074\u0061\u0074\u0075\u0073\u0054\u0065\u0078\u0074']}`,errorText);console['\u006C\u006F\u0067']("0\u4E3A\u90E8\u5168\uFF1A\u503C\u8BA4\u9ED8\u56DE\u8FD4".split("").reverse().join(""));return[all,747294^747294,546791^546791,736155^736155];}const res=await response['\u006A\u0073\u006F\u006E']();if(res['\u0065\u0072\u0072\u006F\u0072\u0073']&&res['\u0065\u0072\u0072\u006F\u0072\u0073']['\u006C\u0065\u006E\u0067\u0074\u0068']>(986359^986359)){console['\u0065\u0072\u0072\u006F\u0072']("\u0047\u0072\u0061\u0070\u0068\u0051\u004C\u67E5\u8BE2\u9519\u8BEF\u003A",res['\u0065\u0072\u0072\u006F\u0072\u0073'][311934^311934]['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);console['\u006C\u006F\u0067']("0\u4E3A\u90E8\u5168\uFF1A\u503C\u8BA4\u9ED8\u56DE\u8FD4".split("").reverse().join(""));return[all,245778^245778,412069^412069,564509^564509];}var _0x87cefc=(295509^295507)+(759934^759926);const _0xb5b3b=res?.data?.viewer?.accounts?.[880723^880723];_0x87cefc=222597^222604;if(!_0xb5b3b){console['\u0077\u0061\u0072\u006E']("\u636E\u6570\u6237\u8D26\u5230\u627E\u672A".split("").reverse().join(""));return[all,553187^553187,394518^394518,240428^240428];}var _0xd4dde=(353117^353115)+(646613^646615);const _0xdbab8e=_0xb5b3b?.pagesFunctionsInvocationsAdaptiveGroups||[];_0xd4dde=(450733^450725)+(360502^360499);var _0x23bc=(402221^402217)+(451707^451699);const _0x8d736d=_0xdbab8e['\u0072\u0065\u0064\u0075\u0063\u0065']((total,item)=>{return total+(item?.sum?.requests||894362^894362);},792288^792288);_0x23bc=(536652^536649)+(744731^744730);const _0x9deff=_0xb5b3b?.workersInvocationsAdaptive||[];var _0x14cd5b=(549605^549600)+(825412^825413);const _0x42b28b=_0x9deff['\u0072\u0065\u0064\u0075\u0063\u0065']((total,item)=>{return total+(item?.sum?.requests||289782^289782);},957574^957574);_0x14cd5b=(649834^649839)+(467662^467658);var _0xe3_0xfg1=(474811^474808)+(504972^504972);const _0x85fa8d=_0x8d736d+_0x42b28b;_0xe3_0xfg1=(201238^201232)+(859362^859362);console['\u006C\u006F\u0067'](`统计结果 - Pages: ${_0x8d736d}, Workers: ${_0x42b28b}, 总计: ${_0x85fa8d}`);return[all,_0x8d736d||899161^899161,_0x42b28b||800180^800180,_0x85fa8d||749638^749638];}catch(error){console['\u0065\u0072\u0072\u006F\u0072'](":\u8BEF\u9519\u751F\u53D1\u65F6\u91CF\u7528\u4F7F\u53D6\u83B7".split("").reverse().join(""),error['\u006D\u0065\u0073\u0073\u0061\u0067\u0065']);return[all,887376^887376,475779^475779,616658^616658];}}async function nginx(){var _0x75ea;const _0x5e7b4b=`
	<!DOCTYPE html>
	<html>
	<head>
	<title>Welcome to nginx!</title>
	<style>
		body {
			width: 35em;
			margin: 0 auto;
			font-family: Tahoma, Verdana, Arial, sans-serif;
		}
	</style>
	</head>
	<body>
	<h1>Welcome to nginx!</h1>
	<p>If you see this page, the nginx web server is successfully installed and
	working. Further configuration is required.</p>
	
	<p>For online documentation and support please refer to
	<a href="http://nginx.org/">nginx.org</a>.<br/>
	Commercial support is available at
	<a href="http://nginx.com/">nginx.com</a>.</p>
	
	<p><em>Thank you for using nginx.</em></p>
	</body>
	</html>
	`;_0x75ea=(611263^611261)+(550242^550245);return _0x5e7b4b;}
